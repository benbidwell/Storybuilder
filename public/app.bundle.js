webpackJsonp([0],[,function(module,exports,__webpack_require__){"use strict";(function(global){var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var hof_1=__webpack_require__(4);var coreservices_1=__webpack_require__(8);exports.root=(typeof self==="undefined"?"undefined":_typeof(self))==="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":_typeof(global))==="object"&&global.global===global&&global||undefined;var angular=exports.root.angular||{};exports.fromJson=angular.fromJson||JSON.parse.bind(JSON);exports.toJson=angular.toJson||JSON.stringify.bind(JSON);exports.forEach=angular.forEach||_forEach;exports.extend=Object.assign||_extend;exports.equals=angular.equals||_equals;function identity(x){return x}exports.identity=identity;function noop(){}exports.noop=noop;function createProxyFunctions(source,target,bind,fnNames,latebind){if(latebind===void 0){latebind=false}var bindFunction=function bindFunction(fnName){return source()[fnName].bind(bind())};var makeLateRebindFn=function makeLateRebindFn(fnName){return function lateRebindFunction(){target[fnName]=bindFunction(fnName);return target[fnName].apply(null,arguments)}};fnNames=fnNames||Object.keys(source());return fnNames.reduce(function(acc,name){acc[name]=latebind?makeLateRebindFn(name):bindFunction(name);return acc},target)}exports.createProxyFunctions=createProxyFunctions;exports.inherit=function(parent,extra){return exports.extend(Object.create(parent),extra)};exports.inArray=hof_1.curry(_inArray);function _inArray(array,obj){return array.indexOf(obj)!==-1}exports._inArray=_inArray;exports.removeFrom=hof_1.curry(_removeFrom);function _removeFrom(array,obj){var idx=array.indexOf(obj);if(idx>=0)array.splice(idx,1);return array}exports._removeFrom=_removeFrom;exports.pushTo=hof_1.curry(_pushTo);function _pushTo(arr,val){return arr.push(val),val}exports._pushTo=_pushTo;exports.deregAll=function(functions){return functions.slice().forEach(function(fn){typeof fn==="function"&&fn();exports.removeFrom(functions,fn)})};function defaults(opts){var defaultsList=[];for(var _i=1;_i<arguments.length;_i++){defaultsList[_i-1]=arguments[_i]}var _defaultsList=defaultsList.concat({}).reverse();var defaultVals=exports.extend.apply(null,_defaultsList);return exports.extend({},defaultVals,pick(opts||{},Object.keys(defaultVals)))}exports.defaults=defaults;exports.mergeR=function(memo,item){return exports.extend(memo,item)};function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}exports.ancestors=ancestors;function pick(obj,propNames){var objCopy={};for(var _prop in obj){if(propNames.indexOf(_prop)!==-1){objCopy[_prop]=obj[_prop]}}return objCopy}exports.pick=pick;function omit(obj,propNames){return Object.keys(obj).filter(hof_1.not(exports.inArray(propNames))).reduce(function(acc,key){return acc[key]=obj[key],acc},{})}exports.omit=omit;function pluck(collection,propName){return map(collection,hof_1.prop(propName))}exports.pluck=pluck;function filter(collection,callback){var arr=predicates_1.isArray(collection),result=arr?[]:{};var accept=arr?function(x){return result.push(x)}:function(x,key){return result[key]=x};exports.forEach(collection,function(item,i){if(callback(item,i))accept(item,i)});return result}exports.filter=filter;function find(collection,callback){var result;exports.forEach(collection,function(item,i){if(result)return;if(callback(item,i))result=item});return result}exports.find=find;exports.mapObj=map;function map(collection,callback,target){target=target||(predicates_1.isArray(collection)?[]:{});exports.forEach(collection,function(item,i){return target[i]=callback(item,i)});return target}exports.map=map;exports.values=function(obj){return Object.keys(obj).map(function(key){return obj[key]})};exports.allTrueR=function(memo,elem){return memo&&elem};exports.anyTrueR=function(memo,elem){return memo||elem};exports.unnestR=function(memo,elem){return memo.concat(elem)};exports.flattenR=function(memo,elem){return predicates_1.isArray(elem)?memo.concat(elem.reduce(exports.flattenR,[])):pushR(memo,elem)};function pushR(arr,obj){arr.push(obj);return arr}exports.pushR=pushR;exports.uniqR=function(acc,token){return exports.inArray(acc,token)?acc:pushR(acc,token)};exports.unnest=function(arr){return arr.reduce(exports.unnestR,[])};exports.flatten=function(arr){return arr.reduce(exports.flattenR,[])};exports.assertPredicate=assertFn;exports.assertMap=assertFn;function assertFn(predicateOrMap,errMsg){if(errMsg===void 0){errMsg="assert failure"}return function(obj){var result=predicateOrMap(obj);if(!result){throw new Error(predicates_1.isFunction(errMsg)?errMsg(obj):errMsg)}return result}}exports.assertFn=assertFn;exports.pairs=function(obj){return Object.keys(obj).map(function(key){return[key,obj[key]]})};function arrayTuples(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(args.length===0)return[];var maxArrayLen=args.reduce(function(min,arr){return Math.min(arr.length,min)},9007199254740991);var result=[];var _loop_1=function _loop_1(i){switch(args.length){case 1:result.push([args[0][i]]);break;case 2:result.push([args[0][i],args[1][i]]);break;case 3:result.push([args[0][i],args[1][i],args[2][i]]);break;case 4:result.push([args[0][i],args[1][i],args[2][i],args[3][i]]);break;default:result.push(args.map(function(array){return array[i]}));break}};for(var i=0;i<maxArrayLen;i++){_loop_1(i)}return result}exports.arrayTuples=arrayTuples;function applyPairs(memo,keyValTuple){var key,value;if(predicates_1.isArray(keyValTuple))key=keyValTuple[0],value=keyValTuple[1];if(!predicates_1.isString(key))throw new Error("invalid parameters to applyPairs");memo[key]=value;return memo}exports.applyPairs=applyPairs;function tail(arr){return arr.length&&arr[arr.length-1]||undefined}exports.tail=tail;function copy(src,dest){if(dest)Object.keys(dest).forEach(function(key){return delete dest[key]});if(!dest)dest={};return exports.extend(dest,src)}exports.copy=copy;function _forEach(obj,cb,_this){if(predicates_1.isArray(obj))return obj.forEach(cb,_this);Object.keys(obj).forEach(function(key){return cb(obj[key],key)})}function _extend(toObj){for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj)continue;var keys=Object.keys(obj);for(var j=0;j<keys.length;j++){toObj[keys[j]]=obj[keys[j]]}}return toObj}exports._extend=_extend;function _equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1==="undefined"?"undefined":_typeof(o1),t2=typeof o2==="undefined"?"undefined":_typeof(o2);if(t1!==t2||t1!=="object")return false;var tup=[o1,o2];if(hof_1.all(predicates_1.isArray)(tup))return _arraysEq(o1,o2);if(hof_1.all(predicates_1.isDate)(tup))return o1.getTime()===o2.getTime();if(hof_1.all(predicates_1.isRegExp)(tup))return o1.toString()===o2.toString();if(hof_1.all(predicates_1.isFunction)(tup))return true;var predicates=[predicates_1.isFunction,predicates_1.isArray,predicates_1.isDate,predicates_1.isRegExp];if(predicates.map(hof_1.any).reduce(function(b,fn){return b||!!fn(tup)},false))return false;var keys={};for(var key in o1){if(!_equals(o1[key],o2[key]))return false;keys[key]=true}for(var key in o2){if(!keys[key])return false}return true}function _arraysEq(a1,a2){if(a1.length!==a2.length)return false;return arrayTuples(a1,a2).reduce(function(b,t){return b&&_equals(t[0],t[1])},true)}exports.silenceUncaughtInPromise=function(promise){return promise.catch(function(e){return 0})&&promise};exports.silentRejection=function(error){return exports.silenceUncaughtInPromise(coreservices_1.services.$q.reject(error))}}).call(exports,__webpack_require__(136))},,function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var hof_1=__webpack_require__(4);var stateObject_1=__webpack_require__(52);var toStr=Object.prototype.toString;var tis=function tis(t){return function(x){return(typeof x==="undefined"?"undefined":_typeof(x))===t}};exports.isUndefined=tis("undefined");exports.isDefined=hof_1.not(exports.isUndefined);exports.isNull=function(o){return o===null};exports.isNullOrUndefined=hof_1.or(exports.isNull,exports.isUndefined);exports.isFunction=tis("function");exports.isNumber=tis("number");exports.isString=tis("string");exports.isObject=function(x){return x!==null&&(typeof x==="undefined"?"undefined":_typeof(x))==="object"};exports.isArray=Array.isArray;exports.isDate=function(x){return toStr.call(x)==="[object Date]"};exports.isRegExp=function(x){return toStr.call(x)==="[object RegExp]"};exports.isState=stateObject_1.StateObject.isState;function isInjectable(val){if(exports.isArray(val)&&val.length){var head=val.slice(0,-1),tail=val.slice(-1);return!(head.filter(hof_1.not(exports.isString)).length||tail.filter(hof_1.not(exports.isFunction)).length)}return exports.isFunction(val)}exports.isInjectable=isInjectable;exports.isPromise=hof_1.and(exports.isObject,hof_1.pipe(hof_1.prop("then"),exports.isFunction))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function curry(fn){var initial_args=[].slice.apply(arguments,[1]);var func_args_length=fn.length;function curried(args){if(args.length>=func_args_length)return fn.apply(null,args);return function(){return curried(args.concat([].slice.apply(arguments)))}}return curried(initial_args)}exports.curry=curry;function compose(){var args=arguments;var start=args.length-1;return function(){var i=start,result=args[start].apply(this,arguments);while(i--){result=args[i].call(this,result)}return result}}exports.compose=compose;function pipe(){var funcs=[];for(var _i=0;_i<arguments.length;_i++){funcs[_i]=arguments[_i]}return compose.apply(null,[].slice.call(arguments).reverse())}exports.pipe=pipe;exports.prop=function(name){return function(obj){return obj&&obj[name]}};exports.propEq=curry(function(name,_val,obj){return obj&&obj[name]===_val});exports.parse=function(name){return pipe.apply(null,name.split(".").map(exports.prop))};exports.not=function(fn){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return!fn.apply(null,args)}};function and(fn1,fn2){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return fn1.apply(null,args)&&fn2.apply(null,args)}}exports.and=and;function or(fn1,fn2){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return fn1.apply(null,args)||fn2.apply(null,args)}}exports.or=or;exports.all=function(fn1){return function(arr){return arr.reduce(function(b,x){return b&&!!fn1(x)},true)}};exports.any=function(fn1){return function(arr){return arr.reduce(function(b,x){return b||!!fn1(x)},false)}};exports.is=function(ctor){return function(obj){return obj!=null&&obj.constructor===ctor||obj instanceof ctor}};exports.eq=function(value){return function(other){return value===other}};exports.val=function(v){return function(){return v}};function invoke(fnName,args){return function(obj){return obj[fnName].apply(obj,args)}}exports.invoke=invoke;function pattern(struct){return function(x){for(var i=0;i<struct.length;i++){if(struct[i][0](x))return struct[i][1](x)}}}exports.pattern=pattern},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.notImplemented=function(fnname){return function(){throw new Error(fnname+"(): No coreservices implementation for UI-Router is loaded.")}};var services={$q:undefined,$injector:undefined};exports.services=services},,function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(1));__export(__webpack_require__(8));__export(__webpack_require__(48));__export(__webpack_require__(4));__export(__webpack_require__(3));__export(__webpack_require__(49));__export(__webpack_require__(12));__export(__webpack_require__(14))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var rejectFactory_1=__webpack_require__(25);var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var transition_1=__webpack_require__(34);var resolvable_1=__webpack_require__(24);function maxLength(max,str){if(str.length<=max)return str;return str.substr(0,max-3)+"..."}exports.maxLength=maxLength;function padString(length,str){while(str.length<length){str+=" "}return str}exports.padString=padString;function kebobString(camelCase){return camelCase.replace(/^([A-Z])/,function($1){return $1.toLowerCase()}).replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}exports.kebobString=kebobString;function _toJson(obj){return JSON.stringify(obj)}function _fromJson(json){return predicates_1.isString(json)?JSON.parse(json):json}function promiseToString(p){return"Promise("+JSON.stringify(p)+")"}function functionToString(fn){var fnStr=fnToString(fn);var namedFunctionMatch=fnStr.match(/^(function [^ ]+\([^)]*\))/);var toStr=namedFunctionMatch?namedFunctionMatch[1]:fnStr;var fnName=fn["name"]||"";if(fnName&&toStr.match(/function \(/)){return"function "+fnName+toStr.substr(9)}return toStr}exports.functionToString=functionToString;function fnToString(fn){var _fn=predicates_1.isArray(fn)?fn.slice(-1)[0]:fn;return _fn&&_fn.toString()||"undefined"}exports.fnToString=fnToString;var stringifyPatternFn=null;var stringifyPattern=function stringifyPattern(value){var isRejection=rejectFactory_1.Rejection.isRejectionPromise;stringifyPatternFn=stringifyPatternFn||hof_1.pattern([[hof_1.not(predicates_1.isDefined),hof_1.val("undefined")],[predicates_1.isNull,hof_1.val("null")],[predicates_1.isPromise,hof_1.val("[Promise]")],[isRejection,function(x){return x._transitionRejection.toString()}],[hof_1.is(rejectFactory_1.Rejection),hof_1.invoke("toString")],[hof_1.is(transition_1.Transition),hof_1.invoke("toString")],[hof_1.is(resolvable_1.Resolvable),hof_1.invoke("toString")],[predicates_1.isInjectable,functionToString],[hof_1.val(true),common_1.identity]]);return stringifyPatternFn(value)};function stringify(o){var seen=[];function format(value){if(predicates_1.isObject(value)){if(seen.indexOf(value)!==-1)return"[circular ref]";seen.push(value)}return stringifyPattern(value)}return JSON.stringify(o,function(key,value){return format(value)}).replace(/\\"/g,'"')}exports.stringify=stringify;exports.beforeAfterSubstr=function(char){return function(str){if(!str)return["",""];var idx=str.indexOf(char);if(idx===-1)return[str,""];return[str.substr(0,idx),str.substr(idx+1)]}};exports.hostRegex=new RegExp("^(?:[a-z]+:)?//[^/]+/");exports.stripLastPathElement=function(str){return str.replace(/\/[^/]*$/,"")};exports.splitHash=exports.beforeAfterSubstr("#");exports.splitQuery=exports.beforeAfterSubstr("?");exports.splitEqual=exports.beforeAfterSubstr("=");exports.trimHashVal=function(str){return str?str.replace(/^#/,""):""};function splitOnDelim(delim){var re=new RegExp("("+delim+")","g");return function(str){return str.split(re).filter(common_1.identity)}}exports.splitOnDelim=splitOnDelim;function joinNeighborsR(acc,x){if(predicates_1.isString(common_1.tail(acc))&&predicates_1.isString(x))return acc.slice(0,-1).concat(common_1.tail(acc)+x);return common_1.pushR(acc,x)}exports.joinNeighborsR=joinNeighborsR},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var hof_1=__webpack_require__(4);var predicates_1=__webpack_require__(3);var strings_1=__webpack_require__(12);function uiViewString(uiview){if(!uiview)return"ui-view (defunct)";var state=uiview.creationContext?uiview.creationContext.name||"(root)":"(none)";return"[ui-view#"+uiview.id+" "+uiview.$type+":"+uiview.fqn+" ("+uiview.name+"@"+state+")]"}var viewConfigString=function viewConfigString(viewConfig){var view=viewConfig.viewDecl;var state=view.$context.name||"(root)";return"[View#"+viewConfig.$id+" from '"+state+"' state]: target ui-view: '"+view.$uiViewName+"@"+view.$uiViewContextAnchor+"'"};function normalizedCat(input){return predicates_1.isNumber(input)?Category[input]:Category[Category[input]]}var consoleLog=Function.prototype.bind.call(console.log,console);var consoletable=predicates_1.isFunction(console.table)?console.table.bind(console):consoleLog.bind(console);var Category;(function(Category){Category[Category["RESOLVE"]=0]="RESOLVE";Category[Category["TRANSITION"]=1]="TRANSITION";Category[Category["HOOK"]=2]="HOOK";Category[Category["UIVIEW"]=3]="UIVIEW";Category[Category["VIEWCONFIG"]=4]="VIEWCONFIG"})(Category=exports.Category||(exports.Category={}));var _tid=hof_1.parse("$id");var _rid=hof_1.parse("router.$id");var transLbl=function transLbl(trans){return"Transition #"+_tid(trans)+"-"+_rid(trans)};var Trace=function(){function Trace(){this._enabled={};this.approximateDigests=0}Trace.prototype._set=function(enabled,categories){var _this=this;if(!categories.length){categories=Object.keys(Category).map(function(k){return parseInt(k,10)}).filter(function(k){return!isNaN(k)}).map(function(key){return Category[key]})}categories.map(normalizedCat).forEach(function(category){return _this._enabled[category]=enabled})};Trace.prototype.enable=function(){var categories=[];for(var _i=0;_i<arguments.length;_i++){categories[_i]=arguments[_i]}this._set(true,categories)};Trace.prototype.disable=function(){var categories=[];for(var _i=0;_i<arguments.length;_i++){categories[_i]=arguments[_i]}this._set(false,categories)};Trace.prototype.enabled=function(category){return!!this._enabled[normalizedCat(category)]};Trace.prototype.traceTransitionStart=function(trans){if(!this.enabled(Category.TRANSITION))return;console.log(transLbl(trans)+": Started  -> "+strings_1.stringify(trans))};Trace.prototype.traceTransitionIgnored=function(trans){if(!this.enabled(Category.TRANSITION))return;console.log(transLbl(trans)+": Ignored  <> "+strings_1.stringify(trans))};Trace.prototype.traceHookInvocation=function(step,trans,options){if(!this.enabled(Category.HOOK))return;var event=hof_1.parse("traceData.hookType")(options)||"internal",context=hof_1.parse("traceData.context.state.name")(options)||hof_1.parse("traceData.context")(options)||"unknown",name=strings_1.functionToString(step.registeredHook.callback);console.log(transLbl(trans)+":   Hook -> "+event+" context: "+context+", "+strings_1.maxLength(200,name))};Trace.prototype.traceHookResult=function(hookResult,trans,transitionOptions){if(!this.enabled(Category.HOOK))return;console.log(transLbl(trans)+":   <- Hook returned: "+strings_1.maxLength(200,strings_1.stringify(hookResult)))};Trace.prototype.traceResolvePath=function(path,when,trans){if(!this.enabled(Category.RESOLVE))return;console.log(transLbl(trans)+":         Resolving "+path+" ("+when+")")};Trace.prototype.traceResolvableResolved=function(resolvable,trans){if(!this.enabled(Category.RESOLVE))return;console.log(transLbl(trans)+":               <- Resolved  "+resolvable+" to: "+strings_1.maxLength(200,strings_1.stringify(resolvable.data)))};Trace.prototype.traceError=function(reason,trans){if(!this.enabled(Category.TRANSITION))return;console.log(transLbl(trans)+": <- Rejected "+strings_1.stringify(trans)+", reason: "+reason)};Trace.prototype.traceSuccess=function(finalState,trans){if(!this.enabled(Category.TRANSITION))return;console.log(transLbl(trans)+": <- Success  "+strings_1.stringify(trans)+", final state: "+finalState.name)};Trace.prototype.traceUIViewEvent=function(event,viewData,extra){if(extra===void 0){extra=""}if(!this.enabled(Category.UIVIEW))return;console.log("ui-view: "+strings_1.padString(30,event)+" "+uiViewString(viewData)+extra)};Trace.prototype.traceUIViewConfigUpdated=function(viewData,context){if(!this.enabled(Category.UIVIEW))return;this.traceUIViewEvent("Updating",viewData," with ViewConfig from context='"+context+"'")};Trace.prototype.traceUIViewFill=function(viewData,html){if(!this.enabled(Category.UIVIEW))return;this.traceUIViewEvent("Fill",viewData," with: "+strings_1.maxLength(200,html))};Trace.prototype.traceViewSync=function(pairs){if(!this.enabled(Category.VIEWCONFIG))return;var uivheader="uiview component fqn";var cfgheader="view config state (view name)";var mapping=pairs.map(function(_a){var uiView=_a.uiView,viewConfig=_a.viewConfig;var uiv=uiView&&uiView.fqn;var cfg=viewConfig&&viewConfig.viewDecl.$context.name+": ("+viewConfig.viewDecl.$name+")";return _b={},_b[uivheader]=uiv,_b[cfgheader]=cfg,_b;var _b}).sort(function(a,b){return(a[uivheader]||"").localeCompare(b[uivheader]||"")});consoletable(mapping)};Trace.prototype.traceViewServiceEvent=function(event,viewConfig){if(!this.enabled(Category.VIEWCONFIG))return;console.log("VIEWCONFIG: "+event+" "+viewConfigString(viewConfig))};Trace.prototype.traceViewServiceUIViewEvent=function(event,viewData){if(!this.enabled(Category.VIEWCONFIG))return;console.log("VIEWCONFIG: "+event+" "+uiViewString(viewData))};return Trace}();exports.Trace=Trace;var trace=new Trace;exports.trace=trace},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var predicates_1=__webpack_require__(3);var coreservices_1=__webpack_require__(8);var paramType_1=__webpack_require__(50);var hasOwn=Object.prototype.hasOwnProperty;var isShorthand=function isShorthand(cfg){return["value","type","squash","array","dynamic"].filter(hasOwn.bind(cfg||{})).length===0};var DefType;(function(DefType){DefType[DefType["PATH"]=0]="PATH";DefType[DefType["SEARCH"]=1]="SEARCH";DefType[DefType["CONFIG"]=2]="CONFIG"})(DefType=exports.DefType||(exports.DefType={}));function unwrapShorthand(cfg){cfg=isShorthand(cfg)&&{value:cfg}||cfg;getStaticDefaultValue["__cacheable"]=true;function getStaticDefaultValue(){return cfg.value}return common_1.extend(cfg,{$$fn:predicates_1.isInjectable(cfg.value)?cfg.value:getStaticDefaultValue})}function getType(cfg,urlType,location,id,paramTypes){if(cfg.type&&urlType&&urlType.name!=="string")throw new Error("Param '"+id+"' has two type configurations.");if(cfg.type&&urlType&&urlType.name==="string"&&paramTypes.type(cfg.type))return paramTypes.type(cfg.type);if(urlType)return urlType;if(!cfg.type){var type=location===DefType.CONFIG?"any":location===DefType.PATH?"path":location===DefType.SEARCH?"query":"string";return paramTypes.type(type)}return cfg.type instanceof paramType_1.ParamType?cfg.type:paramTypes.type(cfg.type)}function getSquashPolicy(config,isOptional,defaultPolicy){var squash=config.squash;if(!isOptional||squash===false)return false;if(!predicates_1.isDefined(squash)||squash==null)return defaultPolicy;if(squash===true||predicates_1.isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];var replace=predicates_1.isArray(config.replace)?config.replace:[];if(predicates_1.isString(squash))replace.push({from:squash,to:undefined});var configuredKeys=common_1.map(replace,hof_1.prop("from"));return common_1.filter(defaultPolicy,function(item){return configuredKeys.indexOf(item.from)===-1}).concat(replace)}var Param=function(){function Param(id,type,config,location,urlMatcherFactory){config=unwrapShorthand(config);type=getType(config,type,location,id,urlMatcherFactory.paramTypes);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,location===DefType.SEARCH):type;var isOptional=config.value!==undefined||location===DefType.SEARCH;var dynamic=predicates_1.isDefined(config.dynamic)?!!config.dynamic:!!type.dynamic;var raw=predicates_1.isDefined(config.raw)?!!config.raw:!!type.raw;var squash=getSquashPolicy(config,isOptional,urlMatcherFactory.defaultSquashPolicy());var replace=getReplace(config,arrayMode,isOptional,squash);var inherit=predicates_1.isDefined(config.inherit)?!!config.inherit:!!type.inherit;function getArrayMode(){var arrayDefaults={array:location===DefType.SEARCH?"auto":false};var arrayParamNomenclature=id.match(/\[\]$/)?{array:true}:{};return common_1.extend(arrayDefaults,arrayParamNomenclature,config).array}common_1.extend(this,{id:id,type:type,location:location,isOptional:isOptional,dynamic:dynamic,raw:raw,squash:squash,replace:replace,inherit:inherit,array:arrayMode,config:config})}Param.values=function(params,values){if(values===void 0){values={}}var paramValues={};for(var _i=0,params_1=params;_i<params_1.length;_i++){var param=params_1[_i];paramValues[param.id]=param.value(values[param.id])}return paramValues};Param.changed=function(params,values1,values2){if(values1===void 0){values1={}}if(values2===void 0){values2={}}return params.filter(function(param){return!param.type.equals(values1[param.id],values2[param.id])})};Param.equals=function(params,values1,values2){if(values1===void 0){values1={}}if(values2===void 0){values2={}}return Param.changed(params,values1,values2).length===0};Param.validates=function(params,values){if(values===void 0){values={}}return params.map(function(param){return param.validates(values[param.id])}).reduce(common_1.allTrueR,true)};Param.prototype.isDefaultValue=function(value){return this.isOptional&&this.type.equals(this.value(),value)};Param.prototype.value=function(value){var _this=this;var getDefaultValue=function getDefaultValue(){if(_this._defaultValueCache)return _this._defaultValueCache.defaultValue;if(!coreservices_1.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=coreservices_1.services.$injector.invoke(_this.config.$$fn);if(defaultValue!==null&&defaultValue!==undefined&&!_this.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+_this.id+"' is not an instance of ParamType ("+_this.type.name+")");if(_this.config.$$fn["__cacheable"]){_this._defaultValueCache={defaultValue:defaultValue}}return defaultValue};var replaceSpecialValues=function replaceSpecialValues(val){for(var _i=0,_a=_this.replace;_i<_a.length;_i++){var tuple=_a[_i];if(tuple.from===val)return tuple.to}return val};value=replaceSpecialValues(value);return predicates_1.isUndefined(value)?getDefaultValue():this.type.$normalize(value)};Param.prototype.isSearch=function(){return this.location===DefType.SEARCH};Param.prototype.validates=function(value){if((predicates_1.isUndefined(value)||value===null)&&this.isOptional)return true;var normalized=this.type.$normalize(value);if(!this.type.is(normalized))return false;var encoded=this.type.encode(normalized);return!(predicates_1.isString(encoded)&&!this.type.pattern.exec(encoded))};Param.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"};return Param}();exports.Param=Param},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var strings_1=__webpack_require__(12);var common_1=__webpack_require__(10);var TargetState=function(){function TargetState(_stateRegistry,_identifier,_params,_options){this._stateRegistry=_stateRegistry;this._identifier=_identifier;this._identifier=_identifier;this._params=common_1.extend({},_params||{});this._options=common_1.extend({},_options||{});this._definition=_stateRegistry.matcher.find(_identifier,this._options.relative)}TargetState.prototype.name=function(){return this._definition&&this._definition.name||this._identifier};TargetState.prototype.identifier=function(){return this._identifier};TargetState.prototype.params=function(){return this._params};TargetState.prototype.$state=function(){return this._definition};TargetState.prototype.state=function(){return this._definition&&this._definition.self};TargetState.prototype.options=function(){return this._options};TargetState.prototype.exists=function(){return!!(this._definition&&this._definition.self)};TargetState.prototype.valid=function(){return!this.error()};TargetState.prototype.error=function(){var base=this.options().relative;if(!this._definition&&!!base){var stateName=base.name?base.name:base;return"Could not resolve '"+this.name()+"' from state '"+stateName+"'"}if(!this._definition)return"No such state '"+this.name()+"'";if(!this._definition.self)return"State '"+this.name()+"' has an invalid definition"};TargetState.prototype.toString=function(){return"'"+this.name()+"'"+strings_1.stringify(this.params())};TargetState.prototype.withState=function(state){return new TargetState(this._stateRegistry,state,this._params,this._options)};TargetState.prototype.withParams=function(params,replace){if(replace===void 0){replace=false}var newParams=replace?params:common_1.extend({},this._params,params);return new TargetState(this._stateRegistry,this._identifier,newParams,this._options)};TargetState.prototype.withOptions=function(options,replace){if(replace===void 0){replace=false}var newOpts=replace?options:common_1.extend({},this._options,options);return new TargetState(this._stateRegistry,this._identifier,this._params,newOpts)};TargetState.isDef=function(obj){return obj&&obj.state&&(predicates_1.isString(obj.state)||predicates_1.isString(obj.state.name))};return TargetState}();exports.TargetState=TargetState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TransitionHookPhase;(function(TransitionHookPhase){TransitionHookPhase[TransitionHookPhase["CREATE"]=0]="CREATE";TransitionHookPhase[TransitionHookPhase["BEFORE"]=1]="BEFORE";TransitionHookPhase[TransitionHookPhase["RUN"]=2]="RUN";TransitionHookPhase[TransitionHookPhase["SUCCESS"]=3]="SUCCESS";TransitionHookPhase[TransitionHookPhase["ERROR"]=4]="ERROR"})(TransitionHookPhase=exports.TransitionHookPhase||(exports.TransitionHookPhase={}));var TransitionHookScope;(function(TransitionHookScope){TransitionHookScope[TransitionHookScope["TRANSITION"]=0]="TRANSITION";TransitionHookScope[TransitionHookScope["STATE"]=1]="STATE"})(TransitionHookScope=exports.TransitionHookScope||(exports.TransitionHookScope={}))},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var coreservices_1=__webpack_require__(8);var trace_1=__webpack_require__(14);var strings_1=__webpack_require__(12);var predicates_1=__webpack_require__(3);var predicates_2=__webpack_require__(3);exports.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var Resolvable=function(){function Resolvable(arg1,resolveFn,deps,policy,data){this.resolved=false;this.promise=undefined;if(arg1 instanceof Resolvable){common_1.extend(this,arg1)}else if(predicates_1.isFunction(resolveFn)){if(predicates_2.isNullOrUndefined(arg1))throw new Error("new Resolvable(): token argument is required");if(!predicates_1.isFunction(resolveFn))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=arg1;this.policy=policy;this.resolveFn=resolveFn;this.deps=deps||[];this.data=data;this.resolved=data!==undefined;this.promise=this.resolved?coreservices_1.services.$q.when(this.data):undefined}else if(predicates_1.isObject(arg1)&&arg1.token&&(arg1.hasOwnProperty("resolveFn")||arg1.hasOwnProperty("data"))){var literal=arg1;return new Resolvable(literal.token,literal.resolveFn,literal.deps,literal.policy,literal.data)}}Resolvable.prototype.getPolicy=function(state){var thisPolicy=this.policy||{};var statePolicy=state&&state.resolvePolicy||{};return{when:thisPolicy.when||statePolicy.when||exports.defaultResolvePolicy.when,async:thisPolicy.async||statePolicy.async||exports.defaultResolvePolicy.async}};Resolvable.prototype.resolve=function(resolveContext,trans){var _this=this;var $q=coreservices_1.services.$q;var getResolvableDependencies=function getResolvableDependencies(){return $q.all(resolveContext.getDependencies(_this).map(function(resolvable){return resolvable.get(resolveContext,trans)}))};var invokeResolveFn=function invokeResolveFn(resolvedDeps){return _this.resolveFn.apply(null,resolvedDeps)};var waitForRx=function waitForRx(observable$){var cached=observable$.cache(1);return cached.take(1).toPromise().then(function(){return cached})};var node=resolveContext.findNode(this);var state=node&&node.state;var maybeWaitForRx=this.getPolicy(state).async==="RXWAIT"?waitForRx:common_1.identity;var applyResolvedValue=function applyResolvedValue(resolvedValue){_this.data=resolvedValue;_this.resolved=true;_this.resolveFn=null;trace_1.trace.traceResolvableResolved(_this,trans);return _this.data};return this.promise=$q.when().then(getResolvableDependencies).then(invokeResolveFn).then(maybeWaitForRx).then(applyResolvedValue)};Resolvable.prototype.get=function(resolveContext,trans){return this.promise||this.resolve(resolveContext,trans)};Resolvable.prototype.toString=function(){return"Resolvable(token: "+strings_1.stringify(this.token)+", requires: ["+this.deps.map(strings_1.stringify)+"])"};Resolvable.prototype.clone=function(){return new Resolvable(this)};Resolvable.fromData=function(token,data){return new Resolvable(token,function(){return data},null,null,data)};return Resolvable}();exports.Resolvable=Resolvable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var strings_1=__webpack_require__(12);var hof_1=__webpack_require__(4);var RejectType;(function(RejectType){RejectType[RejectType["SUPERSEDED"]=2]="SUPERSEDED";RejectType[RejectType["ABORTED"]=3]="ABORTED";RejectType[RejectType["INVALID"]=4]="INVALID";RejectType[RejectType["IGNORED"]=5]="IGNORED";RejectType[RejectType["ERROR"]=6]="ERROR"})(RejectType=exports.RejectType||(exports.RejectType={}));var id=0;var Rejection=function(){function Rejection(type,message,detail){this.$id=id++;this.type=type;this.message=message;this.detail=detail}Rejection.isRejectionPromise=function(obj){return obj&&typeof obj.then==="function"&&hof_1.is(Rejection)(obj._transitionRejection)};Rejection.superseded=function(detail,options){var message="The transition has been superseded by a different transition";var rejection=new Rejection(RejectType.SUPERSEDED,message,detail);if(options&&options.redirected){rejection.redirected=true}return rejection};Rejection.redirected=function(detail){return Rejection.superseded(detail,{redirected:true})};Rejection.invalid=function(detail){var message="This transition is invalid";return new Rejection(RejectType.INVALID,message,detail)};Rejection.ignored=function(detail){var message="The transition was ignored";return new Rejection(RejectType.IGNORED,message,detail)};Rejection.aborted=function(detail){var message="The transition has been aborted";return new Rejection(RejectType.ABORTED,message,detail)};Rejection.errored=function(detail){var message="The transition errored";return new Rejection(RejectType.ERROR,message,detail)};Rejection.normalize=function(detail){return hof_1.is(Rejection)(detail)?detail:Rejection.errored(detail)};Rejection.prototype.toString=function(){var detailString=function detailString(d){return d&&d.toString!==Object.prototype.toString?d.toString():strings_1.stringify(d)};var detail=detailString(this.detail);var _a=this,$id=_a.$id,type=_a.type,message=_a.message;return"Transition Rejection($id: "+$id+" type: "+type+", message: "+message+", detail: "+detail+")"};Rejection.prototype.toPromise=function(){return common_1.extend(common_1.silentRejection(this),{_transitionRejection:this})};return Rejection}();exports.Rejection=Rejection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var interface_1=__webpack_require__(20);var common_1=__webpack_require__(1);var strings_1=__webpack_require__(12);var predicates_1=__webpack_require__(3);var hof_1=__webpack_require__(4);var trace_1=__webpack_require__(14);var coreservices_1=__webpack_require__(8);var rejectFactory_1=__webpack_require__(25);var targetState_1=__webpack_require__(19);var defaultOptions={current:common_1.noop,transition:null,traceData:{},bind:null};var TransitionHook=function(){function TransitionHook(transition,stateContext,registeredHook,options){var _this=this;this.transition=transition;this.stateContext=stateContext;this.registeredHook=registeredHook;this.options=options;this.isSuperseded=function(){return _this.type.hookPhase===interface_1.TransitionHookPhase.RUN&&!_this.options.transition.isActive()};this.options=common_1.defaults(options,defaultOptions);this.type=registeredHook.eventType}TransitionHook.chain=function(hooks,waitFor){var createHookChainR=function createHookChainR(prev,nextHook){return prev.then(function(){return nextHook.invokeHook()})};return hooks.reduce(createHookChainR,waitFor||coreservices_1.services.$q.when())};TransitionHook.invokeHooks=function(hooks,doneCallback){for(var idx=0;idx<hooks.length;idx++){var hookResult=hooks[idx].invokeHook();if(predicates_1.isPromise(hookResult)){var remainingHooks=hooks.slice(idx+1);return TransitionHook.chain(remainingHooks,hookResult).then(doneCallback)}}return doneCallback()};TransitionHook.runAllHooks=function(hooks){hooks.forEach(function(hook){return hook.invokeHook()})};TransitionHook.prototype.logError=function(err){this.transition.router.stateService.defaultErrorHandler()(err)};TransitionHook.prototype.invokeHook=function(){var _this=this;var hook=this.registeredHook;if(hook._deregistered)return;var notCurrent=this.getNotCurrentRejection();if(notCurrent)return notCurrent;var options=this.options;trace_1.trace.traceHookInvocation(this,this.transition,options);var invokeCallback=function invokeCallback(){return hook.callback.call(options.bind,_this.transition,_this.stateContext)};var normalizeErr=function normalizeErr(err){return rejectFactory_1.Rejection.normalize(err).toPromise()};var handleError=function handleError(err){return hook.eventType.getErrorHandler(_this)(err)};var handleResult=function handleResult(result){return hook.eventType.getResultHandler(_this)(result)};try{var result=invokeCallback();if(!this.type.synchronous&&predicates_1.isPromise(result)){return result.catch(normalizeErr).then(handleResult,handleError)}else{return handleResult(result)}}catch(err){return handleError(rejectFactory_1.Rejection.normalize(err))}finally{if(hook.invokeLimit&&++hook.invokeCount>=hook.invokeLimit){hook.deregister()}}};TransitionHook.prototype.handleHookResult=function(result){var _this=this;var notCurrent=this.getNotCurrentRejection();if(notCurrent)return notCurrent;if(predicates_1.isPromise(result)){return result.then(function(val){return _this.handleHookResult(val)})}trace_1.trace.traceHookResult(result,this.transition,this.options);if(result===false){return rejectFactory_1.Rejection.aborted("Hook aborted transition").toPromise()}var isTargetState=hof_1.is(targetState_1.TargetState);if(isTargetState(result)){return rejectFactory_1.Rejection.redirected(result).toPromise()}};TransitionHook.prototype.getNotCurrentRejection=function(){var router=this.transition.router;if(router._disposed){return rejectFactory_1.Rejection.aborted("UIRouter instance #"+router.$id+" has been stopped (disposed)").toPromise()}if(this.transition._aborted){return rejectFactory_1.Rejection.aborted().toPromise()}if(this.isSuperseded()){return rejectFactory_1.Rejection.superseded(this.options.current()).toPromise()}};TransitionHook.prototype.toString=function(){var _a=this,options=_a.options,registeredHook=_a.registeredHook;var event=hof_1.parse("traceData.hookType")(options)||"internal",context=hof_1.parse("traceData.context.state.name")(options)||hof_1.parse("traceData.context")(options)||"unknown",name=strings_1.fnToString(registeredHook.callback);return event+" context: "+context+", "+strings_1.maxLength(200,name)};TransitionHook.HANDLE_RESULT=function(hook){return function(result){return hook.handleHookResult(result)}};TransitionHook.LOG_REJECTED_RESULT=function(hook){return function(result){predicates_1.isPromise(result)&&result.catch(function(err){return hook.logError(rejectFactory_1.Rejection.normalize(err))});return undefined}};TransitionHook.LOG_ERROR=function(hook){return function(error){return hook.logError(error)}};TransitionHook.REJECT_ERROR=function(hook){return function(error){return common_1.silentRejection(error)}};TransitionHook.THROW_ERROR=function(hook){return function(error){throw error}};return TransitionHook}();exports.TransitionHook=TransitionHook},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var targetState_1=__webpack_require__(19);var pathNode_1=__webpack_require__(51);var PathUtils=function(){function PathUtils(){}PathUtils.makeTargetState=function(registry,path){var state=common_1.tail(path).state;return new targetState_1.TargetState(registry,state,path.map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{}),{})};PathUtils.buildPath=function(targetState){var toParams=targetState.params();return targetState.$state().path.map(function(state){return new pathNode_1.PathNode(state).applyRawParams(toParams)})};PathUtils.buildToPath=function(fromPath,targetState){var toPath=PathUtils.buildPath(targetState);if(targetState.options().inherit){return PathUtils.inheritParams(fromPath,toPath,Object.keys(targetState.params()))}return toPath};PathUtils.applyViewConfigs=function($view,path,states){path.filter(function(node){return common_1.inArray(states,node.state)}).forEach(function(node){var viewDecls=common_1.values(node.state.views||{});var subPath=PathUtils.subPath(path,function(n){return n===node});var viewConfigs=viewDecls.map(function(view){return $view.createViewConfig(subPath,view)});node.views=viewConfigs.reduce(common_1.unnestR,[])})};PathUtils.inheritParams=function(fromPath,toPath,toKeys){if(toKeys===void 0){toKeys=[]}function nodeParamVals(path,state){var node=common_1.find(path,hof_1.propEq("state",state));return common_1.extend({},node&&node.paramValues)}var noInherit=fromPath.map(function(node){return node.paramSchema}).reduce(common_1.unnestR,[]).filter(function(param){return!param.inherit}).map(hof_1.prop("id"));function makeInheritedParamsNode(toNode){var toParamVals=common_1.extend({},toNode&&toNode.paramValues);var incomingParamVals=common_1.pick(toParamVals,toKeys);toParamVals=common_1.omit(toParamVals,toKeys);var fromParamVals=common_1.omit(nodeParamVals(fromPath,toNode.state)||{},noInherit);var ownParamVals=common_1.extend(toParamVals,fromParamVals,incomingParamVals);return new pathNode_1.PathNode(toNode.state).applyRawParams(ownParamVals)}return toPath.map(makeInheritedParamsNode)};PathUtils.treeChanges=function(fromPath,toPath,reloadState){var max=Math.min(fromPath.length,toPath.length);var keep=0;var nodesMatch=function nodesMatch(node1,node2){return node1.equals(node2,PathUtils.nonDynamicParams)};while(keep<max&&fromPath[keep].state!==reloadState&&nodesMatch(fromPath[keep],toPath[keep])){keep++}function applyToParams(retainedNode,idx){var cloned=retainedNode.clone();cloned.paramValues=toPath[idx].paramValues;return cloned}var from,retained,exiting,entering,to;from=fromPath;retained=from.slice(0,keep);exiting=from.slice(keep);var retainedWithToParams=retained.map(applyToParams);entering=toPath.slice(keep);to=retainedWithToParams.concat(entering);return{from:from,to:to,retained:retained,retainedWithToParams:retainedWithToParams,exiting:exiting,entering:entering}};PathUtils.matching=function(pathA,pathB,paramsFn){var done=false;var tuples=common_1.arrayTuples(pathA,pathB);return tuples.reduce(function(matching,_a){var nodeA=_a[0],nodeB=_a[1];done=done||!nodeA.equals(nodeB,paramsFn);return done?matching:matching.concat(nodeA)},[])};PathUtils.equals=function(pathA,pathB,paramsFn){return pathA.length===pathB.length&&PathUtils.matching(pathA,pathB,paramsFn).length===pathA.length};PathUtils.subPath=function(path,predicate){var node=common_1.find(path,predicate);var elementIdx=path.indexOf(node);return elementIdx===-1?undefined:path.slice(0,elementIdx+1)};PathUtils.nonDynamicParams=function(node){return node.state.parameters({inherit:false}).filter(function(param){return!param.dynamic})};PathUtils.paramValues=function(path){return path.reduce(function(acc,node){return common_1.extend(acc,node.paramValues)},{})};return PathUtils}();exports.PathUtils=PathUtils},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var trace_1=__webpack_require__(14);var coreservices_1=__webpack_require__(8);var interface_1=__webpack_require__(84);var resolvable_1=__webpack_require__(24);var pathUtils_1=__webpack_require__(32);var strings_1=__webpack_require__(12);var common_2=__webpack_require__(10);var whens=interface_1.resolvePolicies.when;var ALL_WHENS=[whens.EAGER,whens.LAZY];var EAGER_WHENS=[whens.EAGER];exports.NATIVE_INJECTOR_TOKEN="Native Injector";var ResolveContext=function(){function ResolveContext(_path){this._path=_path}ResolveContext.prototype.getTokens=function(){return this._path.reduce(function(acc,node){return acc.concat(node.resolvables.map(function(r){return r.token}))},[]).reduce(common_1.uniqR,[])};ResolveContext.prototype.getResolvable=function(token){var matching=this._path.map(function(node){return node.resolvables}).reduce(common_1.unnestR,[]).filter(function(r){return r.token===token});return common_1.tail(matching)};ResolveContext.prototype.getPolicy=function(resolvable){var node=this.findNode(resolvable);return resolvable.getPolicy(node.state)};ResolveContext.prototype.subContext=function(state){return new ResolveContext(pathUtils_1.PathUtils.subPath(this._path,function(node){return node.state===state}))};ResolveContext.prototype.addResolvables=function(newResolvables,state){var node=common_1.find(this._path,hof_1.propEq("state",state));var keys=newResolvables.map(function(r){return r.token});node.resolvables=node.resolvables.filter(function(r){return keys.indexOf(r.token)===-1}).concat(newResolvables)};ResolveContext.prototype.resolvePath=function(when,trans){var _this=this;if(when===void 0){when="LAZY"}var whenOption=common_1.inArray(ALL_WHENS,when)?when:"LAZY";var matchedWhens=whenOption===interface_1.resolvePolicies.when.EAGER?EAGER_WHENS:ALL_WHENS;trace_1.trace.traceResolvePath(this._path,when,trans);var matchesPolicy=function matchesPolicy(acceptedVals,whenOrAsync){return function(resolvable){return common_1.inArray(acceptedVals,_this.getPolicy(resolvable)[whenOrAsync])}};var promises=this._path.reduce(function(acc,node){var nodeResolvables=node.resolvables.filter(matchesPolicy(matchedWhens,"when"));var nowait=nodeResolvables.filter(matchesPolicy(["NOWAIT"],"async"));var wait=nodeResolvables.filter(hof_1.not(matchesPolicy(["NOWAIT"],"async")));var subContext=_this.subContext(node.state);var getResult=function getResult(r){return r.get(subContext,trans).then(function(value){return{token:r.token,value:value}})};nowait.forEach(getResult);return acc.concat(wait.map(getResult))},[]);return coreservices_1.services.$q.all(promises)};ResolveContext.prototype.injector=function(){return this._injector||(this._injector=new UIInjectorImpl(this))};ResolveContext.prototype.findNode=function(resolvable){return common_1.find(this._path,function(node){return common_1.inArray(node.resolvables,resolvable)})};ResolveContext.prototype.getDependencies=function(resolvable){var _this=this;var node=this.findNode(resolvable);var subPath=pathUtils_1.PathUtils.subPath(this._path,function(x){return x===node})||this._path;var availableResolvables=subPath.reduce(function(acc,_node){return acc.concat(_node.resolvables)},[]).filter(function(res){return res!==resolvable});var getDependency=function getDependency(token){var matching=availableResolvables.filter(function(r){return r.token===token});if(matching.length)return common_1.tail(matching);var fromInjector=_this.injector().getNative(token);if(common_2.isUndefined(fromInjector)){throw new Error("Could not find Dependency Injection token: "+strings_1.stringify(token))}return new resolvable_1.Resolvable(token,function(){return fromInjector},[],fromInjector)};return resolvable.deps.map(getDependency)};return ResolveContext}();exports.ResolveContext=ResolveContext;var UIInjectorImpl=function(){function UIInjectorImpl(context){this.context=context;this.native=this.get(exports.NATIVE_INJECTOR_TOKEN)||coreservices_1.services.$injector}UIInjectorImpl.prototype.get=function(token){var resolvable=this.context.getResolvable(token);if(resolvable){if(this.context.getPolicy(resolvable).async==="NOWAIT"){return resolvable.get(this.context)}if(!resolvable.resolved){throw new Error("Resolvable async .get() not complete:"+strings_1.stringify(resolvable.token))}return resolvable.data}return this.getNative(token)};UIInjectorImpl.prototype.getAsync=function(token){var resolvable=this.context.getResolvable(token);if(resolvable)return resolvable.get(this.context);return coreservices_1.services.$q.when(this.native.get(token))};UIInjectorImpl.prototype.getNative=function(token){return this.native&&this.native.get(token)};return UIInjectorImpl}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var trace_1=__webpack_require__(14);var coreservices_1=__webpack_require__(8);var strings_1=__webpack_require__(12);var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var hof_1=__webpack_require__(4);var interface_1=__webpack_require__(20);var transitionHook_1=__webpack_require__(26);var hookRegistry_1=__webpack_require__(53);var hookBuilder_1=__webpack_require__(91);var pathUtils_1=__webpack_require__(32);var param_1=__webpack_require__(18);var resolvable_1=__webpack_require__(24);var resolveContext_1=__webpack_require__(33);var stateSelf=hof_1.prop("self");var Transition=function(){function Transition(fromPath,targetState,router){var _this=this;this._deferred=coreservices_1.services.$q.defer();this.promise=this._deferred.promise;this._registeredHooks={};this._hookBuilder=new hookBuilder_1.HookBuilder(this);this.isActive=function(){return _this.router.globals.transition===_this};this.router=router;this._targetState=targetState;if(!targetState.valid()){throw new Error(targetState.error())}this._options=common_1.extend({current:hof_1.val(this)},targetState.options());this.$id=router.transitionService._transitionCount++;var toPath=pathUtils_1.PathUtils.buildToPath(fromPath,targetState);this._treeChanges=pathUtils_1.PathUtils.treeChanges(fromPath,toPath,this._options.reloadState);this.createTransitionHookRegFns();var onCreateHooks=this._hookBuilder.buildHooksForPhase(interface_1.TransitionHookPhase.CREATE);transitionHook_1.TransitionHook.invokeHooks(onCreateHooks,function(){return null});this.applyViewConfigs(router)}Transition.prototype.onBefore=function(criteria,callback,options){return};Transition.prototype.onStart=function(criteria,callback,options){return};Transition.prototype.onExit=function(criteria,callback,options){return};Transition.prototype.onRetain=function(criteria,callback,options){return};Transition.prototype.onEnter=function(criteria,callback,options){return};Transition.prototype.onFinish=function(criteria,callback,options){return};Transition.prototype.onSuccess=function(criteria,callback,options){return};Transition.prototype.onError=function(criteria,callback,options){return};Transition.prototype.createTransitionHookRegFns=function(){var _this=this;this.router.transitionService._pluginapi._getEvents().filter(function(type){return type.hookPhase!==interface_1.TransitionHookPhase.CREATE}).forEach(function(type){return hookRegistry_1.makeEvent(_this,_this.router.transitionService,type)})};Transition.prototype.getHooks=function(hookName){return this._registeredHooks[hookName]};Transition.prototype.applyViewConfigs=function(router){var enteringStates=this._treeChanges.entering.map(function(node){return node.state});pathUtils_1.PathUtils.applyViewConfigs(router.transitionService.$view,this._treeChanges.to,enteringStates)};Transition.prototype.$from=function(){return common_1.tail(this._treeChanges.from).state};Transition.prototype.$to=function(){return common_1.tail(this._treeChanges.to).state};Transition.prototype.from=function(){return this.$from().self};Transition.prototype.to=function(){return this.$to().self};Transition.prototype.targetState=function(){return this._targetState};Transition.prototype.is=function(compare){if(compare instanceof Transition){return this.is({to:compare.$to().name,from:compare.$from().name})}return!(compare.to&&!hookRegistry_1.matchState(this.$to(),compare.to)||compare.from&&!hookRegistry_1.matchState(this.$from(),compare.from))};Transition.prototype.params=function(pathname){if(pathname===void 0){pathname="to"}return Object.freeze(this._treeChanges[pathname].map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{}))};Transition.prototype.injector=function(state,pathName){if(pathName===void 0){pathName="to"}var path=this._treeChanges[pathName];if(state)path=pathUtils_1.PathUtils.subPath(path,function(node){return node.state===state||node.state.name===state});return new resolveContext_1.ResolveContext(path).injector()};Transition.prototype.getResolveTokens=function(pathname){if(pathname===void 0){pathname="to"}return new resolveContext_1.ResolveContext(this._treeChanges[pathname]).getTokens()};Transition.prototype.addResolvable=function(resolvable,state){if(state===void 0){state=""}resolvable=hof_1.is(resolvable_1.Resolvable)(resolvable)?resolvable:new resolvable_1.Resolvable(resolvable);var stateName=typeof state==="string"?state:state.name;var topath=this._treeChanges.to;var targetNode=common_1.find(topath,function(node){return node.state.name===stateName});var resolveContext=new resolveContext_1.ResolveContext(topath);resolveContext.addResolvables([resolvable],targetNode.state)};Transition.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null};Transition.prototype.originalTransition=function(){var rf=this.redirectedFrom();return rf&&rf.originalTransition()||this};Transition.prototype.options=function(){return this._options};Transition.prototype.entering=function(){return common_1.map(this._treeChanges.entering,hof_1.prop("state")).map(stateSelf)};Transition.prototype.exiting=function(){return common_1.map(this._treeChanges.exiting,hof_1.prop("state")).map(stateSelf).reverse()};Transition.prototype.retained=function(){return common_1.map(this._treeChanges.retained,hof_1.prop("state")).map(stateSelf)};Transition.prototype.views=function(pathname,state){if(pathname===void 0){pathname="entering"}var path=this._treeChanges[pathname];path=!state?path:path.filter(hof_1.propEq("state",state));return path.map(hof_1.prop("views")).filter(common_1.identity).reduce(common_1.unnestR,[])};Transition.prototype.treeChanges=function(pathname){return pathname?this._treeChanges[pathname]:this._treeChanges};Transition.prototype.redirect=function(targetState){var redirects=1,trans=this;while((trans=trans.redirectedFrom())!=null){if(++redirects>20)throw new Error("Too many consecutive Transition redirects (20+)")}var redirectOpts={redirectedFrom:this,source:"redirect"};if(this.options().source==="url"&&targetState.options().location!==false){redirectOpts.location="replace"}var newOptions=common_1.extend({},this.options(),targetState.options(),redirectOpts);targetState=targetState.withOptions(newOptions,true);var newTransition=this.router.transitionService.create(this._treeChanges.from,targetState);var originalEnteringNodes=this._treeChanges.entering;var redirectEnteringNodes=newTransition._treeChanges.entering;var nodeIsReloading=function nodeIsReloading(reloadState){return function(node){return reloadState&&node.state.includes[reloadState.name]}};var matchingEnteringNodes=pathUtils_1.PathUtils.matching(redirectEnteringNodes,originalEnteringNodes,pathUtils_1.PathUtils.nonDynamicParams).filter(hof_1.not(nodeIsReloading(targetState.options().reloadState)));matchingEnteringNodes.forEach(function(node,idx){node.resolvables=originalEnteringNodes[idx].resolvables});return newTransition};Transition.prototype._changedParams=function(){var tc=this._treeChanges;if(this._options.reload)return undefined;if(tc.exiting.length||tc.entering.length)return undefined;if(tc.to.length!==tc.from.length)return undefined;var pathsDiffer=common_1.arrayTuples(tc.to,tc.from).map(function(tuple){return tuple[0].state!==tuple[1].state}).reduce(common_1.anyTrueR,false);if(pathsDiffer)return undefined;var nodeSchemas=tc.to.map(function(node){return node.paramSchema});var _a=[tc.to,tc.from].map(function(path){return path.map(function(x){return x.paramValues})}),toValues=_a[0],fromValues=_a[1];var tuples=common_1.arrayTuples(nodeSchemas,toValues,fromValues);return tuples.map(function(_a){var schema=_a[0],toVals=_a[1],fromVals=_a[2];return param_1.Param.changed(schema,toVals,fromVals)}).reduce(common_1.unnestR,[])};Transition.prototype.dynamic=function(){var changes=this._changedParams();return!changes?false:changes.map(function(x){return x.dynamic}).reduce(common_1.anyTrueR,false)};Transition.prototype.ignored=function(){return!!this._ignoredReason()};Transition.prototype._ignoredReason=function(){var pending=this.router.globals.transition;var reloadState=this._options.reloadState;var same=function same(pathA,pathB){if(pathA.length!==pathB.length)return false;var matching=pathUtils_1.PathUtils.matching(pathA,pathB);return pathA.length===matching.filter(function(node){return!reloadState||!node.state.includes[reloadState.name]}).length};var newTC=this.treeChanges();var pendTC=pending&&pending.treeChanges();if(pendTC&&same(pendTC.to,newTC.to)&&same(pendTC.exiting,newTC.exiting))return"SameAsPending";if(newTC.exiting.length===0&&newTC.entering.length===0&&same(newTC.from,newTC.to))return"SameAsCurrent"};Transition.prototype.run=function(){var _this=this;var runAllHooks=transitionHook_1.TransitionHook.runAllHooks;var getHooksFor=function getHooksFor(phase){return _this._hookBuilder.buildHooksForPhase(phase)};var transitionSuccess=function transitionSuccess(){trace_1.trace.traceSuccess(_this.$to(),_this);_this.success=true;_this._deferred.resolve(_this.to());runAllHooks(getHooksFor(interface_1.TransitionHookPhase.SUCCESS))};var transitionError=function transitionError(reason){trace_1.trace.traceError(reason,_this);_this.success=false;_this._deferred.reject(reason);_this._error=reason;runAllHooks(getHooksFor(interface_1.TransitionHookPhase.ERROR))};var runTransition=function runTransition(){var allRunHooks=getHooksFor(interface_1.TransitionHookPhase.RUN);var done=function done(){return coreservices_1.services.$q.when(undefined)};return transitionHook_1.TransitionHook.invokeHooks(allRunHooks,done)};var startTransition=function startTransition(){var globals=_this.router.globals;globals.lastStartedTransitionId=_this.$id;globals.transition=_this;globals.transitionHistory.enqueue(_this);trace_1.trace.traceTransitionStart(_this);return coreservices_1.services.$q.when(undefined)};var allBeforeHooks=getHooksFor(interface_1.TransitionHookPhase.BEFORE);transitionHook_1.TransitionHook.invokeHooks(allBeforeHooks,startTransition).then(runTransition).then(transitionSuccess,transitionError);return this.promise};Transition.prototype.valid=function(){return!this.error()||this.success!==undefined};Transition.prototype.abort=function(){if(predicates_1.isUndefined(this.success)){this._aborted=true}};Transition.prototype.error=function(){var state=this.$to();if(state.self.abstract)return"Cannot transition to abstract state '"+state.name+"'";var paramDefs=state.parameters(),values=this.params();var invalidParams=paramDefs.filter(function(param){return!param.validates(values[param.id])});if(invalidParams.length){return"Param values not valid for state '"+state.name+"'. Invalid params: [ "+invalidParams.map(function(param){return param.id}).join(", ")+" ]"}if(this.success===false)return this._error};Transition.prototype.toString=function(){var fromStateOrName=this.from();var toStateOrName=this.to();var avoidEmptyHash=function avoidEmptyHash(params){return params["#"]!==null&&params["#"]!==undefined?params:common_1.omit(params,["#"])};var id=this.$id,from=predicates_1.isObject(fromStateOrName)?fromStateOrName.name:fromStateOrName,fromParams=strings_1.stringify(avoidEmptyHash(this._treeChanges.from.map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{}))),toValid=this.valid()?"":"(X) ",to=predicates_1.isObject(toStateOrName)?toStateOrName.name:toStateOrName,toParams=strings_1.stringify(avoidEmptyHash(this.params()));return"Transition#"+id+"( '"+from+"'"+fromParams+" -> "+toValid+"'"+to+"'"+toParams+" )"};Transition.diToken=Transition;return Transition}();exports.Transition=Transition},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var predicates_1=__webpack_require__(3);var param_1=__webpack_require__(18);var strings_1=__webpack_require__(12);function quoteRegExp(str,param){var surroundPattern=["",""],result=str.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!param)return result;switch(param.squash){case false:surroundPattern=["(",")"+(param.isOptional?"?":"")];break;case true:result=result.replace(/\/$/,"");surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+param.squash+"|",")?"];break}return result+surroundPattern[0]+param.type.pattern.source+surroundPattern[1]}var memoizeTo=function memoizeTo(obj,_prop,fn){return obj[_prop]=obj[_prop]||fn()};var splitOnSlash=strings_1.splitOnDelim("/");var UrlMatcher=function(){function UrlMatcher(pattern,paramTypes,paramFactory,config){var _this=this;this.config=config;this._cache={path:[this]};this._children=[];this._params=[];this._segments=[];this._compiled=[];this.pattern=pattern;this.config=common_1.defaults(this.config,{params:{},strict:true,caseInsensitive:false,paramMap:common_1.identity});var placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g;var searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g;var patterns=[];var last=0,matchArray;var checkParamErrors=function checkParamErrors(id){if(!UrlMatcher.nameValidator.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(common_1.find(_this._params,hof_1.propEq("id",id)))throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'")};var matchDetails=function matchDetails(m,isSearch){var id=m[2]||m[3];var regexp=isSearch?m[4]:m[4]||(m[1]==="*"?"[\\s\\S]*":null);var makeRegexpType=function makeRegexpType(str){return common_1.inherit(paramTypes.type(isSearch?"query":"path"),{pattern:new RegExp(str,_this.config.caseInsensitive?"i":undefined)})};return{id:id,regexp:regexp,cfg:_this.config.params[id],segment:pattern.substring(last,m.index),type:!regexp?null:paramTypes.type(regexp)||makeRegexpType(regexp)}};var p,segment;while(matchArray=placeholder.exec(pattern)){p=matchDetails(matchArray,false);if(p.segment.indexOf("?")>=0)break;checkParamErrors(p.id);this._params.push(paramFactory.fromPath(p.id,p.type,this.config.paramMap(p.cfg,false)));this._segments.push(p.segment);patterns.push([p.segment,common_1.tail(this._params)]);last=placeholder.lastIndex}segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=segment.substring(i);segment=segment.substring(0,i);if(search.length>0){last=0;while(matchArray=searchPlaceholder.exec(search)){p=matchDetails(matchArray,true);checkParamErrors(p.id);this._params.push(paramFactory.fromSearch(p.id,p.type,this.config.paramMap(p.cfg,true)));last=placeholder.lastIndex}}}this._segments.push(segment);this._compiled=patterns.map(function(_pattern){return quoteRegExp.apply(null,_pattern)}).concat(quoteRegExp(segment))}UrlMatcher.encodeDashes=function(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})};UrlMatcher.pathSegmentsAndParams=function(matcher){var staticSegments=matcher._segments;var pathParams=matcher._params.filter(function(p){return p.location===param_1.DefType.PATH});return common_1.arrayTuples(staticSegments,pathParams.concat(undefined)).reduce(common_1.unnestR,[]).filter(function(x){return x!==""&&predicates_1.isDefined(x)})};UrlMatcher.queryParams=function(matcher){return matcher._params.filter(function(p){return p.location===param_1.DefType.SEARCH})};UrlMatcher.compare=function(a,b){var segments=function segments(matcher){return matcher._cache.segments=matcher._cache.segments||matcher._cache.path.map(UrlMatcher.pathSegmentsAndParams).reduce(common_1.unnestR,[]).reduce(strings_1.joinNeighborsR,[]).map(function(x){return predicates_1.isString(x)?splitOnSlash(x):x}).reduce(common_1.unnestR,[])};var weights=function weights(matcher){return matcher._cache.weights=matcher._cache.weights||segments(matcher).map(function(segment){if(segment==="/")return 1;if(predicates_1.isString(segment))return 2;if(segment instanceof param_1.Param)return 3})};var padArrays=function padArrays(l,r,padVal){var len=Math.max(l.length,r.length);while(l.length<len){l.push(padVal)}while(r.length<len){r.push(padVal)}};var weightsA=weights(a),weightsB=weights(b);padArrays(weightsA,weightsB,0);var _pairs=common_1.arrayTuples(weightsA,weightsB);var cmp,i;for(i=0;i<_pairs.length;i++){cmp=_pairs[i][0]-_pairs[i][1];if(cmp!==0)return cmp}return 0};UrlMatcher.prototype.append=function(url){this._children.push(url);url._cache={path:this._cache.path.concat(url),parent:this,pattern:null};return url};UrlMatcher.prototype.isRoot=function(){return this._cache.path[0]===this};UrlMatcher.prototype.toString=function(){return this.pattern};UrlMatcher.prototype.exec=function(path,search,hash,options){var _this=this;if(search===void 0){search={}}if(options===void 0){options={}}var match=memoizeTo(this._cache,"pattern",function(){return new RegExp(["^",common_1.unnest(_this._cache.path.map(hof_1.prop("_compiled"))).join(""),_this.config.strict===false?"/?":"","$"].join(""),_this.config.caseInsensitive?"i":undefined)}).exec(path);if(!match)return null;var allParams=this.parameters(),pathParams=allParams.filter(function(param){return!param.isSearch()}),searchParams=allParams.filter(function(param){return param.isSearch()}),nPathSegments=this._cache.path.map(function(urlm){return urlm._segments.length-1}).reduce(function(a,x){return a+x}),values={};if(nPathSegments!==match.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function decodePathArray(paramVal){var reverseString=function reverseString(str){return str.split("").reverse().join("")};var unquoteDashes=function unquoteDashes(str){return str.replace(/\\-/g,"-")};var split=reverseString(paramVal).split(/-(?!\\)/);var allReversed=common_1.map(split,reverseString);return common_1.map(allReversed,unquoteDashes).reverse()}for(var i=0;i<nPathSegments;i++){var param=pathParams[i];var value=match[i+1];for(var j=0;j<param.replace.length;j++){if(param.replace[j].from===value)value=param.replace[j].to}if(value&&param.array===true)value=decodePathArray(value);if(predicates_1.isDefined(value))value=param.type.decode(value);values[param.id]=param.value(value)}searchParams.forEach(function(param){var value=search[param.id];for(var j=0;j<param.replace.length;j++){if(param.replace[j].from===value)value=param.replace[j].to}if(predicates_1.isDefined(value))value=param.type.decode(value);values[param.id]=param.value(value)});if(hash)values["#"]=hash;return values};UrlMatcher.prototype.parameters=function(opts){if(opts===void 0){opts={}}if(opts.inherit===false)return this._params;return common_1.unnest(this._cache.path.map(function(matcher){return matcher._params}))};UrlMatcher.prototype.parameter=function(id,opts){var _this=this;if(opts===void 0){opts={}}var findParam=function findParam(){for(var _i=0,_a=_this._params;_i<_a.length;_i++){var param=_a[_i];if(param.id===id)return param}};var parent=this._cache.parent;return findParam()||opts.inherit!==false&&parent&&parent.parameter(id,opts)||null};UrlMatcher.prototype.validates=function(params){var validParamVal=function validParamVal(param,val){return!param||param.validates(val)};params=params||{};var paramSchema=this.parameters().filter(function(paramDef){return params.hasOwnProperty(paramDef.id)});return paramSchema.map(function(paramDef){return validParamVal(paramDef,params[paramDef.id])}).reduce(common_1.allTrueR,true)};UrlMatcher.prototype.format=function(values){if(values===void 0){values={}}var urlMatchers=this._cache.path;var pathSegmentsAndParams=urlMatchers.map(UrlMatcher.pathSegmentsAndParams).reduce(common_1.unnestR,[]).map(function(x){return predicates_1.isString(x)?x:getDetails(x)});var queryParams=urlMatchers.map(UrlMatcher.queryParams).reduce(common_1.unnestR,[]).map(getDetails);var isInvalid=function isInvalid(param){return param.isValid===false};if(pathSegmentsAndParams.concat(queryParams).filter(isInvalid).length){return null}function getDetails(param){var value=param.value(values[param.id]);var isValid=param.validates(value);var isDefaultValue=param.isDefaultValue(value);var squash=isDefaultValue?param.squash:false;var encoded=param.type.encode(value);return{param:param,value:value,isValid:isValid,isDefaultValue:isDefaultValue,squash:squash,encoded:encoded}}var pathString=pathSegmentsAndParams.reduce(function(acc,x){if(predicates_1.isString(x))return acc+x;var squash=x.squash,encoded=x.encoded,param=x.param;if(squash===true)return acc.match(/\/$/)?acc.slice(0,-1):acc;if(predicates_1.isString(squash))return acc+squash;if(squash!==false)return acc;if(encoded==null)return acc;if(predicates_1.isArray(encoded))return acc+common_1.map(encoded,UrlMatcher.encodeDashes).join("-");if(param.raw)return acc+encoded;return acc+encodeURIComponent(encoded)},"");var queryString=queryParams.map(function(paramDetails){var param=paramDetails.param,squash=paramDetails.squash,encoded=paramDetails.encoded,isDefaultValue=paramDetails.isDefaultValue;if(encoded==null||isDefaultValue&&squash!==false)return;if(!predicates_1.isArray(encoded))encoded=[encoded];if(encoded.length===0)return;if(!param.raw)encoded=common_1.map(encoded,encodeURIComponent);return encoded.map(function(val){return param.id+"="+val})}).filter(common_1.identity).reduce(common_1.unnestR,[]).join("&");return pathString+(queryString?"?"+queryString:"")+(values["#"]?"#"+values["#"]:"")};UrlMatcher.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;return UrlMatcher}();exports.UrlMatcher=UrlMatcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(10);var utils_1=__webpack_require__(55);var BaseLocationServices=function(){function BaseLocationServices(router,fireAfterUpdate){var _this=this;this.fireAfterUpdate=fireAfterUpdate;this._listeners=[];this._listener=function(evt){return _this._listeners.forEach(function(cb){return cb(evt)})};this.hash=function(){return utils_1.parseUrl(_this._get()).hash};this.path=function(){return utils_1.parseUrl(_this._get()).path};this.search=function(){return utils_1.getParams(utils_1.parseUrl(_this._get()).search)};this._location=common_1.root.location;this._history=common_1.root.history}BaseLocationServices.prototype.url=function(url,replace){if(replace===void 0){replace=true}if(common_1.isDefined(url)&&url!==this._get()){this._set(null,null,url,replace);if(this.fireAfterUpdate){this._listeners.forEach(function(cb){return cb({url:url})})}}return utils_1.buildUrl(this)};BaseLocationServices.prototype.onChange=function(cb){var _this=this;this._listeners.push(cb);return function(){return common_1.removeFrom(_this._listeners,cb)}};BaseLocationServices.prototype.dispose=function(router){common_1.deregAll(this._listeners)};return BaseLocationServices}();exports.BaseLocationServices=BaseLocationServices},,,,,,,,function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__;(function(Y){function C(c,a,b){var e=0,h=[],n=0,g,l,d,f,m,q,u,r,I=!1,v=[],w=[],t,y=!1,z=!1,x=-1;b=b||{};g=b.encoding||"UTF8";t=b.numRounds||1;if(t!==parseInt(t,10)||1>t)throw Error("numRounds must a integer >= 1");if("SHA-1"===c)m=512,q=K,u=Z,f=160,r=function r(a){return a.slice()};else if(0===c.lastIndexOf("SHA-",0)){if(q=function q(a,b){return L(a,b,c)},u=function u(a,b,h,e){var k,f;if("SHA-224"===c||"SHA-256"===c)k=(b+65>>>9<<4)+15,f=16;else if("SHA-384"===c||"SHA-512"===c)k=(b+129>>>10<<5)+31,f=32;else throw Error("Unexpected error in SHA-2 implementation");for(;a.length<=k;){a.push(0)}a[b>>>5]|=128<<24-b%32;b=b+h;a[k]=b&4294967295;a[k-1]=b/4294967296|0;h=a.length;for(b=0;b<h;b+=f){e=L(a.slice(b,b+f),e,c)}if("SHA-224"===c)a=[e[0],e[1],e[2],e[3],e[4],e[5],e[6]];else if("SHA-256"===c)a=e;else if("SHA-384"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if("SHA-512"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error("Unexpected error in SHA-2 implementation");return a},r=function r(a){return a.slice()},"SHA-224"===c)m=512,f=224;else if("SHA-256"===c)m=512,f=256;else if("SHA-384"===c)m=1024,f=384;else if("SHA-512"===c)m=1024,f=512;else throw Error("Chosen SHA variant is not supported")}else if(0===c.lastIndexOf("SHA3-",0)||0===c.lastIndexOf("SHAKE",0)){var F=6;q=D;r=function r(a){var c=[],e;for(e=0;5>e;e+=1){c[e]=a[e].slice()}return c};x=1;if("SHA3-224"===c)m=1152,f=224;else if("SHA3-256"===c)m=1088,f=256;else if("SHA3-384"===c)m=832,f=384;else if("SHA3-512"===c)m=576,f=512;else if("SHAKE128"===c)m=1344,f=-1,F=31,z=!0;else if("SHAKE256"===c)m=1088,f=-1,F=31,z=!0;else throw Error("Chosen SHA variant is not supported");u=function u(a,c,e,b,h){e=m;var k=F,f,g=[],n=e>>>5,l=0,d=c>>>5;for(f=0;f<d&&c>=e;f+=n){b=D(a.slice(f,f+n),b),c-=e}a=a.slice(f);for(c%=e;a.length<n;){a.push(0)}f=c>>>3;a[f>>2]^=k<<f%4*8;a[n-1]^=2147483648;for(b=D(a,b);32*g.length<h;){a=b[l%5][l/5|0];g.push(a.b);if(32*g.length>=h)break;g.push(a.a);l+=1;0===64*l%e&&D(null,b)}return g}}else throw Error("Chosen SHA variant is not supported");d=M(a,g,x);l=A(c);this.setHMACKey=function(a,b,h){var k;if(!0===I)throw Error("HMAC key already set");if(!0===y)throw Error("Cannot set HMAC key after calling update");if(!0===z)throw Error("SHAKE is not supported for HMAC");g=(h||{}).encoding||"UTF8";b=M(b,g,x)(a);a=b.binLen;b=b.value;k=m>>>3;h=k/4-1;if(k<a/8){for(b=u(b,a,0,A(c),f);b.length<=h;){b.push(0)}b[h]&=4294967040}else if(k>a/8){for(;b.length<=h;){b.push(0)}b[h]&=4294967040}for(a=0;a<=h;a+=1){v[a]=b[a]^909522486,w[a]=b[a]^1549556828}l=q(v,l);e=m;I=!0};this.update=function(a){var c,b,k,f=0,g=m>>>5;c=d(a,h,n);a=c.binLen;b=c.value;c=a>>>5;for(k=0;k<c;k+=g){f+m<=a&&(l=q(b.slice(k,k+g),l),f+=m)}e+=f;h=b.slice(f>>>5);n=a%m;y=!0};this.getHash=function(a,b){var k,g,d,m;if(!0===I)throw Error("Cannot call getHash after setting HMAC key");d=N(b);if(!0===z){if(-1===d.shakeLen)throw Error("shakeLen must be specified in options");f=d.shakeLen}switch(a){case"HEX":k=function k(a){return O(a,f,x,d)};break;case"B64":k=function k(a){return P(a,f,x,d)};break;case"BYTES":k=function k(a){return Q(a,f,x)};break;case"ARRAYBUFFER":try{g=new ArrayBuffer(0)}catch(p){throw Error("ARRAYBUFFER not supported by this environment")}k=function k(a){return R(a,f,x)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}m=u(h.slice(),n,e,r(l),f);for(g=1;g<t;g+=1){!0===z&&0!==f%32&&(m[m.length-1]&=16777215>>>24-f%32),m=u(m,f,0,A(c),f)}return k(m)};this.getHMAC=function(a,b){var k,g,d,p;if(!1===I)throw Error("Cannot call getHMAC without first setting HMAC key");d=N(b);switch(a){case"HEX":k=function k(a){return O(a,f,x,d)};break;case"B64":k=function k(a){return P(a,f,x,d)};break;case"BYTES":k=function k(a){return Q(a,f,x)};break;case"ARRAYBUFFER":try{k=new ArrayBuffer(0)}catch(v){throw Error("ARRAYBUFFER not supported by this environment")}k=function k(a){return R(a,f,x)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}g=u(h.slice(),n,e,r(l),f);p=q(w,A(c));p=u(g,f,m,p,f);return k(p)}}function b(c,a){this.a=c;this.b=a}function O(c,a,b,e){var h="";a/=8;var n,g,d;d=-1===b?3:0;for(n=0;n<a;n+=1){g=c[n>>>2]>>>8*(d+n%4*b),h+="0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(g&15)}return e.outputUpper?h.toUpperCase():h}function P(c,a,b,e){var h="",n=a/8,g,d,p,f;f=-1===b?3:0;for(g=0;g<n;g+=3){for(d=g+1<n?c[g+1>>>2]:0,p=g+2<n?c[g+2>>>2]:0,p=(c[g>>>2]>>>8*(f+g%4*b)&255)<<16|(d>>>8*(f+(g+1)%4*b)&255)<<8|p>>>8*(f+(g+2)%4*b)&255,d=0;4>d;d+=1){8*g+6*d<=a?h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(p>>>6*(3-d)&63):h+=e.b64Pad}}return h}function Q(c,a,b){var e="";a/=8;var h,d,g;g=-1===b?3:0;for(h=0;h<a;h+=1){d=c[h>>>2]>>>8*(g+h%4*b)&255,e+=String.fromCharCode(d)}return e}function R(c,a,b){a/=8;var e,h=new ArrayBuffer(a),d,g;g=new Uint8Array(h);d=-1===b?3:0;for(e=0;e<a;e+=1){g[e]=c[e>>>2]>>>8*(d+e%4*b)&255}return h}function N(c){var a={outputUpper:!1,b64Pad:"=",shakeLen:-1};c=c||{};a.outputUpper=c.outputUpper||!1;!0===c.hasOwnProperty("b64Pad")&&(a.b64Pad=c.b64Pad);if(!0===c.hasOwnProperty("shakeLen")){if(0!==c.shakeLen%8)throw Error("shakeLen must be a multiple of 8");a.shakeLen=c.shakeLen}if("boolean"!==typeof a.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof a.b64Pad)throw Error("Invalid b64Pad formatting option");return a}function M(c,a,b){switch(a){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(c){case"HEX":c=function c(a,_c,d){var g=a.length,l,p,f,m,q,u;if(0!==g%2)throw Error("String of HEX type must be in byte increments");_c=_c||[0];d=d||0;q=d>>>3;u=-1===b?3:0;for(l=0;l<g;l+=2){p=parseInt(a.substr(l,2),16);if(isNaN(p))throw Error("String of HEX type contains invalid characters");m=(l>>>1)+q;for(f=m>>>2;_c.length<=f;){_c.push(0)}_c[f]|=p<<8*(u+m%4*b)}return{value:_c,binLen:4*g+d}};break;case"TEXT":c=function c(_c2,h,d){var g,l,p=0,f,m,q,u,r,t;h=h||[0];d=d||0;q=d>>>3;if("UTF8"===a)for(t=-1===b?3:0,f=0;f<_c2.length;f+=1){for(g=_c2.charCodeAt(f),l=[],128>g?l.push(g):2048>g?(l.push(192|g>>>6),l.push(128|g&63)):55296>g||57344<=g?l.push(224|g>>>12,128|g>>>6&63,128|g&63):(f+=1,g=65536+((g&1023)<<10|_c2.charCodeAt(f)&1023),l.push(240|g>>>18,128|g>>>12&63,128|g>>>6&63,128|g&63)),m=0;m<l.length;m+=1){r=p+q;for(u=r>>>2;h.length<=u;){h.push(0)}h[u]|=l[m]<<8*(t+r%4*b);p+=1}}else if("UTF16BE"===a||"UTF16LE"===a)for(t=-1===b?2:0,l="UTF16LE"===a&&1!==b||"UTF16LE"!==a&&1===b,f=0;f<_c2.length;f+=1){g=_c2.charCodeAt(f);!0===l&&(m=g&255,g=m<<8|g>>>8);r=p+q;for(u=r>>>2;h.length<=u;){h.push(0)}h[u]|=g<<8*(t+r%4*b);p+=2}return{value:h,binLen:8*p+d}};break;case"B64":c=function c(a,_c3,d){var g=0,l,p,f,m,q,u,r,t;if(-1===a.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");p=a.indexOf("=");a=a.replace(/\=/g,"");if(-1!==p&&p<a.length)throw Error("Invalid '=' found in base-64 string");_c3=_c3||[0];d=d||0;u=d>>>3;t=-1===b?3:0;for(p=0;p<a.length;p+=4){q=a.substr(p,4);for(f=m=0;f<q.length;f+=1){l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(q[f]),m|=l<<18-6*f}for(f=0;f<q.length-1;f+=1){r=g+u;for(l=r>>>2;_c3.length<=l;){_c3.push(0)}_c3[l]|=(m>>>16-8*f&255)<<8*(t+r%4*b);g+=1}}return{value:_c3,binLen:8*g+d}};break;case"BYTES":c=function c(a,_c4,d){var g,l,p,f,m,q;_c4=_c4||[0];d=d||0;p=d>>>3;q=-1===b?3:0;for(l=0;l<a.length;l+=1){g=a.charCodeAt(l),m=l+p,f=m>>>2,_c4.length<=f&&_c4.push(0),_c4[f]|=g<<8*(q+m%4*b)}return{value:_c4,binLen:8*a.length+d}};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function c(a,_c5,d){var g,l,p,f,m,q;_c5=_c5||[0];d=d||0;l=d>>>3;m=-1===b?3:0;q=new Uint8Array(a);for(g=0;g<a.byteLength;g+=1){f=g+l,p=f>>>2,_c5.length<=p&&_c5.push(0),_c5[p]|=q[g]<<8*(m+f%4*b)}return{value:_c5,binLen:8*a.byteLength+d}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return c}function y(c,a){return c<<a|c>>>32-a}function S(c,a){return 32<a?(a-=32,new b(c.b<<a|c.a>>>32-a,c.a<<a|c.b>>>32-a)):0!==a?new b(c.a<<a|c.b>>>32-a,c.b<<a|c.a>>>32-a):c}function w(c,a){return c>>>a|c<<32-a}function t(c,a){var k=null,k=new b(c.a,c.b);return k=32>=a?new b(k.a>>>a|k.b<<32-a&4294967295,k.b>>>a|k.a<<32-a&4294967295):new b(k.b>>>a-32|k.a<<64-a&4294967295,k.a>>>a-32|k.b<<64-a&4294967295)}function T(c,a){var k=null;return k=32>=a?new b(c.a>>>a,c.b>>>a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function aa(c,a,b){return c&a^~c&b}function ba(c,a,k){return new b(c.a&a.a^~c.a&k.a,c.b&a.b^~c.b&k.b)}function U(c,a,b){return c&a^c&b^a&b}function ca(c,a,k){return new b(c.a&a.a^c.a&k.a^a.a&k.a,c.b&a.b^c.b&k.b^a.b&k.b)}function da(c){return w(c,2)^w(c,13)^w(c,22)}function ea(c){var a=t(c,28),k=t(c,34);c=t(c,39);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function fa(c){return w(c,6)^w(c,11)^w(c,25)}function ga(c){var a=t(c,14),k=t(c,18);c=t(c,41);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ha(c){return w(c,7)^w(c,18)^c>>>3}function ia(c){var a=t(c,1),k=t(c,8);c=T(c,7);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ja(c){return w(c,17)^w(c,19)^c>>>10}function ka(c){var a=t(c,19),k=t(c,61);c=T(c,6);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function G(c,a){var b=(c&65535)+(a&65535);return((c>>>16)+(a>>>16)+(b>>>16)&65535)<<16|b&65535}function la(c,a,b,e){var h=(c&65535)+(a&65535)+(b&65535)+(e&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)&65535)<<16|h&65535}function H(c,a,b,e,h){var d=(c&65535)+(a&65535)+(b&65535)+(e&65535)+(h&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)+(d>>>16)&65535)<<16|d&65535}function ma(c,a){var d,e,h;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);h=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,h)}function na(c,a,d,e){var h,n,g;h=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);n=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h>>>16);g=(n&65535)<<16|h&65535;h=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(n>>>16);n=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h>>>16);return new b((n&65535)<<16|h&65535,g)}function oa(c,a,d,e,h){var n,g,l;n=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(h.b&65535);g=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h.b>>>16)+(n>>>16);l=(g&65535)<<16|n&65535;n=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(h.a&65535)+(g>>>16);g=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h.a>>>16)+(n>>>16);return new b((g&65535)<<16|n&65535,l)}function B(c,a){return new b(c.a^a.a,c.b^a.b)}function A(c){var a=[],d;if("SHA-1"===c)a=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===c.lastIndexOf("SHA-",0))switch(a=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case"SHA-224":break;case"SHA-256":a=d;break;case"SHA-384":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case"SHA-512":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error("Unknown SHA variant")}else if(0===c.lastIndexOf("SHA3-",0)||0===c.lastIndexOf("SHAKE",0))for(c=0;5>c;c+=1){a[c]=[new b(0,0),new b(0,0),new b(0,0),new b(0,0),new b(0,0)]}else throw Error("No SHA variants supported");return a}function K(c,a){var b=[],e,d,n,g,l,p,f;e=a[0];d=a[1];n=a[2];g=a[3];l=a[4];for(f=0;80>f;f+=1){b[f]=16>f?c[f]:y(b[f-3]^b[f-8]^b[f-14]^b[f-16],1),p=20>f?H(y(e,5),d&n^~d&g,l,1518500249,b[f]):40>f?H(y(e,5),d^n^g,l,1859775393,b[f]):60>f?H(y(e,5),U(d,n,g),l,2400959708,b[f]):H(y(e,5),d^n^g,l,3395469782,b[f]),l=g,g=n,n=y(d,30),d=e,e=p}a[0]=G(e,a[0]);a[1]=G(d,a[1]);a[2]=G(n,a[2]);a[3]=G(g,a[3]);a[4]=G(l,a[4]);return a}function Z(c,a,b,e){var d;for(d=(a+65>>>9<<4)+15;c.length<=d;){c.push(0)}c[a>>>5]|=128<<24-a%32;a+=b;c[d]=a&4294967295;c[d-1]=a/4294967296|0;a=c.length;for(d=0;d<a;d+=16){e=K(c.slice(d,d+16),e)}return e}function L(c,a,k){var e,h,n,g,l,p,f,m,q,u,r,t,v,w,y,A,z,x,F,B,C,D,E=[],J;if("SHA-224"===k||"SHA-256"===k)u=64,t=1,D=Number,v=G,w=la,y=H,A=ha,z=ja,x=da,F=fa,C=U,B=aa,J=d;else if("SHA-384"===k||"SHA-512"===k)u=80,t=2,D=b,v=ma,w=na,y=oa,A=ia,z=ka,x=ea,F=ga,C=ca,B=ba,J=V;else throw Error("Unexpected error in SHA-2 implementation");k=a[0];e=a[1];h=a[2];n=a[3];g=a[4];l=a[5];p=a[6];f=a[7];for(r=0;r<u;r+=1){16>r?(q=r*t,m=c.length<=q?0:c[q],q=c.length<=q+1?0:c[q+1],E[r]=new D(m,q)):E[r]=w(z(E[r-2]),E[r-7],A(E[r-15]),E[r-16]),m=y(f,F(g),B(g,l,p),J[r],E[r]),q=v(x(k),C(k,e,h)),f=p,p=l,l=g,g=v(n,m),n=h,h=e,e=k,k=v(m,q)}a[0]=v(k,a[0]);a[1]=v(e,a[1]);a[2]=v(h,a[2]);a[3]=v(n,a[3]);a[4]=v(g,a[4]);a[5]=v(l,a[5]);a[6]=v(p,a[6]);a[7]=v(f,a[7]);return a}function D(c,a){var d,e,h,n,g=[],l=[];if(null!==c)for(e=0;e<c.length;e+=2){a[(e>>>1)%5][(e>>>1)/5|0]=B(a[(e>>>1)%5][(e>>>1)/5|0],new b(c[e+1],c[e]))}for(d=0;24>d;d+=1){n=A("SHA3-");for(e=0;5>e;e+=1){h=a[e][0];var p=a[e][1],f=a[e][2],m=a[e][3],q=a[e][4];g[e]=new b(h.a^p.a^f.a^m.a^q.a,h.b^p.b^f.b^m.b^q.b)}for(e=0;5>e;e+=1){l[e]=B(g[(e+4)%5],S(g[(e+1)%5],1))}for(e=0;5>e;e+=1){for(h=0;5>h;h+=1){a[e][h]=B(a[e][h],l[e])}}for(e=0;5>e;e+=1){for(h=0;5>h;h+=1){n[h][(2*e+3*h)%5]=S(a[e][h],W[e][h])}}for(e=0;5>e;e+=1){for(h=0;5>h;h+=1){a[e][h]=B(n[e][h],new b(~n[(e+1)%5][h].a&n[(e+2)%5][h].a,~n[(e+1)%5][h].b&n[(e+2)%5][h].b))}}a[0][0]=B(a[0][0],X[d])}return a}var d,V,W,X;d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];V=[new b(d[0],3609767458),new b(d[1],602891725),new b(d[2],3964484399),new b(d[3],2173295548),new b(d[4],4081628472),new b(d[5],3053834265),new b(d[6],2937671579),new b(d[7],3664609560),new b(d[8],2734883394),new b(d[9],1164996542),new b(d[10],1323610764),new b(d[11],3590304994),new b(d[12],4068182383),new b(d[13],991336113),new b(d[14],633803317),new b(d[15],3479774868),new b(d[16],2666613458),new b(d[17],944711139),new b(d[18],2341262773),new b(d[19],2007800933),new b(d[20],1495990901),new b(d[21],1856431235),new b(d[22],3175218132),new b(d[23],2198950837),new b(d[24],3999719339),new b(d[25],766784016),new b(d[26],2566594879),new b(d[27],3203337956),new b(d[28],1034457026),new b(d[29],2466948901),new b(d[30],3758326383),new b(d[31],168717936),new b(d[32],1188179964),new b(d[33],1546045734),new b(d[34],1522805485),new b(d[35],2643833823),new b(d[36],2343527390),new b(d[37],1014477480),new b(d[38],1206759142),new b(d[39],344077627),new b(d[40],1290863460),new b(d[41],3158454273),new b(d[42],3505952657),new b(d[43],106217008),new b(d[44],3606008344),new b(d[45],1432725776),new b(d[46],1467031594),new b(d[47],851169720),new b(d[48],3100823752),new b(d[49],1363258195),new b(d[50],3750685593),new b(d[51],3785050280),new b(d[52],3318307427),new b(d[53],3812723403),new b(d[54],2003034995),new b(d[55],3602036899),new b(d[56],1575990012),new b(d[57],1125592928),new b(d[58],2716904306),new b(d[59],442776044),new b(d[60],593698344),new b(d[61],3733110249),new b(d[62],2999351573),new b(d[63],3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];X=[new b(0,1),new b(0,32898),new b(2147483648,32906),new b(2147483648,2147516416),new b(0,32907),new b(0,2147483649),new b(2147483648,2147516545),new b(2147483648,32777),new b(0,138),new b(0,136),new b(0,2147516425),new b(0,2147483658),new b(0,2147516555),new b(2147483648,139),new b(2147483648,32905),new b(2147483648,32771),new b(2147483648,32770),new b(2147483648,128),new b(0,32778),new b(2147483648,2147483658),new b(2147483648,2147516545),new b(2147483648,32896),new b(0,2147483649),new b(2147483648,2147516424)];W=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];true?!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return C}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=C),exports=C):Y.jsSHA=C})(undefined)},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Glob=function(){function Glob(text){this.text=text;this.glob=text.split(".");var regexpString=this.text.split(".").map(function(seg){if(seg==="**")return"(?:|(?:\\.[^.]*)*)";if(seg==="*")return"\\.[^.]*";return"\\."+seg}).join("");this.regexp=new RegExp("^"+regexpString+"$")}Glob.is=function(text){return!!/[!,*]+/.exec(text)};Glob.fromString=function(text){return Glob.is(text)?new Glob(text):null};Glob.prototype.matches=function(name){return this.regexp.test("."+name)};return Glob}();exports.Glob=Glob},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var Queue=function(){function Queue(_items,_limit){if(_items===void 0){_items=[]}if(_limit===void 0){_limit=null}this._items=_items;this._limit=_limit;this._evictListeners=[];this.onEvict=common_1.pushTo(this._evictListeners)}Queue.prototype.enqueue=function(item){var items=this._items;items.push(item);if(this._limit&&items.length>this._limit)this.evict();return item};Queue.prototype.evict=function(){var item=this._items.shift();this._evictListeners.forEach(function(fn){return fn(item)});return item};Queue.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]};Queue.prototype.clear=function(){var current=this._items;this._items=[];return current};Queue.prototype.size=function(){return this._items.length};Queue.prototype.remove=function(item){var idx=this._items.indexOf(item);return idx>-1&&this._items.splice(idx,1)[0]};Queue.prototype.peekTail=function(){return this._items[this._items.length-1]};Queue.prototype.peekHead=function(){if(this.size())return this._items[0]};return Queue}();exports.Queue=Queue},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var ParamType=function(){function ParamType(def){this.pattern=/.*/;this.inherit=true;common_1.extend(this,def)}ParamType.prototype.is=function(val,key){return true};ParamType.prototype.encode=function(val,key){return val};ParamType.prototype.decode=function(val,key){return val};ParamType.prototype.equals=function(a,b){return a==b};ParamType.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)};ParamType.prototype.toString=function(){return"{ParamType:"+this.name+"}"};ParamType.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)};ParamType.prototype.$asArray=function(mode,isSearch){if(!mode)return this;if(mode==="auto"&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)};return ParamType}();exports.ParamType=ParamType;function ArrayType(type,mode){var _this=this;function arrayWrap(val){return predicates_1.isArray(val)?val:predicates_1.isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return mode==="auto"?val[0]:val;default:return val}}function arrayHandler(callback,allTruthyMode){return function handleArray(val){if(predicates_1.isArray(val)&&val.length===0)return val;var arr=arrayWrap(val);var result=common_1.map(arr,callback);return allTruthyMode===true?common_1.filter(result,function(x){return!x}).length===0:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function handleArray(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return false;for(var i=0;i<left.length;i++){if(!callback(left[i],right[i]))return false}return true}}["encode","decode","equals","$normalize"].forEach(function(name){var paramTypeFn=type[name].bind(type);var wrapperFn=name==="equals"?arrayEqualsHandler:arrayHandler;_this[name]=wrapperFn(paramTypeFn)});common_1.extend(this,{dynamic:type.dynamic,name:type.name,pattern:type.pattern,inherit:type.inherit,is:arrayHandler(type.is.bind(type),true),$arrayMode:mode})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var param_1=__webpack_require__(18);var PathNode=function(){function PathNode(stateOrNode){if(stateOrNode instanceof PathNode){var node=stateOrNode;this.state=node.state;this.paramSchema=node.paramSchema.slice();this.paramValues=common_1.extend({},node.paramValues);this.resolvables=node.resolvables.slice();this.views=node.views&&node.views.slice()}else{var state=stateOrNode;this.state=state;this.paramSchema=state.parameters({inherit:false});this.paramValues={};this.resolvables=state.resolvables.map(function(res){return res.clone()})}}PathNode.prototype.clone=function(){return new PathNode(this)};PathNode.prototype.applyRawParams=function(params){var getParamVal=function getParamVal(paramDef){return[paramDef.id,paramDef.value(params[paramDef.id])]};this.paramValues=this.paramSchema.reduce(function(memo,pDef){return common_1.applyPairs(memo,getParamVal(pDef))},{});return this};PathNode.prototype.parameter=function(name){return common_1.find(this.paramSchema,hof_1.propEq("id",name))};PathNode.prototype.equals=function(node,paramsFn){var diff=this.diff(node,paramsFn);return diff&&diff.length===0};PathNode.prototype.diff=function(node,paramsFn){if(this.state!==node.state)return false;var params=paramsFn?paramsFn(this):this.paramSchema;return param_1.Param.changed(params,this.paramValues,node.paramValues)};PathNode.clone=function(node){return node.clone()};return PathNode}();exports.PathNode=PathNode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var glob_1=__webpack_require__(48);var predicates_1=__webpack_require__(3);var StateObject=function(){function StateObject(config){return StateObject.create(config||{})}StateObject.create=function(stateDecl){stateDecl=StateObject.isStateClass(stateDecl)?new stateDecl:stateDecl;var state=common_1.inherit(common_1.inherit(stateDecl,StateObject.prototype));stateDecl.$$state=function(){return state};state.self=stateDecl;state.__stateObjectCache={nameGlob:glob_1.Glob.fromString(state.name)};return state};StateObject.prototype.is=function(ref){return this===ref||this.self===ref||this.fqn()===ref};StateObject.prototype.fqn=function(){if(!this.parent||!(this.parent instanceof this.constructor))return this.name;var name=this.parent.fqn();return name?name+"."+this.name:this.name};StateObject.prototype.root=function(){return this.parent&&this.parent.root()||this};StateObject.prototype.parameters=function(opts){opts=common_1.defaults(opts,{inherit:true,matchingKeys:null});var inherited=opts.inherit&&this.parent&&this.parent.parameters()||[];return inherited.concat(common_1.values(this.params)).filter(function(param){return!opts.matchingKeys||opts.matchingKeys.hasOwnProperty(param.id)})};StateObject.prototype.parameter=function(id,opts){if(opts===void 0){opts={}}return this.url&&this.url.parameter(id,opts)||common_1.find(common_1.values(this.params),hof_1.propEq("id",id))||opts.inherit&&this.parent&&this.parent.parameter(id)};StateObject.prototype.toString=function(){return this.fqn()};StateObject.isStateClass=function(stateDecl){return predicates_1.isFunction(stateDecl)&&stateDecl["__uiRouterState"]===true};StateObject.isState=function(obj){return predicates_1.isObject(obj["__stateObjectCache"])};return StateObject}();exports.StateObject=StateObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(10);var interface_1=__webpack_require__(20);function matchState(state,criterion){var toMatch=common_1.isString(criterion)?[criterion]:criterion;function matchGlobs(_state){var globStrings=toMatch;for(var i=0;i<globStrings.length;i++){var glob=new common_1.Glob(globStrings[i]);if(glob&&glob.matches(_state.name)||!glob&&globStrings[i]===_state.name){return true}}return false}var matchFn=common_1.isFunction(toMatch)?toMatch:matchGlobs;return!!matchFn(state)}exports.matchState=matchState;var RegisteredHook=function(){function RegisteredHook(tranSvc,eventType,callback,matchCriteria,removeHookFromRegistry,options){if(options===void 0){options={}}this.tranSvc=tranSvc;this.eventType=eventType;this.callback=callback;this.matchCriteria=matchCriteria;this.removeHookFromRegistry=removeHookFromRegistry;this.invokeCount=0;this._deregistered=false;this.priority=options.priority||0;this.bind=options.bind||null;this.invokeLimit=options.invokeLimit}RegisteredHook.prototype._matchingNodes=function(nodes,criterion){if(criterion===true)return nodes;var matching=nodes.filter(function(node){return matchState(node.state,criterion)});return matching.length?matching:null};RegisteredHook.prototype._getDefaultMatchCriteria=function(){return common_1.mapObj(this.tranSvc._pluginapi._getPathTypes(),function(){return true})};RegisteredHook.prototype._getMatchingNodes=function(treeChanges){var _this=this;var criteria=common_1.extend(this._getDefaultMatchCriteria(),this.matchCriteria);var paths=common_1.values(this.tranSvc._pluginapi._getPathTypes());return paths.reduce(function(mn,pathtype){var isStateHook=pathtype.scope===interface_1.TransitionHookScope.STATE;var path=treeChanges[pathtype.name]||[];var nodes=isStateHook?path:[common_1.tail(path)];mn[pathtype.name]=_this._matchingNodes(nodes,criteria[pathtype.name]);return mn},{})};RegisteredHook.prototype.matches=function(treeChanges){var matches=this._getMatchingNodes(treeChanges);var allMatched=common_1.values(matches).every(common_1.identity);return allMatched?matches:null};RegisteredHook.prototype.deregister=function(){this.removeHookFromRegistry(this);this._deregistered=true};return RegisteredHook}();exports.RegisteredHook=RegisteredHook;function makeEvent(registry,transitionService,eventType){var _registeredHooks=registry._registeredHooks=registry._registeredHooks||{};var hooks=_registeredHooks[eventType.name]=[];var removeHookFn=common_1.removeFrom(hooks);registry[eventType.name]=hookRegistrationFn;function hookRegistrationFn(matchObject,callback,options){if(options===void 0){options={}}var registeredHook=new RegisteredHook(transitionService,eventType,callback,matchObject,removeHookFn,options);hooks.push(registeredHook);return registeredHook.deregister.bind(registeredHook)}return hookRegistrationFn}exports.makeEvent=makeEvent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var interface_1=__webpack_require__(20);var transition_1=__webpack_require__(34);var hookRegistry_1=__webpack_require__(53);var coreResolvables_1=__webpack_require__(179);var redirectTo_1=__webpack_require__(183);var onEnterExitRetain_1=__webpack_require__(182);var resolve_1=__webpack_require__(184);var views_1=__webpack_require__(187);var updateGlobals_1=__webpack_require__(185);var url_1=__webpack_require__(186);var lazyLoad_1=__webpack_require__(79);var transitionEventType_1=__webpack_require__(92);var transitionHook_1=__webpack_require__(26);var predicates_1=__webpack_require__(3);var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var ignoredTransition_1=__webpack_require__(180);var invalidTransition_1=__webpack_require__(181);exports.defaultTransOpts={location:true,relative:null,inherit:false,notify:true,reload:false,custom:{},current:function current(){return null},source:"unknown"};var TransitionService=function(){function TransitionService(_router){this._transitionCount=0;this._eventTypes=[];this._registeredHooks={};this._criteriaPaths={};this._router=_router;this.$view=_router.viewService;this._deregisterHookFns={};this._pluginapi=common_1.createProxyFunctions(hof_1.val(this),{},hof_1.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]);this._defineCorePaths();this._defineCoreEvents();this._registerCoreTransitionHooks();_router.globals.successfulTransitions.onEvict(coreResolvables_1.treeChangesCleanup)}TransitionService.prototype.onCreate=function(criteria,callback,options){return};TransitionService.prototype.onBefore=function(criteria,callback,options){return};TransitionService.prototype.onStart=function(criteria,callback,options){return};TransitionService.prototype.onExit=function(criteria,callback,options){return};TransitionService.prototype.onRetain=function(criteria,callback,options){return};TransitionService.prototype.onEnter=function(criteria,callback,options){return};TransitionService.prototype.onFinish=function(criteria,callback,options){return};TransitionService.prototype.onSuccess=function(criteria,callback,options){return};TransitionService.prototype.onError=function(criteria,callback,options){return};TransitionService.prototype.dispose=function(router){common_1.values(this._registeredHooks).forEach(function(hooksArray){return hooksArray.forEach(function(hook){hook._deregistered=true;common_1.removeFrom(hooksArray,hook)})})};TransitionService.prototype.create=function(fromPath,targetState){return new transition_1.Transition(fromPath,targetState,this._router)};TransitionService.prototype._defineCoreEvents=function(){var Phase=interface_1.TransitionHookPhase;var TH=transitionHook_1.TransitionHook;var paths=this._criteriaPaths;var NORMAL_SORT=false,REVERSE_SORT=true;var SYNCHRONOUS=true;this._defineEvent("onCreate",Phase.CREATE,0,paths.to,NORMAL_SORT,TH.LOG_REJECTED_RESULT,TH.THROW_ERROR,SYNCHRONOUS);this._defineEvent("onBefore",Phase.BEFORE,0,paths.to);this._defineEvent("onStart",Phase.RUN,0,paths.to);this._defineEvent("onExit",Phase.RUN,100,paths.exiting,REVERSE_SORT);this._defineEvent("onRetain",Phase.RUN,200,paths.retained);this._defineEvent("onEnter",Phase.RUN,300,paths.entering);this._defineEvent("onFinish",Phase.RUN,400,paths.to);this._defineEvent("onSuccess",Phase.SUCCESS,0,paths.to,NORMAL_SORT,TH.LOG_REJECTED_RESULT,TH.LOG_ERROR,SYNCHRONOUS);this._defineEvent("onError",Phase.ERROR,0,paths.to,NORMAL_SORT,TH.LOG_REJECTED_RESULT,TH.LOG_ERROR,SYNCHRONOUS)};TransitionService.prototype._defineCorePaths=function(){var STATE=interface_1.TransitionHookScope.STATE,TRANSITION=interface_1.TransitionHookScope.TRANSITION;this._definePathType("to",TRANSITION);this._definePathType("from",TRANSITION);this._definePathType("exiting",STATE);this._definePathType("retained",STATE);this._definePathType("entering",STATE)};TransitionService.prototype._defineEvent=function(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous){if(reverseSort===void 0){reverseSort=false}if(getResultHandler===void 0){getResultHandler=transitionHook_1.TransitionHook.HANDLE_RESULT}if(getErrorHandler===void 0){getErrorHandler=transitionHook_1.TransitionHook.REJECT_ERROR}if(synchronous===void 0){synchronous=false}var eventType=new transitionEventType_1.TransitionEventType(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous);this._eventTypes.push(eventType);hookRegistry_1.makeEvent(this,this,eventType)};TransitionService.prototype._getEvents=function(phase){var transitionHookTypes=predicates_1.isDefined(phase)?this._eventTypes.filter(function(type){return type.hookPhase===phase}):this._eventTypes.slice();return transitionHookTypes.sort(function(l,r){var cmpByPhase=l.hookPhase-r.hookPhase;return cmpByPhase===0?l.hookOrder-r.hookOrder:cmpByPhase})};TransitionService.prototype._definePathType=function(name,hookScope){this._criteriaPaths[name]={name:name,scope:hookScope}};TransitionService.prototype._getPathTypes=function(){return this._criteriaPaths};TransitionService.prototype.getHooks=function(hookName){return this._registeredHooks[hookName]};TransitionService.prototype._registerCoreTransitionHooks=function(){var fns=this._deregisterHookFns;fns.addCoreResolves=coreResolvables_1.registerAddCoreResolvables(this);fns.ignored=ignoredTransition_1.registerIgnoredTransitionHook(this);fns.invalid=invalidTransition_1.registerInvalidTransitionHook(this);fns.redirectTo=redirectTo_1.registerRedirectToHook(this);fns.onExit=onEnterExitRetain_1.registerOnExitHook(this);fns.onRetain=onEnterExitRetain_1.registerOnRetainHook(this);fns.onEnter=onEnterExitRetain_1.registerOnEnterHook(this);fns.eagerResolve=resolve_1.registerEagerResolvePath(this);fns.lazyResolve=resolve_1.registerLazyResolveState(this);fns.resolveAll=resolve_1.registerResolveRemaining(this);fns.loadViews=views_1.registerLoadEnteringViews(this);fns.activateViews=views_1.registerActivateViews(this);fns.updateGlobals=updateGlobals_1.registerUpdateGlobalState(this);fns.updateUrl=url_1.registerUpdateUrl(this);fns.lazyLoad=lazyLoad_1.registerLazyLoadHook(this)};return TransitionService}();exports.TransitionService=TransitionService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(10);exports.keyValsToObjectR=function(accum,_a){var key=_a[0],val=_a[1];if(!accum.hasOwnProperty(key)){accum[key]=val}else if(common_1.isArray(accum[key])){accum[key].push(val)}else{accum[key]=[accum[key],val]}return accum};exports.getParams=function(queryString){return queryString.split("&").filter(common_1.identity).map(common_1.splitEqual).reduce(exports.keyValsToObjectR,{})};function parseUrl(url){var orEmptyString=function orEmptyString(x){return x||""};var _a=common_1.splitHash(url).map(orEmptyString),beforehash=_a[0],hash=_a[1];var _b=common_1.splitQuery(beforehash).map(orEmptyString),path=_b[0],search=_b[1];return{path:path,search:search,hash:hash,url:url}}exports.parseUrl=parseUrl;exports.buildUrl=function(loc){var path=loc.path();var searchObject=loc.search();var hash=loc.hash();var search=Object.keys(searchObject).map(function(key){var param=searchObject[key];var vals=common_1.isArray(param)?param:[param];return vals.map(function(val){return key+"="+val})}).reduce(common_1.unnestR,[]).join("&");return path+(search?"?"+search:"")+(hash?"#"+hash:"")};function locationPluginFactory(name,isHtml5,serviceClass,configurationClass){return function(uiRouter){var service=uiRouter.locationService=new serviceClass(uiRouter);var configuration=uiRouter.locationConfig=new configurationClass(uiRouter,isHtml5);function dispose(router){router.dispose(service);router.dispose(configuration)}return{name:name,service:service,configuration:configuration,dispose:dispose}}}exports.locationPluginFactory=locationPluginFactory},,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(process,global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(global,factory){(false?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?module.exports=factory():true?!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):global.ES6Promise=factory()})(undefined,function(){"use strict";function objectOrFunction(x){var type=typeof x==="undefined"?"undefined":_typeof(x);return x!==null&&(type==="object"||type==="function")}function isFunction(x){return typeof x==="function"}var _isArray=void 0;if(Array.isArray){_isArray=Array.isArray}else{_isArray=function _isArray(x){return Object.prototype.toString.call(x)==="[object Array]"}}var isArray=_isArray;var len=0;var vertxNext=void 0;var customSchedulerFn=void 0;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!=="undefined"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!=="undefined"){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var vertx=Function("return this")().require("vertx");vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=void 0;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&"function"==="function"){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){var callback=arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve$1(object){var Constructor=this;if(object&&(typeof object==="undefined"?"undefined":_typeof(object))==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(noop);resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(2);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var TRY_CATCH_ERROR={error:null};function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function getThen(promise){try{return promise.then}catch(error){TRY_CATCH_ERROR.error=error;return TRY_CATCH_ERROR}}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable)}else{if(then$$1===TRY_CATCH_ERROR){reject(promise,TRY_CATCH_ERROR.error);TRY_CATCH_ERROR.error=null}else if(then$$1===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment())}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value))}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=void 0,callback=void 0,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=void 0,failed=void 0;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null}else{succeeded=true}if(promise===value){reject(promise,cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function validationError(){return new Error("Array Methods must be provided an Array")}var Enumerator=function(){function Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,validationError())}}Enumerator.prototype._enumerate=function _enumerate(input){for(var i=0;this._state===PENDING&&i<input.length;i++){this._eachEntry(input[i],i)}};Enumerator.prototype._eachEntry=function _eachEntry(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!=="function"){this._remaining--;this._result[i]=entry}else if(c===Promise$1){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}}else{this._willSettleAt(resolve$$1(entry),i)}};Enumerator.prototype._settledAt=function _settledAt(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator.prototype._willSettleAt=function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})};return Enumerator}();function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError("You must pass an array to race."))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Promise$1=function(){function Promise(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=="function"&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew()}}Promise.prototype.catch=function _catch(onRejection){return this.then(null,onRejection)};Promise.prototype.finally=function _finally(callback){var promise=this;var constructor=promise.constructor;return promise.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})})};return Promise}();Promise$1.prototype.then=then;Promise$1.all=all;Promise$1.race=race;Promise$1.resolve=resolve$1;Promise$1.reject=reject$1;Promise$1._setScheduler=setScheduler;Promise$1._setAsap=setAsap;Promise$1._asap=asap;function polyfill(){var local=void 0;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString==="[object Promise]"&&!P.cast){return}}local.Promise=Promise$1}Promise$1.polyfill=polyfill;Promise$1.Promise=Promise$1;return Promise$1})}).call(exports,__webpack_require__(261),__webpack_require__(136))},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var root;if(typeof window!=="undefined"){root=window}else if(typeof self!=="undefined"){root=self}else{console.warn("Using browser-only version of superagent in non-browser environment");root=undefined}var Emitter=__webpack_require__(239);var RequestBase=__webpack_require__(241);var isObject=__webpack_require__(133);var ResponseBase=__webpack_require__(242);var Agent=__webpack_require__(240);function noop(){}var request=exports=module.exports=function(method,url){if("function"==typeof url){return new exports.Request("GET",method).end(url)}if(1==arguments.length){return new exports.Request("GET",method)}return new exports.Request(method,url)};exports.Request=Request;request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}throw Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){pushEncodedKeyValuePair(pairs,key,obj[key])}return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(val!=null){if(Array.isArray(val)){val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)})}else if(isObject(val)){for(var subkey in val){pushEncodedKeyValuePair(pairs,key+"["+subkey+"]",val[subkey])}}else{pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}}else if(val===null){pairs.push(encodeURIComponent(key))}}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var pair;var pos;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];pos=pair.indexOf("=");if(pos==-1){obj[decodeURIComponent(pair)]=""}else{obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1))}}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");if(index===-1){continue}field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function isJSON(mime){return/[\/+]json($|[^-\w])/.test(mime)}function Response(req){this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var status=this.xhr.status;if(status===1223){status=204}this._setStatusProperties(status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this._setHeaderProperties(this.header);if(null===this.text&&req._responseType){this.body=this.xhr.response}else{this.body=this.req.method!="HEAD"?this._parseBody(this.text?this.text:this.xhr.response):null}}ResponseBase(Response.prototype);Response.prototype._parseBody=function(str){var parse=request.parse[this.type];if(this.req._parser){return this.req._parser(this,str)}if(!parse&&isJSON(this.type)){parse=request.parse["application/json"]}return parse&&str&&(str.length||str instanceof Object)?parse(str):null};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e;if(self.xhr){err.rawResponse=typeof self.xhr.responseType=="undefined"?self.xhr.responseText:self.xhr.response;err.status=self.xhr.status?self.xhr.status:null;err.statusCode=err.status}else{err.rawResponse=null;err.status=null}return self.callback(err)}self.emit("response",res);var new_err;try{if(!self._isResponseOK(res)){new_err=new Error(res.statusText||"Unsuccessful HTTP response")}}catch(custom_err){new_err=custom_err}if(new_err){new_err.original=err;new_err.response=res;new_err.status=res.status;self.callback(new_err,res)}else{self.callback(null,res)}})}Emitter(Request.prototype);RequestBase(Request.prototype);Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass,options){if(1===arguments.length)pass="";if((typeof pass==="undefined"?"undefined":_typeof(pass))==="object"&&pass!==null){options=pass;pass=""}if(!options){options={type:"function"===typeof btoa?"basic":"auto"}}var encoder=function encoder(string){if("function"===typeof btoa){return btoa(string)}throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(user,pass,options,encoder)};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.attach=function(field,file,options){if(file){if(this._data){throw Error("superagent can't mix .send() and .attach()")}this._getFormData().append(field,file,options||file.name)}return this};Request.prototype._getFormData=function(){if(!this._formData){this._formData=new root.FormData}return this._formData};Request.prototype.callback=function(err,res){if(this._shouldRetry(err,res)){return this._retry()}var fn=this._callback;this.clearTimeout();if(err){if(this._maxRetries)err.retries=this._retries-1;this.emit("error",err)}fn(err,res)};Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=true;err.status=this.status;err.method=this.method;err.url=this.url;this.callback(err)};Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");return this};Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")};Request.prototype._isHost=function _isHost(obj){return obj&&"object"===(typeof obj==="undefined"?"undefined":_typeof(obj))&&!Array.isArray(obj)&&Object.prototype.toString.call(obj)!=="[object Object]"};Request.prototype.end=function(fn){if(this._endCalled){console.warn("Warning: .end() was called twice. This is not supported in superagent")}this._endCalled=true;this._callback=fn||noop;this._finalizeQueryString();return this._end()};Request.prototype._end=function(){var self=this;var xhr=this.xhr=request.getXHR();var data=this._formData||this._data;this._setTimeouts();xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer){clearTimeout(self._responseTimeoutTimer)}if(4!=readyState){return}var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")};var handleProgress=function handleProgress(direction,e){if(e.total>0){e.percent=e.loaded/e.total*100}e.direction=direction;self.emit("progress",e)};if(this.hasListeners("progress")){try{xhr.onprogress=handleProgress.bind(null,"download");if(xhr.upload){xhr.upload.onprogress=handleProgress.bind(null,"upload")}}catch(e){}}try{if(this.username&&this.password){xhr.open(this.method,this.url,true,this.username,this.password)}else{xhr.open(this.method,this.url,true)}}catch(err){return this.callback(err)}if(this._withCredentials)xhr.withCredentials=true;if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"];var serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];if(!serialize&&isJSON(contentType)){serialize=request.serialize["application/json"]}if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;if(this.header.hasOwnProperty(field))xhr.setRequestHeader(field,this.header[field])}if(this._responseType){xhr.responseType=this._responseType}this.emit("request",this);xhr.send(typeof data!=="undefined"?data:null);return this};request.agent=function(){return new Agent};["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(method){Agent.prototype[method.toLowerCase()]=function(url,fn){var req=new request.Request(method,url);this._setDefaults(req);if(fn){req.end(fn)}return req}});Agent.prototype.del=Agent.prototype["delete"];request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.options=function(url,data,fn){var req=request("OPTIONS",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};function del(url,data,fn){var req=request("DELETE",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req}request["del"]=del;request["delete"]=del;request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req}},function(module,exports,__webpack_require__){"use strict";function getBaseURL(host){return"https://"+host+".dropboxapi.com/2/"}module.exports=getBaseURL},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/pundit-c7ce73.html"},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var stateParams_1=__webpack_require__(82);var queue_1=__webpack_require__(49);var UIRouterGlobals=function(){function UIRouterGlobals(){this.params=new stateParams_1.StateParams;this.lastStartedTransitionId=-1;this.transitionHistory=new queue_1.Queue([],1);this.successfulTransitions=new queue_1.Queue([],1)}UIRouterGlobals.prototype.dispose=function(){this.transitionHistory.clear();this.successfulTransitions.clear();this.transition=null};return UIRouterGlobals}();exports.UIRouterGlobals=UIRouterGlobals},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var coreservices_1=__webpack_require__(8);var lazyLoadHook=function lazyLoadHook(transition){var router=transition.router;function retryTransition(){if(transition.originalTransition().options().source!=="url"){var orig=transition.targetState();return router.stateService.target(orig.identifier(),orig.params(),orig.options())}var $url=router.urlService;var result=$url.match($url.parts());var rule=result&&result.rule;if(rule&&rule.type==="STATE"){var state=rule.state;var params=result.match;return router.stateService.target(state,params,transition.options())}router.urlService.sync()}var promises=transition.entering().filter(function(state){return!!state.$$state().lazyLoad}).map(function(state){return lazyLoadState(transition,state)});return coreservices_1.services.$q.all(promises).then(retryTransition)};exports.registerLazyLoadHook=function(transitionService){return transitionService.onBefore({entering:function entering(state){return!!state.lazyLoad}},lazyLoadHook)};function lazyLoadState(transition,state){var lazyLoadFn=state.$$state().lazyLoad;var promise=lazyLoadFn["_promise"];if(!promise){var success=function success(result){delete state.lazyLoad;delete state.$$state().lazyLoad;delete lazyLoadFn["_promise"];return result};var error=function error(err){delete lazyLoadFn["_promise"];return coreservices_1.services.$q.reject(err)};promise=lazyLoadFn["_promise"]=coreservices_1.services.$q.when(lazyLoadFn(transition,state)).then(updateStateRegistry).then(success,error)}function updateStateRegistry(result){if(result&&Array.isArray(result.states)){result.states.forEach(function(_state){return transition.router.stateRegistry.register(_state)})}return result}return promise}exports.lazyLoadState=lazyLoadState},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(10));__export(__webpack_require__(189));__export(__webpack_require__(190));__export(__webpack_require__(83));__export(__webpack_require__(191));__export(__webpack_require__(192));__export(__webpack_require__(193));__export(__webpack_require__(197));__export(__webpack_require__(78));__export(__webpack_require__(85));__export(__webpack_require__(194));__export(__webpack_require__(188))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var hof_1=__webpack_require__(4);var coreservices_1=__webpack_require__(8);var paramType_1=__webpack_require__(50);var ParamTypes=function(){function ParamTypes(){this.enqueue=true;this.typeQueue=[];this.defaultTypes=common_1.pick(ParamTypes.prototype,["hash","string","query","path","int","bool","date","json","any"]);var makeType=function makeType(definition,name){return new paramType_1.ParamType(common_1.extend({name:name},definition))};this.types=common_1.inherit(common_1.map(this.defaultTypes,makeType),{})}ParamTypes.prototype.dispose=function(){this.types={}};ParamTypes.prototype.type=function(name,definition,definitionFn){if(!predicates_1.isDefined(definition))return this.types[name];if(this.types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");this.types[name]=new paramType_1.ParamType(common_1.extend({name:name},definition));if(definitionFn){this.typeQueue.push({name:name,def:definitionFn});if(!this.enqueue)this._flushTypeQueue()}return this};ParamTypes.prototype._flushTypeQueue=function(){while(this.typeQueue.length){var type=this.typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");common_1.extend(this.types[type.name],coreservices_1.services.$injector.invoke(type.def))}};return ParamTypes}();exports.ParamTypes=ParamTypes;function initDefaultTypes(){var makeDefaultType=function makeDefaultType(def){var valToString=function valToString(val){return val!=null?val.toString():val};var defaultTypeBase={encode:valToString,decode:valToString,is:hof_1.is(String),pattern:/.*/,equals:function equals(a,b){return a==b}};return common_1.extend({},defaultTypeBase,def)};common_1.extend(ParamTypes.prototype,{string:makeDefaultType({}),path:makeDefaultType({pattern:/[^/]*/}),query:makeDefaultType({}),hash:makeDefaultType({inherit:false}),int:makeDefaultType({decode:function decode(val){return parseInt(val,10)},is:function is(val){return!predicates_1.isNullOrUndefined(val)&&this.decode(val.toString())===val},pattern:/-?\d+/}),bool:makeDefaultType({encode:function encode(val){return val&&1||0},decode:function decode(val){return parseInt(val,10)!==0},is:hof_1.is(Boolean),pattern:/0|1/}),date:makeDefaultType({encode:function encode(val){return!this.is(val)?undefined:[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-")},decode:function decode(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function is(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function equals(l,r){return["getFullYear","getMonth","getDate"].reduce(function(acc,fn){return acc&&l[fn]()===r[fn]()},true)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:makeDefaultType({encode:common_1.toJson,decode:common_1.fromJson,is:hof_1.is(Object),equals:common_1.equals,pattern:/[^/]*/}),any:makeDefaultType({encode:common_1.identity,decode:common_1.identity,is:function is(){return true},equals:common_1.equals})})}initDefaultTypes()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var StateParams=function(){function StateParams(params){if(params===void 0){params={}}common_1.extend(this,params)}StateParams.prototype.$inherit=function(newParams,$current,$to){var parentParams;var parents=common_1.ancestors($current,$to),inherited={},inheritList=[];for(var i in parents){if(!parents[i]||!parents[i].params)continue;parentParams=Object.keys(parents[i].params);if(!parentParams.length)continue;for(var j in parentParams){if(inheritList.indexOf(parentParams[j])>=0)continue;inheritList.push(parentParams[j]);inherited[parentParams[j]]=this[parentParams[j]]}}return common_1.extend({},inherited,newParams)};return StateParams}();exports.StateParams=StateParams},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(84));__export(__webpack_require__(24));__export(__webpack_require__(33))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var urlMatcherFactory_1=__webpack_require__(93);var urlRouter_1=__webpack_require__(94);var transitionService_1=__webpack_require__(54);var view_1=__webpack_require__(104);var stateRegistry_1=__webpack_require__(89);var stateService_1=__webpack_require__(90);var globals_1=__webpack_require__(78);var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var urlService_1=__webpack_require__(96);var trace_1=__webpack_require__(14);var _routerInstance=0;var UIRouter=function(){function UIRouter(locationService,locationConfig){if(locationService===void 0){locationService=urlService_1.UrlService.locationServiceStub}if(locationConfig===void 0){locationConfig=urlService_1.UrlService.locationConfigStub}this.locationService=locationService;this.locationConfig=locationConfig;this.$id=_routerInstance++;this._disposed=false;this._disposables=[];this.trace=trace_1.trace;this.viewService=new view_1.ViewService;this.globals=new globals_1.UIRouterGlobals;this.transitionService=new transitionService_1.TransitionService(this);this.urlMatcherFactory=new urlMatcherFactory_1.UrlMatcherFactory;this.urlRouter=new urlRouter_1.UrlRouter(this);this.stateRegistry=new stateRegistry_1.StateRegistry(this);this.stateService=new stateService_1.StateService(this);this.urlService=new urlService_1.UrlService(this);this._plugins={};this.viewService._pluginapi._rootViewContext(this.stateRegistry.root());this.globals.$current=this.stateRegistry.root();this.globals.current=this.globals.$current.self;this.disposable(this.globals);this.disposable(this.stateService);this.disposable(this.stateRegistry);this.disposable(this.transitionService);this.disposable(this.urlRouter);this.disposable(locationService);this.disposable(locationConfig)}UIRouter.prototype.disposable=function(disposable){this._disposables.push(disposable)};UIRouter.prototype.dispose=function(disposable){var _this=this;if(disposable&&predicates_1.isFunction(disposable.dispose)){disposable.dispose(this);return undefined}this._disposed=true;this._disposables.slice().forEach(function(d){try{typeof d.dispose==="function"&&d.dispose(_this);common_1.removeFrom(_this._disposables,d)}catch(ignored){}})};UIRouter.prototype.plugin=function(plugin,options){if(options===void 0){options={}}var pluginInstance=new plugin(this,options);if(!pluginInstance.name)throw new Error("Required property `name` missing on plugin: "+pluginInstance);this._disposables.push(pluginInstance);return this._plugins[pluginInstance.name]=pluginInstance};UIRouter.prototype.getPlugin=function(pluginName){return pluginName?this._plugins[pluginName]:common_1.values(this._plugins)};return UIRouter}();exports.UIRouter=UIRouter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var strings_1=__webpack_require__(12);var hof_1=__webpack_require__(4);var resolvable_1=__webpack_require__(24);var coreservices_1=__webpack_require__(8);var parseUrl=function parseUrl(url){if(!predicates_1.isString(url))return false;var root=url.charAt(0)==="^";return{val:root?url.substring(1):url,root:root}};function nameBuilder(state){return state.name}function selfBuilder(state){state.self.$$state=function(){return state};return state.self}function dataBuilder(state){if(state.parent&&state.parent.data){state.data=state.self.data=common_1.inherit(state.parent.data,state.data)}return state.data}var getUrlBuilder=function getUrlBuilder($urlMatcherFactoryProvider,root){return function urlBuilder(state){var stateDec=state;if(stateDec&&stateDec.url&&stateDec.name&&stateDec.name.match(/\.\*\*$/)){stateDec.url+="{remainder:any}"}var parsed=parseUrl(stateDec.url),parent=state.parent;var url=!parsed?stateDec.url:$urlMatcherFactoryProvider.compile(parsed.val,{params:state.params||{},paramMap:function paramMap(paramConfig,isSearch){if(stateDec.reloadOnSearch===false&&isSearch)paramConfig=common_1.extend(paramConfig||{},{dynamic:true});return paramConfig}});if(!url)return null;if(!$urlMatcherFactoryProvider.isMatcher(url))throw new Error("Invalid url '"+url+"' in state '"+state+"'");return parsed&&parsed.root?url:(parent&&parent.navigable||root()).url.append(url)}};var getNavigableBuilder=function getNavigableBuilder(isRoot){return function navigableBuilder(state){return!isRoot(state)&&state.url?state:state.parent?state.parent.navigable:null}};var getParamsBuilder=function getParamsBuilder(paramFactory){return function paramsBuilder(state){var makeConfigParam=function makeConfigParam(config,id){return paramFactory.fromConfig(id,null,config)};var urlParams=state.url&&state.url.parameters({inherit:false})||[];var nonUrlParams=common_1.values(common_1.mapObj(common_1.omit(state.params||{},urlParams.map(hof_1.prop("id"))),makeConfigParam));return urlParams.concat(nonUrlParams).map(function(p){return[p.id,p]}).reduce(common_1.applyPairs,{})}};function pathBuilder(state){return state.parent?state.parent.path.concat(state):[state]}function includesBuilder(state){var includes=state.parent?common_1.extend({},state.parent.includes):{};includes[state.name]=true;return includes}function resolvablesBuilder(state){var objects2Tuples=function objects2Tuples(resolveObj,resolvePolicies){return Object.keys(resolveObj||{}).map(function(token){return{token:token,val:resolveObj[token],deps:undefined,policy:resolvePolicies[token]}})};var annotate=function annotate(fn){var $injector=coreservices_1.services.$injector;return fn["$inject"]||$injector&&$injector.annotate(fn,$injector.strictDi)||"deferred"};var isResolveLiteral=function isResolveLiteral(obj){return!!(obj.token&&obj.resolveFn)};var isLikeNg2Provider=function isLikeNg2Provider(obj){return!!((obj.provide||obj.token)&&(obj.useValue||obj.useFactory||obj.useExisting||obj.useClass))};var isTupleFromObj=function isTupleFromObj(obj){return!!(obj&&obj.val&&(predicates_1.isString(obj.val)||predicates_1.isArray(obj.val)||predicates_1.isFunction(obj.val)))};var getToken=function getToken(p){return p.provide||p.token};var literal2Resolvable=hof_1.pattern([[hof_1.prop("resolveFn"),function(p){return new resolvable_1.Resolvable(getToken(p),p.resolveFn,p.deps,p.policy)}],[hof_1.prop("useFactory"),function(p){return new resolvable_1.Resolvable(getToken(p),p.useFactory,p.deps||p.dependencies,p.policy)}],[hof_1.prop("useClass"),function(p){return new resolvable_1.Resolvable(getToken(p),function(){return new p.useClass},[],p.policy)}],[hof_1.prop("useValue"),function(p){return new resolvable_1.Resolvable(getToken(p),function(){return p.useValue},[],p.policy,p.useValue)}],[hof_1.prop("useExisting"),function(p){return new resolvable_1.Resolvable(getToken(p),common_1.identity,[p.useExisting],p.policy)}]]);var tuple2Resolvable=hof_1.pattern([[hof_1.pipe(hof_1.prop("val"),predicates_1.isString),function(tuple){return new resolvable_1.Resolvable(tuple.token,common_1.identity,[tuple.val],tuple.policy)}],[hof_1.pipe(hof_1.prop("val"),predicates_1.isArray),function(tuple){return new resolvable_1.Resolvable(tuple.token,common_1.tail(tuple.val),tuple.val.slice(0,-1),tuple.policy)}],[hof_1.pipe(hof_1.prop("val"),predicates_1.isFunction),function(tuple){return new resolvable_1.Resolvable(tuple.token,tuple.val,annotate(tuple.val),tuple.policy)}]]);var item2Resolvable=hof_1.pattern([[hof_1.is(resolvable_1.Resolvable),function(r){return r}],[isResolveLiteral,literal2Resolvable],[isLikeNg2Provider,literal2Resolvable],[isTupleFromObj,tuple2Resolvable],[hof_1.val(true),function(obj){throw new Error("Invalid resolve value: "+strings_1.stringify(obj))}]]);var decl=state.resolve;var items=predicates_1.isArray(decl)?decl:objects2Tuples(decl,state.resolvePolicy||{});return items.map(item2Resolvable)}exports.resolvablesBuilder=resolvablesBuilder;var StateBuilder=function(){function StateBuilder(matcher,urlMatcherFactory){this.matcher=matcher;var self=this;var root=function root(){return matcher.find("")};var isRoot=function isRoot(state){return state.name===""};function parentBuilder(state){if(isRoot(state))return null;return matcher.find(self.parentName(state))||root()}this.builders={name:[nameBuilder],self:[selfBuilder],parent:[parentBuilder],data:[dataBuilder],url:[getUrlBuilder(urlMatcherFactory,root)],navigable:[getNavigableBuilder(isRoot)],params:[getParamsBuilder(urlMatcherFactory.paramFactory)],views:[],path:[pathBuilder],includes:[includesBuilder],resolvables:[resolvablesBuilder]}}StateBuilder.prototype.builder=function(name,fn){var builders=this.builders;var array=builders[name]||[];if(predicates_1.isString(name)&&!predicates_1.isDefined(fn))return array.length>1?array:array[0];if(!predicates_1.isString(name)||!predicates_1.isFunction(fn))return;builders[name]=array;builders[name].push(fn);return function(){return builders[name].splice(builders[name].indexOf(fn,1))&&null}};StateBuilder.prototype.build=function(state){var _a=this,matcher=_a.matcher,builders=_a.builders;var parent=this.parentName(state);if(parent&&!matcher.find(parent,undefined,false)){return null}for(var key in builders){if(!builders.hasOwnProperty(key))continue;var chain=builders[key].reduce(function(parentFn,step){return function(_state){return step(_state,parentFn)}},common_1.noop);state[key]=chain(state)}return state};StateBuilder.prototype.parentName=function(state){var name=state.name||"";var segments=name.split(".");var lastSegment=segments.pop();if(lastSegment==="**")segments.pop();if(segments.length){if(state.parent){throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+name+")")}return segments.join(".")}if(!state.parent)return"";return predicates_1.isString(state.parent)?state.parent:state.parent.name};StateBuilder.prototype.name=function(state){var name=state.name;if(name.indexOf(".")!==-1||!state.parent)return name;var parentName=predicates_1.isString(state.parent)?state.parent:state.parent.name;return parentName?parentName+"."+name:name};return StateBuilder}();exports.StateBuilder=StateBuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var common_1=__webpack_require__(1);var StateMatcher=function(){function StateMatcher(_states){this._states=_states}StateMatcher.prototype.isRelative=function(stateName){stateName=stateName||"";return stateName.indexOf(".")===0||stateName.indexOf("^")===0};StateMatcher.prototype.find=function(stateOrName,base,matchGlob){if(matchGlob===void 0){matchGlob=true}if(!stateOrName&&stateOrName!=="")return undefined;var isStr=predicates_1.isString(stateOrName);var name=isStr?stateOrName:stateOrName.name;if(this.isRelative(name))name=this.resolvePath(name,base);var state=this._states[name];if(state&&(isStr||!isStr&&(state===stateOrName||state.self===stateOrName))){return state}else if(isStr&&matchGlob){var _states=common_1.values(this._states);var matches=_states.filter(function(_state){return _state.__stateObjectCache.nameGlob&&_state.__stateObjectCache.nameGlob.matches(name)});if(matches.length>1){console.log("stateMatcher.find: Found multiple matches for "+name+" using glob: ",matches.map(function(match){return match.name}))}return matches[0]}return undefined};StateMatcher.prototype.resolvePath=function(name,base){if(!base)throw new Error("No reference point given for path '"+name+"'");var baseState=this.find(base);var splitName=name.split(".");var pathLength=splitName.length;var i=0,current=baseState;for(;i<pathLength;i++){if(splitName[i]===""&&i===0){current=baseState;continue}if(splitName[i]==="^"){if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+baseState.name+"'");current=current.parent;continue}break}var relName=splitName.slice(i).join(".");return current.name+(current.name&&relName?".":"")+relName};return StateMatcher}();exports.StateMatcher=StateMatcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var stateObject_1=__webpack_require__(52);var hof_1=__webpack_require__(4);var StateQueueManager=function(){function StateQueueManager($registry,$urlRouter,states,builder,listeners){this.$registry=$registry;this.$urlRouter=$urlRouter;this.states=states;this.builder=builder;this.listeners=listeners;this.queue=[];this.matcher=$registry.matcher}StateQueueManager.prototype.dispose=function(){this.queue=[]};StateQueueManager.prototype.register=function(stateDecl){var queue=this.queue;var state=stateObject_1.StateObject.create(stateDecl);var name=state.name;if(!predicates_1.isString(name))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(name)||common_1.inArray(queue.map(hof_1.prop("name")),name))throw new Error("State '"+name+"' is already defined");queue.push(state);this.flush();return state};StateQueueManager.prototype.flush=function(){var _this=this;var _a=this,queue=_a.queue,states=_a.states,builder=_a.builder;var registered=[],orphans=[],previousQueueLength={};var getState=function getState(name){return _this.states.hasOwnProperty(name)&&_this.states[name]};while(queue.length>0){var state=queue.shift();var name_1=state.name;var result=builder.build(state);var orphanIdx=orphans.indexOf(state);if(result){var existingState=getState(name_1);if(existingState&&existingState.name===name_1){throw new Error("State '"+name_1+"' is already defined")}var existingFutureState=getState(name_1+".**");if(existingFutureState){this.$registry.deregister(existingFutureState)}states[name_1]=state;this.attachRoute(state);if(orphanIdx>=0)orphans.splice(orphanIdx,1);registered.push(state);continue}var prev=previousQueueLength[name_1];previousQueueLength[name_1]=queue.length;if(orphanIdx>=0&&prev===queue.length){queue.push(state);return states}else if(orphanIdx<0){orphans.push(state)}queue.push(state)}if(registered.length){this.listeners.forEach(function(listener){return listener("registered",registered.map(function(s){return s.self}))})}return states};StateQueueManager.prototype.attachRoute=function(state){if(state.abstract||!state.url)return;this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(state))};return StateQueueManager}();exports.StateQueueManager=StateQueueManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var stateMatcher_1=__webpack_require__(87);var stateBuilder_1=__webpack_require__(86);var stateQueueManager_1=__webpack_require__(88);var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var StateRegistry=function(){function StateRegistry(_router){this._router=_router;this.states={};this.listeners=[];this.matcher=new stateMatcher_1.StateMatcher(this.states);this.builder=new stateBuilder_1.StateBuilder(this.matcher,_router.urlMatcherFactory);this.stateQueue=new stateQueueManager_1.StateQueueManager(this,_router.urlRouter,this.states,this.builder,this.listeners);this._registerRoot()}StateRegistry.prototype._registerRoot=function(){var rootStateDef={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:true}},abstract:true};var _root=this._root=this.stateQueue.register(rootStateDef);_root.navigable=null};StateRegistry.prototype.dispose=function(){var _this=this;this.stateQueue.dispose();this.listeners=[];this.get().forEach(function(state){return _this.get(state)&&_this.deregister(state)})};StateRegistry.prototype.onStatesChanged=function(listener){this.listeners.push(listener);return function deregisterListener(){common_1.removeFrom(this.listeners)(listener)}.bind(this)};StateRegistry.prototype.root=function(){return this._root};StateRegistry.prototype.register=function(stateDefinition){return this.stateQueue.register(stateDefinition)};StateRegistry.prototype._deregisterTree=function(state){var _this=this;var all=this.get().map(function(s){return s.$$state()});var getChildren=function getChildren(states){var _children=all.filter(function(s){return states.indexOf(s.parent)!==-1});return _children.length===0?_children:_children.concat(getChildren(_children))};var children=getChildren([state]);var deregistered=[state].concat(children).reverse();deregistered.forEach(function(_state){var $ur=_this._router.urlRouter;$ur.rules().filter(hof_1.propEq("state",_state)).forEach($ur.removeRule.bind($ur));delete _this.states[_state.name]});return deregistered};StateRegistry.prototype.deregister=function(stateOrName){var _state=this.get(stateOrName);if(!_state)throw new Error("Can't deregister state; not found: "+stateOrName);var deregisteredStates=this._deregisterTree(_state.$$state());this.listeners.forEach(function(listener){return listener("deregistered",deregisteredStates.map(function(s){return s.self}))});return deregisteredStates};StateRegistry.prototype.get=function(stateOrName,base){var _this=this;if(arguments.length===0)return Object.keys(this.states).map(function(name){return _this.states[name].self});var found=this.matcher.find(stateOrName,base);return found&&found.self||null};StateRegistry.prototype.decorator=function(name,func){return this.builder.builder(name,func)};return StateRegistry}();exports.StateRegistry=StateRegistry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var queue_1=__webpack_require__(49);var coreservices_1=__webpack_require__(8);var pathUtils_1=__webpack_require__(32);var pathNode_1=__webpack_require__(51);var transitionService_1=__webpack_require__(54);var rejectFactory_1=__webpack_require__(25);var targetState_1=__webpack_require__(19);var param_1=__webpack_require__(18);var glob_1=__webpack_require__(48);var resolveContext_1=__webpack_require__(33);var lazyLoad_1=__webpack_require__(79);var hof_1=__webpack_require__(4);var StateService=function(){function StateService(router){this.router=router;this.invalidCallbacks=[];this._defaultErrorHandler=function $defaultErrorHandler($error$){if($error$ instanceof Error&&$error$.stack){console.error($error$);console.error($error$.stack)}else if($error$ instanceof rejectFactory_1.Rejection){console.error($error$.toString());if($error$.detail&&$error$.detail.stack)console.error($error$.detail.stack)}else{console.error($error$)}};var getters=["current","$current","params","transition"];var boundFns=Object.keys(StateService.prototype).filter(hof_1.not(common_1.inArray(getters)));common_1.createProxyFunctions(hof_1.val(StateService.prototype),this,hof_1.val(this),boundFns)}Object.defineProperty(StateService.prototype,"transition",{get:function get(){return this.router.globals.transition},enumerable:true,configurable:true});Object.defineProperty(StateService.prototype,"params",{get:function get(){return this.router.globals.params},enumerable:true,configurable:true});Object.defineProperty(StateService.prototype,"current",{get:function get(){return this.router.globals.current},enumerable:true,configurable:true});Object.defineProperty(StateService.prototype,"$current",{get:function get(){return this.router.globals.$current},enumerable:true,configurable:true});StateService.prototype.dispose=function(){this.defaultErrorHandler(common_1.noop);this.invalidCallbacks=[]};StateService.prototype._handleInvalidTargetState=function(fromPath,toState){var _this=this;var fromState=pathUtils_1.PathUtils.makeTargetState(this.router.stateRegistry,fromPath);var globals=this.router.globals;var latestThing=function latestThing(){return globals.transitionHistory.peekTail()};var latest=latestThing();var callbackQueue=new queue_1.Queue(this.invalidCallbacks.slice());var injector=new resolveContext_1.ResolveContext(fromPath).injector();var checkForRedirect=function checkForRedirect(result){if(!(result instanceof targetState_1.TargetState)){return}var target=result;target=_this.target(target.identifier(),target.params(),target.options());if(!target.valid()){return rejectFactory_1.Rejection.invalid(target.error()).toPromise()}if(latestThing()!==latest){return rejectFactory_1.Rejection.superseded().toPromise()}return _this.transitionTo(target.identifier(),target.params(),target.options())};function invokeNextCallback(){var nextCallback=callbackQueue.dequeue();if(nextCallback===undefined)return rejectFactory_1.Rejection.invalid(toState.error()).toPromise();var callbackResult=coreservices_1.services.$q.when(nextCallback(toState,fromState,injector));return callbackResult.then(checkForRedirect).then(function(result){return result||invokeNextCallback()})}return invokeNextCallback()};StateService.prototype.onInvalid=function(callback){this.invalidCallbacks.push(callback);return function deregisterListener(){common_1.removeFrom(this.invalidCallbacks)(callback)}.bind(this)};StateService.prototype.reload=function(reloadState){return this.transitionTo(this.current,this.params,{reload:predicates_1.isDefined(reloadState)?reloadState:true,inherit:false,notify:false})};StateService.prototype.go=function(to,params,options){var defautGoOpts={relative:this.$current,inherit:true};var transOpts=common_1.defaults(options,defautGoOpts,transitionService_1.defaultTransOpts);return this.transitionTo(to,params,transOpts)};StateService.prototype.target=function(identifier,params,options){if(options===void 0){options={}}if(predicates_1.isObject(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");var reg=this.router.stateRegistry;options.reloadState=options.reload===true?reg.root():reg.matcher.find(options.reload,options.relative);if(options.reload&&!options.reloadState)throw new Error("No such reload state '"+(predicates_1.isString(options.reload)?options.reload:options.reload.name)+"'");return new targetState_1.TargetState(this.router.stateRegistry,identifier,params,options)};StateService.prototype.getCurrentPath=function(){var _this=this;var globals=this.router.globals;var latestSuccess=globals.successfulTransitions.peekTail();var rootPath=function rootPath(){return[new pathNode_1.PathNode(_this.router.stateRegistry.root())]};return latestSuccess?latestSuccess.treeChanges().to:rootPath()};StateService.prototype.transitionTo=function(to,toParams,options){var _this=this;if(toParams===void 0){toParams={}}if(options===void 0){options={}}var router=this.router;var globals=router.globals;options=common_1.defaults(options,transitionService_1.defaultTransOpts);var getCurrent=function getCurrent(){return globals.transition};options=common_1.extend(options,{current:getCurrent});var ref=this.target(to,toParams,options);var currentPath=this.getCurrentPath();if(!ref.exists())return this._handleInvalidTargetState(currentPath,ref);if(!ref.valid())return common_1.silentRejection(ref.error());var rejectedTransitionHandler=function rejectedTransitionHandler(trans){return function(error){if(error instanceof rejectFactory_1.Rejection){var isLatest=router.globals.lastStartedTransitionId===trans.$id;if(error.type===rejectFactory_1.RejectType.IGNORED){isLatest&&router.urlRouter.update();return coreservices_1.services.$q.when(globals.current)}var detail=error.detail;if(error.type===rejectFactory_1.RejectType.SUPERSEDED&&error.redirected&&detail instanceof targetState_1.TargetState){var redirect=trans.redirect(detail);return redirect.run().catch(rejectedTransitionHandler(redirect))}if(error.type===rejectFactory_1.RejectType.ABORTED){isLatest&&router.urlRouter.update();return coreservices_1.services.$q.reject(error)}}var errorHandler=_this.defaultErrorHandler();errorHandler(error);return coreservices_1.services.$q.reject(error)}};var transition=this.router.transitionService.create(currentPath,ref);var transitionToPromise=transition.run().catch(rejectedTransitionHandler(transition));common_1.silenceUncaughtInPromise(transitionToPromise);return common_1.extend(transitionToPromise,{transition:transition})};StateService.prototype.is=function(stateOrName,params,options){options=common_1.defaults(options,{relative:this.$current});var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative);if(!predicates_1.isDefined(state))return undefined;if(this.$current!==state)return false;if(!params)return true;var schema=state.parameters({inherit:true,matchingKeys:params});return param_1.Param.equals(schema,param_1.Param.values(schema,params),this.params)};StateService.prototype.includes=function(stateOrName,params,options){options=common_1.defaults(options,{relative:this.$current});var glob=predicates_1.isString(stateOrName)&&glob_1.Glob.fromString(stateOrName);if(glob){if(!glob.matches(this.$current.name))return false;stateOrName=this.$current.name}var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative),include=this.$current.includes;if(!predicates_1.isDefined(state))return undefined;if(!predicates_1.isDefined(include[state.name]))return false;if(!params)return true;var schema=state.parameters({inherit:true,matchingKeys:params});return param_1.Param.equals(schema,param_1.Param.values(schema,params),this.params)};StateService.prototype.href=function(stateOrName,params,options){var defaultHrefOpts={lossy:true,inherit:true,absolute:false,relative:this.$current};options=common_1.defaults(options,defaultHrefOpts);params=params||{};var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative);if(!predicates_1.isDefined(state))return null;if(options.inherit)params=this.params.$inherit(params,this.$current,state);var nav=state&&options.lossy?state.navigable:state;if(!nav||nav.url===undefined||nav.url===null){return null}return this.router.urlRouter.href(nav.url,params,{absolute:options.absolute})};StateService.prototype.defaultErrorHandler=function(handler){return this._defaultErrorHandler=handler||this._defaultErrorHandler};StateService.prototype.get=function(stateOrName,base){var reg=this.router.stateRegistry;if(arguments.length===0)return reg.get();return reg.get(stateOrName,base||this.$current)};StateService.prototype.lazyLoad=function(stateOrName,transition){var state=this.get(stateOrName);if(!state||!state.lazyLoad)throw new Error("Can not lazy load "+stateOrName);var currentPath=this.getCurrentPath();var target=pathUtils_1.PathUtils.makeTargetState(this.router.stateRegistry,currentPath);transition=transition||this.router.transitionService.create(currentPath,target);return lazyLoad_1.lazyLoadState(transition,state)};return StateService}();exports.StateService=StateService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var interface_1=__webpack_require__(20);var transitionHook_1=__webpack_require__(26);var HookBuilder=function(){function HookBuilder(transition){this.transition=transition}HookBuilder.prototype.buildHooksForPhase=function(phase){var _this=this;var $transitions=this.transition.router.transitionService;return $transitions._pluginapi._getEvents(phase).map(function(type){return _this.buildHooks(type)}).reduce(common_1.unnestR,[]).filter(common_1.identity)};HookBuilder.prototype.buildHooks=function(hookType){var transition=this.transition;var treeChanges=transition.treeChanges();var matchingHooks=this.getMatchingHooks(hookType,treeChanges);if(!matchingHooks)return[];var baseHookOptions={transition:transition,current:transition.options().current};var makeTransitionHooks=function makeTransitionHooks(hook){var matches=hook.matches(treeChanges);var matchingNodes=matches[hookType.criteriaMatchPath.name];return matchingNodes.map(function(node){var _options=common_1.extend({bind:hook.bind,traceData:{hookType:hookType.name,context:node}},baseHookOptions);var state=hookType.criteriaMatchPath.scope===interface_1.TransitionHookScope.STATE?node.state.self:null;var transitionHook=new transitionHook_1.TransitionHook(transition,state,hook,_options);return{hook:hook,node:node,transitionHook:transitionHook}})};return matchingHooks.map(makeTransitionHooks).reduce(common_1.unnestR,[]).sort(tupleSort(hookType.reverseSort)).map(function(tuple){return tuple.transitionHook})};HookBuilder.prototype.getMatchingHooks=function(hookType,treeChanges){var isCreate=hookType.hookPhase===interface_1.TransitionHookPhase.CREATE;var $transitions=this.transition.router.transitionService;var registries=isCreate?[$transitions]:[this.transition,$transitions];return registries.map(function(reg){return reg.getHooks(hookType.name)}).filter(common_1.assertPredicate(predicates_1.isArray,"broken event named: "+hookType.name)).reduce(common_1.unnestR,[]).filter(function(hook){return hook.matches(treeChanges)})};return HookBuilder}();exports.HookBuilder=HookBuilder;function tupleSort(reverseDepthSort){if(reverseDepthSort===void 0){reverseDepthSort=false}return function nodeDepthThenPriority(l,r){var factor=reverseDepthSort?-1:1;var depthDelta=(l.node.state.path.length-r.node.state.path.length)*factor;return depthDelta!==0?depthDelta:r.hook.priority-l.hook.priority}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var transitionHook_1=__webpack_require__(26);var TransitionEventType=function(){function TransitionEventType(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous){if(reverseSort===void 0){reverseSort=false}if(getResultHandler===void 0){getResultHandler=transitionHook_1.TransitionHook.HANDLE_RESULT}if(getErrorHandler===void 0){getErrorHandler=transitionHook_1.TransitionHook.REJECT_ERROR}if(synchronous===void 0){synchronous=false}this.name=name;this.hookPhase=hookPhase;this.hookOrder=hookOrder;this.criteriaMatchPath=criteriaMatchPath;this.reverseSort=reverseSort;this.getResultHandler=getResultHandler;this.getErrorHandler=getErrorHandler;this.synchronous=synchronous}return TransitionEventType}();exports.TransitionEventType=TransitionEventType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var urlMatcher_1=__webpack_require__(35);var param_1=__webpack_require__(18);var paramTypes_1=__webpack_require__(81);var UrlMatcherFactory=function(){function UrlMatcherFactory(){var _this=this;this.paramTypes=new paramTypes_1.ParamTypes;this._isCaseInsensitive=false;this._isStrictMode=true;this._defaultSquashPolicy=false;this.paramFactory={fromConfig:function fromConfig(id,type,config){return new param_1.Param(id,type,config,param_1.DefType.CONFIG,_this)},fromPath:function fromPath(id,type,config){return new param_1.Param(id,type,config,param_1.DefType.PATH,_this)},fromSearch:function fromSearch(id,type,config){return new param_1.Param(id,type,config,param_1.DefType.SEARCH,_this)}};this._getConfig=function(config){return common_1.extend({strict:_this._isStrictMode,caseInsensitive:_this._isCaseInsensitive},config)};common_1.extend(this,{UrlMatcher:urlMatcher_1.UrlMatcher,Param:param_1.Param})}UrlMatcherFactory.prototype.caseInsensitive=function(value){return this._isCaseInsensitive=predicates_1.isDefined(value)?value:this._isCaseInsensitive};UrlMatcherFactory.prototype.strictMode=function(value){return this._isStrictMode=predicates_1.isDefined(value)?value:this._isStrictMode};UrlMatcherFactory.prototype.defaultSquashPolicy=function(value){if(predicates_1.isDefined(value)&&value!==true&&value!==false&&!predicates_1.isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=predicates_1.isDefined(value)?value:this._defaultSquashPolicy};UrlMatcherFactory.prototype.compile=function(pattern,config){return new urlMatcher_1.UrlMatcher(pattern,this.paramTypes,this.paramFactory,this._getConfig(config))};UrlMatcherFactory.prototype.isMatcher=function(object){if(!predicates_1.isObject(object))return false;var result=true;common_1.forEach(urlMatcher_1.UrlMatcher.prototype,function(val,name){if(predicates_1.isFunction(val))result=result&&predicates_1.isDefined(object[name])&&predicates_1.isFunction(object[name])});return result};UrlMatcherFactory.prototype.type=function(name,definition,definitionFn){var type=this.paramTypes.type(name,definition,definitionFn);return!predicates_1.isDefined(definition)?type:this};UrlMatcherFactory.prototype.$get=function(){this.paramTypes.enqueue=false;this.paramTypes._flushTypeQueue();return this};UrlMatcherFactory.prototype.dispose=function(){this.paramTypes.dispose()};return UrlMatcherFactory}();exports.UrlMatcherFactory=UrlMatcherFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var predicates_1=__webpack_require__(3);var urlMatcher_1=__webpack_require__(35);var hof_1=__webpack_require__(4);var urlRule_1=__webpack_require__(95);var targetState_1=__webpack_require__(19);var common_2=__webpack_require__(10);function appendBasePath(url,isHtml5,absolute,baseHref){if(baseHref==="/")return url;if(isHtml5)return common_2.stripLastPathElement(baseHref)+url;if(absolute)return baseHref.slice(1)+url;return url}var prioritySort=function prioritySort(a,b){return(b.priority||0)-(a.priority||0)};var typeSort=function typeSort(a,b){var weights={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(weights[a.type]||0)-(weights[b.type]||0)};var urlMatcherSort=function urlMatcherSort(a,b){return!a.urlMatcher||!b.urlMatcher?0:urlMatcher_1.UrlMatcher.compare(a.urlMatcher,b.urlMatcher)};var idSort=function idSort(a,b){var useMatchPriority={STATE:true,URLMATCHER:true};var equal=useMatchPriority[a.type]&&useMatchPriority[b.type];return equal?0:(a.$id||0)-(b.$id||0)};var defaultRuleSortFn;defaultRuleSortFn=function defaultRuleSortFn(a,b){var cmp=prioritySort(a,b);if(cmp!==0)return cmp;cmp=typeSort(a,b);if(cmp!==0)return cmp;cmp=urlMatcherSort(a,b);if(cmp!==0)return cmp;return idSort(a,b)};var UrlRouter=function(){function UrlRouter(router){this._sortFn=defaultRuleSortFn;this._rules=[];this.interceptDeferred=false;this._id=0;this._sorted=false;this._router=router;this.urlRuleFactory=new urlRule_1.UrlRuleFactory(router);common_1.createProxyFunctions(hof_1.val(UrlRouter.prototype),this,hof_1.val(this))}UrlRouter.prototype.dispose=function(){this.listen(false);this._rules=[];delete this._otherwiseFn};UrlRouter.prototype.sort=function(compareFn){this._rules=this.stableSort(this._rules,this._sortFn=compareFn||this._sortFn);this._sorted=true};UrlRouter.prototype.ensureSorted=function(){this._sorted||this.sort()};UrlRouter.prototype.stableSort=function(arr,compareFn){var arrOfWrapper=arr.map(function(elem,idx){return{elem:elem,idx:idx}});arrOfWrapper.sort(function(wrapperA,wrapperB){var cmpDiff=compareFn(wrapperA.elem,wrapperB.elem);return cmpDiff===0?wrapperA.idx-wrapperB.idx:cmpDiff});return arrOfWrapper.map(function(wrapper){return wrapper.elem})};UrlRouter.prototype.match=function(url){var _this=this;this.ensureSorted();url=common_1.extend({path:"",search:{},hash:""},url);var rules=this.rules();if(this._otherwiseFn)rules.push(this._otherwiseFn);var checkRule=function checkRule(rule){var match=rule.match(url,_this._router);return match&&{match:match,rule:rule,weight:rule.matchPriority(match)}};var best;for(var i=0;i<rules.length;i++){if(best&&this._sortFn(rules[i],best.rule)!==0)break;var current=checkRule(rules[i]);best=!best||current&&current.weight>best.weight?current:best}return best};UrlRouter.prototype.sync=function(evt){if(evt&&evt.defaultPrevented)return;var router=this._router,$url=router.urlService,$state=router.stateService;var url={path:$url.path(),search:$url.search(),hash:$url.hash()};var best=this.match(url);var applyResult=hof_1.pattern([[predicates_1.isString,function(newurl){return $url.url(newurl,true)}],[targetState_1.TargetState.isDef,function(def){return $state.go(def.state,def.params,def.options)}],[hof_1.is(targetState_1.TargetState),function(target){return $state.go(target.state(),target.params(),target.options())}]]);applyResult(best&&best.rule.handler(best.match,url,router))};UrlRouter.prototype.listen=function(enabled){var _this=this;if(enabled===false){this._stopFn&&this._stopFn();delete this._stopFn}else{return this._stopFn=this._stopFn||this._router.urlService.onChange(function(evt){return _this.sync(evt)})}};UrlRouter.prototype.update=function(read){var $url=this._router.locationService;if(read){this.location=$url.url();return}if($url.url()===this.location)return;$url.url(this.location,true)};UrlRouter.prototype.push=function(urlMatcher,params,options){var replace=options&&!!options.replace;this._router.urlService.url(urlMatcher.format(params||{}),replace)};UrlRouter.prototype.href=function(urlMatcher,params,options){var url=urlMatcher.format(params);if(url==null)return null;options=options||{absolute:false};var cfg=this._router.urlService.config;var isHtml5=cfg.html5Mode();if(!isHtml5&&url!==null){url="#"+cfg.hashPrefix()+url}url=appendBasePath(url,isHtml5,options.absolute,cfg.baseHref());if(!options.absolute||!url){return url}var slash=!isHtml5&&url?"/":"";var cfgPort=cfg.port();var port=cfgPort===80||cfgPort===443?"":":"+cfgPort;return[cfg.protocol(),"://",cfg.host(),port,slash,url].join("")};UrlRouter.prototype.rule=function(rule){var _this=this;if(!urlRule_1.UrlRuleFactory.isUrlRule(rule))throw new Error("invalid rule");rule.$id=this._id++;rule.priority=rule.priority||0;this._rules.push(rule);this._sorted=false;return function(){return _this.removeRule(rule)}};UrlRouter.prototype.removeRule=function(rule){common_1.removeFrom(this._rules,rule)};UrlRouter.prototype.rules=function(){this.ensureSorted();return this._rules.slice()};UrlRouter.prototype.otherwise=function(handler){var handlerFn=getHandlerFn(handler);this._otherwiseFn=this.urlRuleFactory.create(hof_1.val(true),handlerFn);this._sorted=false};UrlRouter.prototype.initial=function(handler){var handlerFn=getHandlerFn(handler);var matchFn=function matchFn(urlParts,router){return router.globals.transitionHistory.size()===0&&!!/^\/?$/.exec(urlParts.path)};this.rule(this.urlRuleFactory.create(matchFn,handlerFn))};UrlRouter.prototype.when=function(matcher,handler,options){var rule=this.urlRuleFactory.create(matcher,handler);if(predicates_1.isDefined(options&&options.priority))rule.priority=options.priority;this.rule(rule);return rule};UrlRouter.prototype.deferIntercept=function(defer){if(defer===undefined)defer=true;this.interceptDeferred=defer};return UrlRouter}();exports.UrlRouter=UrlRouter;function getHandlerFn(handler){if(!predicates_1.isFunction(handler)&&!predicates_1.isString(handler)&&!hof_1.is(targetState_1.TargetState)(handler)&&!targetState_1.TargetState.isDef(handler)){throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property")}return predicates_1.isFunction(handler)?handler:hof_1.val(handler)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var urlMatcher_1=__webpack_require__(35);var predicates_1=__webpack_require__(3);var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var UrlRuleFactory=function(){function UrlRuleFactory(router){this.router=router}UrlRuleFactory.prototype.compile=function(str){return this.router.urlMatcherFactory.compile(str)};UrlRuleFactory.prototype.create=function(what,handler){var _this=this;var makeRule=hof_1.pattern([[predicates_1.isString,function(_what){return makeRule(_this.compile(_what))}],[hof_1.is(urlMatcher_1.UrlMatcher),function(_what){return _this.fromUrlMatcher(_what,handler)}],[predicates_1.isState,function(_what){return _this.fromState(_what,_this.router)}],[hof_1.is(RegExp),function(_what){return _this.fromRegExp(_what,handler)}],[predicates_1.isFunction,function(_what){return new BaseUrlRule(_what,handler)}]]);var rule=makeRule(what);if(!rule)throw new Error("invalid 'what' in when()");return rule};UrlRuleFactory.prototype.fromUrlMatcher=function(urlMatcher,handler){var _handler=handler;if(predicates_1.isString(handler))handler=this.router.urlMatcherFactory.compile(handler);if(hof_1.is(urlMatcher_1.UrlMatcher)(handler))_handler=function _handler(match){return handler.format(match)};function matchUrlParamters(url){var params=urlMatcher.exec(url.path,url.search,url.hash);return urlMatcher.validates(params)&&params}function matchPriority(params){var optional=urlMatcher.parameters().filter(function(param){return param.isOptional});if(!optional.length)return 1e-6;var matched=optional.filter(function(param){return params[param.id]});return matched.length/optional.length}var details={urlMatcher:urlMatcher,matchPriority:matchPriority,type:"URLMATCHER"};return common_1.extend(new BaseUrlRule(matchUrlParamters,_handler),details)};UrlRuleFactory.prototype.fromState=function(state,router){var handler=function handler(match){var $state=router.stateService;var globals=router.globals;if($state.href(state,match)!==$state.href(globals.current,globals.params)){$state.transitionTo(state,match,{inherit:true,source:"url"})}};var details={state:state,type:"STATE"};return common_1.extend(this.fromUrlMatcher(state.url,handler),details)};UrlRuleFactory.prototype.fromRegExp=function(regexp,handler){if(regexp.global||regexp.sticky)throw new Error("Rule RegExp must not be global or sticky");var redirectUrlTo=function redirectUrlTo(match){return handler.replace(/\$(\$|\d{1,2})/,function(m,what){return match[what==="$"?0:Number(what)]})};var _handler=predicates_1.isString(handler)?redirectUrlTo:handler;var matchParamsFromRegexp=function matchParamsFromRegexp(url){return regexp.exec(url.path)};var details={regexp:regexp,type:"REGEXP"};return common_1.extend(new BaseUrlRule(matchParamsFromRegexp,_handler),details)};UrlRuleFactory.isUrlRule=function(obj){return obj&&["type","match","handler"].every(function(key){return predicates_1.isDefined(obj[key])})};return UrlRuleFactory}();exports.UrlRuleFactory=UrlRuleFactory;var BaseUrlRule=function(){function BaseUrlRule(match,handler){var _this=this;this.match=match;this.type="RAW";this.matchPriority=function(match){return 0-_this.$id};this.handler=handler||common_1.identity}return BaseUrlRule}();exports.BaseUrlRule=BaseUrlRule},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var coreservices_1=__webpack_require__(8);var common_1=__webpack_require__(1);var makeStub=function makeStub(keys){return keys.reduce(function(acc,key){return acc[key]=coreservices_1.notImplemented(key),acc},{dispose:common_1.noop})};var locationServicesFns=["url","path","search","hash","onChange"];var locationConfigFns=["port","protocol","host","baseHref","html5Mode","hashPrefix"];var umfFns=["type","caseInsensitive","strictMode","defaultSquashPolicy"];var rulesFns=["sort","when","initial","otherwise","rules","rule","removeRule"];var syncFns=["deferIntercept","listen","sync","match"];var UrlService=function(){function UrlService(router,lateBind){if(lateBind===void 0){lateBind=true}this.router=router;this.rules={};this.config={};var locationServices=function locationServices(){return router.locationService};common_1.createProxyFunctions(locationServices,this,locationServices,locationServicesFns,lateBind);var locationConfig=function locationConfig(){return router.locationConfig};common_1.createProxyFunctions(locationConfig,this.config,locationConfig,locationConfigFns,lateBind);var umf=function umf(){return router.urlMatcherFactory};common_1.createProxyFunctions(umf,this.config,umf,umfFns);var urlRouter=function urlRouter(){return router.urlRouter};common_1.createProxyFunctions(urlRouter,this.rules,urlRouter,rulesFns);common_1.createProxyFunctions(urlRouter,this,urlRouter,syncFns)}UrlService.prototype.url=function(newurl,replace,state){return};UrlService.prototype.path=function(){return};UrlService.prototype.search=function(){return};UrlService.prototype.hash=function(){return};UrlService.prototype.onChange=function(callback){return};UrlService.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}};UrlService.prototype.dispose=function(){};UrlService.prototype.sync=function(evt){return};UrlService.prototype.listen=function(enabled){return};UrlService.prototype.deferIntercept=function(defer){return};UrlService.prototype.match=function(urlParts){return};UrlService.locationServiceStub=makeStub(locationServicesFns);UrlService.locationConfigStub=makeStub(locationConfigFns);return UrlService}();exports.UrlService=UrlService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var BrowserLocationConfig=function(){function BrowserLocationConfig(router,_isHtml5){if(_isHtml5===void 0){_isHtml5=false}this._isHtml5=_isHtml5;this._baseHref=undefined;this._hashPrefix=""}BrowserLocationConfig.prototype.port=function(){if(location.port){return Number(location.port)}return this.protocol()==="https"?443:80};BrowserLocationConfig.prototype.protocol=function(){return location.protocol.replace(/:/g,"")};BrowserLocationConfig.prototype.host=function(){return location.hostname};BrowserLocationConfig.prototype.html5Mode=function(){return this._isHtml5};BrowserLocationConfig.prototype.hashPrefix=function(newprefix){return predicates_1.isDefined(newprefix)?this._hashPrefix=newprefix:this._hashPrefix};BrowserLocationConfig.prototype.baseHref=function(href){return predicates_1.isDefined(href)?this._baseHref=href:predicates_1.isDefined(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()};BrowserLocationConfig.prototype.applyDocumentBaseHref=function(){var baseTag=document.getElementsByTagName("base")[0];return this._baseHref=baseTag?baseTag.href.substr(location.origin.length):location.pathname||"/"};BrowserLocationConfig.prototype.dispose=function(){};return BrowserLocationConfig}();exports.BrowserLocationConfig=BrowserLocationConfig},function(module,exports,__webpack_require__){"use strict";var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p]}};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(10);var baseLocationService_1=__webpack_require__(36);var HashLocationService=function(_super){__extends(HashLocationService,_super);function HashLocationService(router){var _this=_super.call(this,router,false)||this;common_1.root.addEventListener("hashchange",_this._listener,false);return _this}HashLocationService.prototype._get=function(){return common_1.trimHashVal(this._location.hash)};HashLocationService.prototype._set=function(state,title,url,replace){this._location.hash=url};HashLocationService.prototype.dispose=function(router){_super.prototype.dispose.call(this,router);common_1.root.removeEventListener("hashchange",this._listener)};return HashLocationService}(baseLocationService_1.BaseLocationServices);exports.HashLocationService=HashLocationService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var index_1=__webpack_require__(10);var globals={};var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var ARGUMENT_NAMES=/([^\s,]+)/g;exports.$injector={get:function get(name){return globals[name]},has:function has(name){return exports.$injector.get(name)!=null},invoke:function invoke(fn,context,locals){var all=index_1.extend({},globals,locals||{});var params=exports.$injector.annotate(fn);var ensureExist=index_1.assertPredicate(function(key){return all.hasOwnProperty(key)},function(key){return"DI can't find injectable: '"+key+"'"});var args=params.filter(ensureExist).map(function(x){return all[x]});if(index_1.isFunction(fn))return fn.apply(context,args);else return fn.slice(-1)[0].apply(context,args)},annotate:function annotate(fn){if(!index_1.isInjectable(fn))throw new Error("Not an injectable function: "+fn);if(fn&&fn.$inject)return fn.$inject;if(index_1.isArray(fn))return fn.slice(0,-1);var fnStr=fn.toString().replace(STRIP_COMMENTS,"");var result=fnStr.slice(fnStr.indexOf("(")+1,fnStr.indexOf(")")).match(ARGUMENT_NAMES);return result||[]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var common_1=__webpack_require__(1);var MemoryLocationConfig=function(){function MemoryLocationConfig(){var _this=this;this.dispose=common_1.noop;this._baseHref="";this._port=80;this._protocol="http";this._host="localhost";this._hashPrefix="";this.port=function(){return _this._port};this.protocol=function(){return _this._protocol};this.host=function(){return _this._host};this.baseHref=function(){return _this._baseHref};this.html5Mode=function(){return false};this.hashPrefix=function(newval){return predicates_1.isDefined(newval)?_this._hashPrefix=newval:_this._hashPrefix}}return MemoryLocationConfig}();exports.MemoryLocationConfig=MemoryLocationConfig},function(module,exports,__webpack_require__){"use strict";var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p]}};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var baseLocationService_1=__webpack_require__(36);var MemoryLocationService=function(_super){__extends(MemoryLocationService,_super);function MemoryLocationService(router){return _super.call(this,router,true)||this}MemoryLocationService.prototype._get=function(){return this._url};MemoryLocationService.prototype._set=function(state,title,url,replace){this._url=url};return MemoryLocationService}(baseLocationService_1.BaseLocationServices);exports.MemoryLocationService=MemoryLocationService},function(module,exports,__webpack_require__){"use strict";var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p]}};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var baseLocationService_1=__webpack_require__(36);var common_1=__webpack_require__(10);var PushStateLocationService=function(_super){__extends(PushStateLocationService,_super);function PushStateLocationService(router){var _this=_super.call(this,router,true)||this;_this._config=router.urlService.config;common_1.root.addEventListener("popstate",_this._listener,false);return _this}PushStateLocationService.prototype._getBasePrefix=function(){return common_1.stripLastPathElement(this._config.baseHref())};PushStateLocationService.prototype._get=function(){var _a=this._location,pathname=_a.pathname,hash=_a.hash,search=_a.search;search=common_1.splitQuery(search)[1];hash=common_1.splitHash(hash)[1];var basePrefix=this._getBasePrefix();var exactBaseHrefMatch=pathname===this._config.baseHref();var startsWithBase=pathname.substr(0,basePrefix.length)===basePrefix;pathname=exactBaseHrefMatch?"/":startsWithBase?pathname.substring(basePrefix.length):pathname;return pathname+(search?"?"+search:"")+(hash?"#"+hash:"")};PushStateLocationService.prototype._set=function(state,title,url,replace){var basePrefix=this._getBasePrefix();var slash=url&&url[0]!=="/"?"/":"";var fullUrl=url===""||url==="/"?this._config.baseHref():basePrefix+slash+url;if(replace){this._history.replaceState(state,title,fullUrl)}else{this._history.pushState(state,title,fullUrl)}};PushStateLocationService.prototype.dispose=function(router){_super.prototype.dispose.call(this,router);common_1.root.removeEventListener("popstate",this._listener)};return PushStateLocationService}(baseLocationService_1.BaseLocationServices);exports.PushStateLocationService=PushStateLocationService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var index_1=__webpack_require__(10);exports.$q={when:function when(val){return new Promise(function(resolve,reject){return resolve(val)})},reject:function reject(val){return new Promise(function(resolve,reject){reject(val)})},defer:function defer(){var deferred={};deferred.promise=new Promise(function(resolve,reject){deferred.resolve=resolve;deferred.reject=reject});return deferred},all:function all(promises){if(index_1.isArray(promises)){return Promise.all(promises)}if(index_1.isObject(promises)){var chain=Object.keys(promises).map(function(key){return promises[key].then(function(val){return{key:key,val:val}})});return exports.$q.all(chain).then(function(values){return values.reduce(function(acc,tuple){acc[tuple.key]=tuple.val;return acc},{})})}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var hof_1=__webpack_require__(4);var predicates_1=__webpack_require__(3);var trace_1=__webpack_require__(14);var ViewService=function(){function ViewService(){var _this=this;this._uiViews=[];this._viewConfigs=[];this._viewConfigFactories={};this._listeners=[];this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function _registeredUIViews(){return _this._uiViews},_activeViewConfigs:function _activeViewConfigs(){return _this._viewConfigs},_onSync:function _onSync(listener){_this._listeners.push(listener);return function(){return common_1.removeFrom(_this._listeners,listener)}}}}ViewService.normalizeUIViewTarget=function(context,rawViewName){if(rawViewName===void 0){rawViewName=""}var viewAtContext=rawViewName.split("@");var uiViewName=viewAtContext[0]||"$default";var uiViewContextAnchor=predicates_1.isString(viewAtContext[1])?viewAtContext[1]:"^";var relativeViewNameSugar=/^(\^(?:\.\^)*)\.(.*$)/.exec(uiViewName);if(relativeViewNameSugar){uiViewContextAnchor=relativeViewNameSugar[1];uiViewName=relativeViewNameSugar[2]}if(uiViewName.charAt(0)==="!"){uiViewName=uiViewName.substr(1);uiViewContextAnchor=""}var relativeMatch=/^(\^(?:\.\^)*)$/;if(relativeMatch.exec(uiViewContextAnchor)){var anchorState=uiViewContextAnchor.split(".").reduce(function(anchor,x){return anchor.parent},context);uiViewContextAnchor=anchorState.name}else if(uiViewContextAnchor==="."){uiViewContextAnchor=context.name}return{uiViewName:uiViewName,uiViewContextAnchor:uiViewContextAnchor}};ViewService.prototype._rootViewContext=function(context){return this._rootContext=context||this._rootContext};ViewService.prototype._viewConfigFactory=function(viewType,factory){this._viewConfigFactories[viewType]=factory};ViewService.prototype.createViewConfig=function(path,decl){var cfgFactory=this._viewConfigFactories[decl.$type];if(!cfgFactory)throw new Error("ViewService: No view config factory registered for type "+decl.$type);var cfgs=cfgFactory(path,decl);return predicates_1.isArray(cfgs)?cfgs:[cfgs]};ViewService.prototype.deactivateViewConfig=function(viewConfig){trace_1.trace.traceViewServiceEvent("<- Removing",viewConfig);common_1.removeFrom(this._viewConfigs,viewConfig)};ViewService.prototype.activateViewConfig=function(viewConfig){trace_1.trace.traceViewServiceEvent("-> Registering",viewConfig);this._viewConfigs.push(viewConfig)};ViewService.prototype.sync=function(){var _this=this;var uiViewsByFqn=this._uiViews.map(function(uiv){return[uiv.fqn,uiv]}).reduce(common_1.applyPairs,{});function uiViewDepth(uiView){var stateDepth=function stateDepth(context){return context&&context.parent?stateDepth(context.parent)+1:1};return uiView.fqn.split(".").length*1e4+stateDepth(uiView.creationContext)}function viewConfigDepth(config){var context=config.viewDecl.$context,count=0;while(++count&&context.parent){context=context.parent}return count}var depthCompare=hof_1.curry(function(depthFn,posNeg,left,right){return posNeg*(depthFn(left)-depthFn(right))});var matchingConfigPair=function matchingConfigPair(uiView){var matchingConfigs=_this._viewConfigs.filter(ViewService.matches(uiViewsByFqn,uiView));if(matchingConfigs.length>1){matchingConfigs.sort(depthCompare(viewConfigDepth,-1))}return{uiView:uiView,viewConfig:matchingConfigs[0]}};var configureUIView=function configureUIView(tuple){if(_this._uiViews.indexOf(tuple.uiView)!==-1)tuple.uiView.configUpdated(tuple.viewConfig)};var uiViewTuples=this._uiViews.sort(depthCompare(uiViewDepth,1)).map(matchingConfigPair);var matchedViewConfigs=uiViewTuples.map(function(tuple){return tuple.viewConfig});var unmatchedConfigTuples=this._viewConfigs.filter(function(config){return!common_1.inArray(matchedViewConfigs,config)}).map(function(viewConfig){return{uiView:undefined,viewConfig:viewConfig}});uiViewTuples.forEach(configureUIView);var allTuples=uiViewTuples.concat(unmatchedConfigTuples);this._listeners.forEach(function(cb){return cb(allTuples)});trace_1.trace.traceViewSync(allTuples)};ViewService.prototype.registerUIView=function(uiView){trace_1.trace.traceViewServiceUIViewEvent("-> Registering",uiView);var uiViews=this._uiViews;var fqnAndTypeMatches=function fqnAndTypeMatches(uiv){return uiv.fqn===uiView.fqn&&uiv.$type===uiView.$type};if(uiViews.filter(fqnAndTypeMatches).length)trace_1.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",uiView);uiViews.push(uiView);this.sync();return function(){var idx=uiViews.indexOf(uiView);if(idx===-1){trace_1.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",uiView);return}trace_1.trace.traceViewServiceUIViewEvent("<- Deregistering",uiView);common_1.removeFrom(uiViews)(uiView)}};ViewService.prototype.available=function(){return this._uiViews.map(hof_1.prop("fqn"))};ViewService.prototype.active=function(){return this._uiViews.filter(hof_1.prop("$config")).map(hof_1.prop("name"))};ViewService.matches=function(uiViewsByFqn,uiView){return function(viewConfig){if(uiView.$type!==viewConfig.viewDecl.$type)return false;var vc=viewConfig.viewDecl;var vcSegments=vc.$uiViewName.split(".");var uivSegments=uiView.fqn.split(".");if(!common_1.equals(vcSegments,uivSegments.slice(0-vcSegments.length)))return false;var negOffset=1-vcSegments.length||undefined;var fqnToFirstSegment=uivSegments.slice(0,negOffset).join(".");var uiViewContext=uiViewsByFqn[fqnToFirstSegment].creationContext;return vc.$uiViewContextAnchor===(uiViewContext&&uiViewContext.name)}};return ViewService}();exports.ViewService=ViewService},function(module,exports,__webpack_require__){"use strict";angular.module("ngSlimScroll",[]).directive("slimScroll",["$document","$window",function(n,w){return{restrict:"A",compile:function compile(f,a){var c=f[0],k=a.width||"auto",E=a.height||c.clientHeight||"100%",F=a.size||"7px",x=eval(a.alwaysVisible)||!1,y=eval(a.railVisible)||!1,J=eval(a.railBorderRadius)||"7px",K=a.railColor||"#333",L=a.railOpacity||.2,M=a.opacity||.4,N=a.color||"#000",p=a.borderRadius||"7px",O=a.position||"right",G=a.distance||"1px",P=eval(a.allowPageScroll)||!1,l=eval(a.disableFadeOut)||!1,Q=a.wheelStep||20,R=eval(a.railDraggable)||!0,S=a.touchScrollStep||200,T=eval(a.watchContent)||!1,q=30,r=0,H=0,h=!1,t=!1,u=!1,z=!1,A=0;f.css({overflow:"hidden",width:k,height:E});var I=angular.element("<div></div>").css({position:"relative",overflow:"hidden",width:k,height:E});angular.isDefined(a.wrapperClass)&&I.addClass(a.wrapperClass);var g=angular.element("<div></div>").css({width:F,height:"100%",position:"absolute",top:0,display:x&&y?"block":"none","border-radius":J,background:K,opacity:0,zIndex:90});angular.isDefined(a.railClass)&&g.addClass(a.railClass);var b=angular.element("<div></div>").css({background:N,width:F,position:"absolute",top:0,opacity:0,display:x?"block":"none","border-radius":p,BorderRadius:p,MozBorderRadius:p,WebkitBorderRadius:p,zIndex:99});angular.isDefined(a.barClass)&&b.addClass(a.barClass);k="right"==O?{right:G}:{left:G};g.css(k);b.css(k);var B=function B(){q=Math.max(c.offsetHeight/c.scrollHeight*c.offsetHeight,30);b.css({height:q+"px",display:q>=c.offsetHeight?"none":"block"})},C=function C(){clearTimeout(H);B();h=r==~~r?P:!1;q>=c.offsetHeight?h=!0:(l?b.css({display:"block"}):b.css({transition:"opacity 0.1s linear",opacity:M}),y&&(l?g.css({display:"block"}):g.css({display:"block",transition:"opacity 0.1s linear",opacity:L})))},m=function m(){x||(H=setTimeout(function(){l&&t||u||z||(l?b.css({display:"none"}):b.css({transition:"opacity 1s linear",opacity:0}),y&&(l?g.css({display:"none"}):g.css({transition:"opacity 1s linear",opacity:0})))},1e3))},v=function v(d,a,g){h=!1;var e=d,f=c.offsetHeight-b[0].offsetHeight;a&&(e=parseInt(b.css("top"),10)+d*parseInt(Q,10)/100*b[0].offsetHeight,e=Math.min(Math.max(e,0),f),e=0<d?Math.ceil(e):Math.floor(e),b.css({top:e+"px"}));r=parseInt(b.css("top"),10)/(c.offsetHeight-b[0].offsetHeight);e=r*(c.scrollHeight-c.offsetHeight);g&&(e=d,a=e/c.scrollHeight*c.offsetHeight,a=Math.min(Math.max(a,0),f),b.css({top:a+"px"}));e=0<d?Math.ceil(e):Math.floor(e);c.scrollTop=e;C();m()},D=function D(d){if(t){d=d||w.event;var a=0;d.wheelDelta&&(a=-d.wheelDelta/120);d.detail&&(a=d.detail/3);v(a,!0);d.preventDefault&&!h&&d.preventDefault();h||(d.returnValue=!1)}};if(R)b.on("mousedown",function(a){var c=parseFloat(b.css("top")),g=a.pageY;z=!0;n.on("mousemove",function(a){b.css({top:c+a.pageY-g+"px"});v(0,b[0].offsetTop,!1);a.stopPropagation();a.preventDefault();return!1});n.on("mouseup",function(){z=!1;u||m();n.off("mousemove")})}).on("selectstart",function(a){a.stopPropagation();a.preventDefault();return!1});g.on("mouseenter",function(){C()});g.on("mouseleave",function(){m()});b.on("mouseenter",function(){u=!0});b.on("mouseleave",function(){u=!1});f.on("mouseenter",function(){t=!0;C();m()});f.on("mouseleave",function(){t=!1;m()});f.on("touchstart",function(a){a.originalEvent.touches.length&&(A=a.originalEvent.touches[0].pageY)});f.on("touchmove",function(a){h||a.originalEvent.preventDefault();a.originalEvent.touches.length&&(v((A-a.originalEvent.touches[0].pageY)/S,!0),A=a.originalEvent.touches[0].pageY)});(function(a){w.addEventListener?(a.addEventListener("DOMMouseScroll",D,!1),a.addEventListener("mousewheel",D,!1)):n.attachEvent("onmousewheel",D)})(c);return function(a,f){f.wrap(I);f.append(b);f.append(g);B();T&&(a.$watch(function(){return c.offsetHeight/c.scrollHeight},function(a,b){b!==a&&(B(),v(0,!0))}),w.addEventListener("resize",function(){a.$apply()},!1))}}}}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function isObject(obj){return null!==obj&&"object"===(typeof obj==="undefined"?"undefined":_typeof(obj))}module.exports=isObject},function(module,exports,__webpack_require__){"use strict";var charsToEncode=/[\u007f-\uffff]/g;function httpHeaderSafeJson(args){return JSON.stringify(args).replace(charsToEncode,function(c){return"\\u"+("000"+c.charCodeAt(0).toString(16)).slice(-4)})}module.exports=httpHeaderSafeJson},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(Math){var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,mathRandom=Math.random;function tinycolor(color,opts){color=color?color:"";opts=opts||{};if(color instanceof tinycolor){return color}if(!(this instanceof tinycolor)){return new tinycolor(color,opts)}var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;if(this._r<1){this._r=mathRound(this._r)}if(this._g<1){this._g=mathRound(this._g)}if(this._b<1){this._b=mathRound(this._b)}this._ok=rgb.ok;this._tc_id=tinyCounter++}tinycolor.prototype={isDark:function isDark(){return this.getBrightness()<128},isLight:function isLight(){return!this.isDark()},isValid:function isValid(){return this._ok},getOriginalInput:function getOriginalInput(){return this._originalInput},getFormat:function getFormat(){return this._format},getAlpha:function getAlpha(){return this._a},getBrightness:function getBrightness(){var rgb=this.toRgb();return(rgb.r*299+rgb.g*587+rgb.b*114)/1e3},getLuminance:function getLuminance(){var rgb=this.toRgb();var RsRGB,GsRGB,BsRGB,R,G,B;RsRGB=rgb.r/255;GsRGB=rgb.g/255;BsRGB=rgb.b/255;if(RsRGB<=.03928){R=RsRGB/12.92}else{R=Math.pow((RsRGB+.055)/1.055,2.4)}if(GsRGB<=.03928){G=GsRGB/12.92}else{G=Math.pow((GsRGB+.055)/1.055,2.4)}if(BsRGB<=.03928){B=BsRGB/12.92}else{B=Math.pow((BsRGB+.055)/1.055,2.4)}return.2126*R+.7152*G+.0722*B},setAlpha:function setAlpha(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/100;return this},toHsv:function toHsv(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function toHsvString(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(hsv.h*360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return this._a==1?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function toHsl(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function toHslString(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return this._a==1?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function toHex(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function toHexString(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function toHex8(allow4Char){return rgbaToHex(this._r,this._g,this._b,this._a,allow4Char)},toHex8String:function toHex8String(allow4Char){return"#"+this.toHex8(allow4Char)},toRgb:function toRgb(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function toRgbString(){return this._a==1?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function toPercentageRgb(){return{r:mathRound(bound01(this._r,255)*100)+"%",g:mathRound(bound01(this._g,255)*100)+"%",b:mathRound(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function toPercentageRgbString(){return this._a==1?"rgb("+mathRound(bound01(this._r,255)*100)+"%, "+mathRound(bound01(this._g,255)*100)+"%, "+mathRound(bound01(this._b,255)*100)+"%)":"rgba("+mathRound(bound01(this._r,255)*100)+"%, "+mathRound(bound01(this._g,255)*100)+"%, "+mathRound(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function toName(){if(this._a===0){return"transparent"}if(this._a<1){return false}return hexNames[rgbToHex(this._r,this._g,this._b,true)]||false},toFilter:function toFilter(secondColor){var hex8String="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String="#"+rgbaToArgbHex(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function toString(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&(format==="hex"||format==="hex6"||format==="hex3"||format==="hex4"||format==="hex8"||format==="name");if(needsAlphaFormat){if(format==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(format==="rgb"){formattedString=this.toRgbString()}if(format==="prgb"){formattedString=this.toPercentageRgbString()}if(format==="hex"||format==="hex6"){formattedString=this.toHexString()}if(format==="hex3"){formattedString=this.toHexString(true)}if(format==="hex4"){formattedString=this.toHex8String(true)}if(format==="hex8"){formattedString=this.toHex8String()}if(format==="name"){formattedString=this.toName()}if(format==="hsl"){formattedString=this.toHslString()}if(format==="hsv"){formattedString=this.toHsvString()}return formattedString||this.toHexString()},clone:function clone(){return tinycolor(this.toString())},_applyModification:function _applyModification(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this},lighten:function lighten(){return this._applyModification(_lighten,arguments)},brighten:function brighten(){return this._applyModification(_brighten,arguments)},darken:function darken(){return this._applyModification(_darken,arguments)},desaturate:function desaturate(){return this._applyModification(_desaturate,arguments)},saturate:function saturate(){return this._applyModification(_saturate,arguments)},greyscale:function greyscale(){return this._applyModification(_greyscale,arguments)},spin:function spin(){return this._applyModification(_spin,arguments)},_applyCombination:function _applyCombination(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function analogous(){return this._applyCombination(_analogous,arguments)},complement:function complement(){return this._applyCombination(_complement,arguments)},monochromatic:function monochromatic(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function splitcomplement(){return this._applyCombination(_splitcomplement,arguments)},triad:function triad(){return this._applyCombination(_triad,arguments)},tetrad:function tetrad(){return this._applyCombination(_tetrad,arguments)}};tinycolor.fromRatio=function(color,opts){if((typeof color==="undefined"?"undefined":_typeof(color))=="object"){var newColor={};for(var i in color){if(color.hasOwnProperty(i)){if(i==="a"){newColor[i]=color[i]}else{newColor[i]=convertToPercentage(color[i])}}}color=newColor}return tinycolor(color,opts)};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var s=null;var v=null;var l=null;var ok=false;var format=false;if(typeof color=="string"){color=stringInputToObject(color)}if((typeof color==="undefined"?"undefined":_typeof(color))=="object"){if(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)==="%"?"prgb":"rgb"}else if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)){s=convertToPercentage(color.s);v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,s,v);ok=true;format="hsv"}else if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)){s=convertToPercentage(color.s);l=convertToPercentage(color.l);rgb=hslToRgb(color.h,s,l);ok=true;format="hsl"}if(color.hasOwnProperty("a")){a=color.a}}a=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255}}function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min){h=s=0}else{var d=max-min;s=l>.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}if(s===0){r=g=b=l}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3)}return{r:r*255,g:g*255,b:b*255}}function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d/max;if(max==min){h=0}else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)}return hex.join("")}function rgbaToHex(r,g,b,a,allow4Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16)),pad2(convertDecimalToHex(a))];if(allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0)}return hex.join("")}function rgbaToArgbHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("")}tinycolor.equals=function(color1,color2){if(!color1||!color2){return false}return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})};function _desaturate(color,amount){amount=amount===0?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s-=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function _saturate(color,amount){amount=amount===0?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s+=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function _greyscale(color){return tinycolor(color).desaturate(100)}function _lighten(color,amount){amount=amount===0?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l+=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function _brighten(color,amount){amount=amount===0?0:amount||10;var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount/100))));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount/100))));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount/100))));return tinycolor(rgb)}function _darken(color,amount){amount=amount===0?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l-=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function _spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(hsl.h+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl)}function _complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl)}function _triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function _tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function _splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function _analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl))}return ret}function _monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1}return ret}tinycolor.mix=function(color1,color2,amount){amount=amount===0?0:amount||50;var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount/100;var rgba={r:(rgb2.r-rgb1.r)*p+rgb1.r,g:(rgb2.g-rgb1.g)*p+rgb1.g,b:(rgb2.b-rgb1.b)*p+rgb1.b,a:(rgb2.a-rgb1.a)*p+rgb1.a};return tinycolor(rgba)};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)};tinycolor.isReadable=function(color1,color2,wcag2){var readability=tinycolor.readability(color1,color2);var wcag2Parms,out;out=false;wcag2Parms=validateWCAG2Parms(wcag2);switch(wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7;break}return out};tinycolor.mostReadable=function(baseColor,colorList,args){var bestColor=null;var bestScore=0;var readability;var includeFallbackColors,level,size;args=args||{};includeFallbackColors=args.includeFallbackColors;level=args.level;size=args.size;for(var i=0;i<colorList.length;i++){readability=tinycolor.readability(baseColor,colorList[i]);if(readability>bestScore){bestScore=readability;bestColor=tinycolor(colorList[i])}}if(tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors){return bestColor}else{args.includeFallbackColors=false;return tinycolor.mostReadable(baseColor,["#fff","#000"],args)}};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o){if(o.hasOwnProperty(i)){flipped[o[i]]=i}}return flipped}function boundAlpha(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1}return a}function bound01(n,max){if(isOnePointZero(n)){n="100%"}var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent){n=parseInt(n*max,10)/100}if(Math.abs(n-max)<1e-6){return 1}return n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function isPercentage(n){return typeof n==="string"&&n.indexOf("%")!=-1}function pad2(c){return c.length==1?"0"+c:""+c}function convertToPercentage(n){if(n<=1){n=n*100+"%"}return n}function convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}var matchers=function(){var CSS_INTEGER="[-\\+]?\\d+%?";var CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?";var CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")";var PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";var PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color)}function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=false;if(names[color]){color=names[color];named=true}else if(color=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}var match;if(match=matchers.rgb.exec(color)){return{r:match[1],g:match[2],b:match[3]}}if(match=matchers.rgba.exec(color)){return{r:match[1],g:match[2],b:match[3],a:match[4]}}if(match=matchers.hsl.exec(color)){return{h:match[1],s:match[2],l:match[3]}}if(match=matchers.hsla.exec(color)){return{h:match[1],s:match[2],l:match[3],a:match[4]}}if(match=matchers.hsv.exec(color)){return{h:match[1],s:match[2],v:match[3]}}if(match=matchers.hsva.exec(color)){return{h:match[1],s:match[2],v:match[3],a:match[4]}}if(match=matchers.hex8.exec(color)){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"}}if(match=matchers.hex6.exec(color)){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"}}if(match=matchers.hex4.exec(color)){return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),a:convertHexToDecimal(match[4]+""+match[4]),format:named?"name":"hex8"}}if(match=matchers.hex3.exec(color)){return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"}}return false}function validateWCAG2Parms(parms){var level,size;parms=parms||{level:"AA",size:"small"};level=(parms.level||"AA").toUpperCase();size=(parms.size||"small").toLowerCase();if(level!=="AA"&&level!=="AAA"){level="AA"}if(size!=="small"&&size!=="large"){size="small"}return{level:level,size:size}}if(typeof module!=="undefined"&&module.exports){module.exports=tinycolor}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{window.tinycolor=tinycolor}})(Math)},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var g;g=function(){return this}();try{g=g||Function("return this")()||(1,eval)("this")}catch(e){if((typeof window==="undefined"?"undefined":_typeof(window))==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/edit-event-1e44f1.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/edit-profile-bc01d4.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/sharing-2a8774.html"},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _jquery=__webpack_require__(7);var _jquery2=_interopRequireDefault(_jquery);var _angular=__webpack_require__(13);var _angular2=_interopRequireDefault(_angular);var _angularjs=__webpack_require__(199);var _angularjs2=_interopRequireDefault(_angularjs);var _angularMessages=__webpack_require__(75);var _angularMessages2=_interopRequireDefault(_angularMessages);var _angularUiNotification=__webpack_require__(76);var _angularUiNotification2=_interopRequireDefault(_angularUiNotification);var _angularJwt=__webpack_require__(74);var _angularJwt2=_interopRequireDefault(_angularJwt);var _angularUiBootstrap=__webpack_require__(207);var _angularUiBootstrap2=_interopRequireDefault(_angularUiBootstrap);var _ngFileUpload=__webpack_require__(255);var _ngFileUpload2=_interopRequireDefault(_ngFileUpload);var _ngInfiniteScroll=__webpack_require__(77);var _ngInfiniteScroll2=_interopRequireDefault(_ngInfiniteScroll);var _uiSelect=__webpack_require__(259);var _uiSelect2=_interopRequireDefault(_uiSelect);var _angularSanitize=__webpack_require__(205);var _angularSanitize2=_interopRequireDefault(_angularSanitize);__webpack_require__(279);__webpack_require__(291);__webpack_require__(283);__webpack_require__(284);__webpack_require__(290);__webpack_require__(288);__webpack_require__(292);__webpack_require__(281);__webpack_require__(289);__webpack_require__(280);__webpack_require__(282);__webpack_require__(285);__webpack_require__(286);__webpack_require__(293);__webpack_require__(295);__webpack_require__(294);__webpack_require__(296);var _routes=__webpack_require__(157);var _routes2=_interopRequireDefault(_routes);var _AuthCtrl=__webpack_require__(144);var _AuthCtrl2=_interopRequireDefault(_AuthCtrl);var _SignupCtrl=__webpack_require__(154);var _SignupCtrl2=_interopRequireDefault(_SignupCtrl);var _MasterCtrl=__webpack_require__(148);var _MasterCtrl2=_interopRequireDefault(_MasterCtrl);var _EventCtrl=__webpack_require__(147);var _EventCtrl2=_interopRequireDefault(_EventCtrl);var _ProfileCtrl=__webpack_require__(149);var _ProfileCtrl2=_interopRequireDefault(_ProfileCtrl);var _StoryCtrl=__webpack_require__(155);var _StoryCtrl2=_interopRequireDefault(_StoryCtrl);var _CurateCtrl=__webpack_require__(146);var _CurateCtrl2=_interopRequireDefault(_CurateCtrl);var _CallbackCtrl=__webpack_require__(145);var _CallbackCtrl2=_interopRequireDefault(_CallbackCtrl);var _SelectMediaCtrl=__webpack_require__(152);var _SelectMediaCtrl2=_interopRequireDefault(_SelectMediaCtrl);var _StoryEditCtrl=__webpack_require__(156);var _StoryEditCtrl2=_interopRequireDefault(_StoryEditCtrl);var _PunditCtrl=__webpack_require__(151);var _PunditCtrl2=_interopRequireDefault(_PunditCtrl);var _SharingCtrl=__webpack_require__(153);var _SharingCtrl2=_interopRequireDefault(_SharingCtrl);var _PunditActivationCtrl=__webpack_require__(150);var _PunditActivationCtrl2=_interopRequireDefault(_PunditActivationCtrl);var _AppService=__webpack_require__(158);var _AppService2=_interopRequireDefault(_AppService);var _AuthService=__webpack_require__(159);var _AuthService2=_interopRequireDefault(_AuthService);var _OAuthService=__webpack_require__(167);var _OAuthService2=_interopRequireDefault(_OAuthService);var _EventService=__webpack_require__(161);var _EventService2=_interopRequireDefault(_EventService);var _StoryService=__webpack_require__(170);var _StoryService2=_interopRequireDefault(_StoryService);var _FbService=__webpack_require__(162);var _FbService2=_interopRequireDefault(_FbService);var _InstagramService=__webpack_require__(164);var _InstagramService2=_interopRequireDefault(_InstagramService);var _PunditService=__webpack_require__(168);var _PunditService2=_interopRequireDefault(_PunditService);var _MediaService=__webpack_require__(166);var _MediaService2=_interopRequireDefault(_MediaService);var _GoogleApiService=__webpack_require__(163);var _GoogleApiService2=_interopRequireDefault(_GoogleApiService);var _DropboxService=__webpack_require__(160);var _DropboxService2=_interopRequireDefault(_DropboxService);var _LocalStorageService=__webpack_require__(165);var _LocalStorageService2=_interopRequireDefault(_LocalStorageService);var _ShareService=__webpack_require__(169);var _ShareService2=_interopRequireDefault(_ShareService);__webpack_require__(176);__webpack_require__(177);__webpack_require__(172);__webpack_require__(173);__webpack_require__(287);__webpack_require__(178);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(175);__webpack_require__(238);__webpack_require__(200);__webpack_require__(105);__webpack_require__(198);__webpack_require__(44);__webpack_require__(174);__webpack_require__(171);__webpack_require__(105);__webpack_require__(256);__webpack_require__(201);__webpack_require__(257);exports.default=_angular2.default.module("app",[_angularjs2.default,_angularUiBootstrap2.default,_angularMessages2.default,_angularUiNotification2.default,_angularJwt2.default,_ngFileUpload2.default,"ngScrollbars","angular.filter","ui.sortable","as.sortable","ngDragDrop","angular-sortable-view","ngSlimScroll","ui.router.state.events","infinite-scroll",_angularSanitize2.default,_uiSelect2.default,"color.picker"]).config(_routes2.default).run(["$http","$rootScope","jwtHelper","$window","$state","EventService","$uibModalStack",function($http,$rootScope,jwtHelper,$window,$state,EventService,$uibModalStack){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){if(fromState.name=="master.curate"){if(toState.name==""||toState.name=="master.selectMedia"){}else{$window.localStorage.dropbox="";$window.localStorage.facebook="";$window.localStorage.gdrive="";$window.localStorage.gplus="";$window.localStorage.instagram="";$window.localStorage.temp="";$window.localStorage.newStory=""}}$uibModalStack.dismissAll()});$rootScope.apiUrl="/";var token=$window.localStorage.ud;if(token!=undefined&&token!="null"){$http.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";$http.defaults.headers.common.Authorization="Bearer "+token}window.fbAsyncInit=function(){FB.init({appId:"909742709184337",autoLogAppEvents:true,xfbml:true,cookie:true,version:"v2.9"});FB.AppEvents.logPageView()};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk");var Dropbox=__webpack_require__(247);$rootScope.dbx=new Dropbox({clientId:"or8norwuzgjv957",accessToken:"bd4Znbn13YAAAAAAAAAAEPbgarkJrH0IsJuHPsoQrgwlzSmbQWrjo1Rzo9JlxhAj"})}]).controller("AuthCtrl",_AuthCtrl2.default).controller("CallbackCtrl",_CallbackCtrl2.default).controller("CurateCtrl",_CurateCtrl2.default).controller("EventCtrl",_EventCtrl2.default).controller("MasterCtrl",_MasterCtrl2.default).controller("ProfileCtrl",_ProfileCtrl2.default).controller("PunditActivationCtrl",_PunditActivationCtrl2.default).controller("PunditCtrl",_PunditCtrl2.default).controller("SelectMediaCtrl",_SelectMediaCtrl2.default).controller("SignupCtrl",_SignupCtrl2.default).controller("SharingCtrl",_SharingCtrl2.default).controller("StoryCtrl",_StoryCtrl2.default).controller("StoryEditCtrl",_StoryEditCtrl2.default).service("AppService",_AppService2.default).service("AuthService",_AuthService2.default).service("DropboxService",_DropboxService2.default).service("EventService",_EventService2.default).service("FbService",_FbService2.default).service("GoogleApiService",_GoogleApiService2.default).service("InstaService",_InstagramService2.default).service("LocalStorageService",_LocalStorageService2.default).service("MediaService",_MediaService2.default).service("OAuthService",_OAuthService2.default).service("PunditService",_PunditService2.default).service("ShareService",_ShareService2.default).service("StoryService",_StoryService2.default).directive("uidraggable",function($rootScope){return{restrict:"A",link:function link(scope,element,attrs){element.draggable({containment:"#dragContainer",drag:function drag(event,ui){var left=ui.position.left;var top=ui.position.top;var index=scope.media.map(function(el){return el.media_url}).indexOf(scope.selectedMedia.media_url);if($rootScope.media[index].text==undefined){$rootScope.media[index].text={left:left,top:top}}else{$rootScope.media[index].text.left=left;$rootScope.media[index].text.top=top}}})}}}).filter("searchFilter",function($filter){return function(items,searchfilter){if(searchfilter.length&&items!=null){var list=[];items.forEach(function(el){if(searchfilter.indexOf(el["id"])!==-1){list.push(el)}});return list}else{return[]}}}).filter("searchFilter2",function($filter){return function(items,searchfilter){var list=[];items.forEach(function(el){if(el.type=="facebook"&&searchfilter["Facebook"]==true){list.push(el)}else if(el.type=="gplus"&&searchfilter["Google+"]==true){list.push(el)}else if(el.type=="instagram"&&searchfilter["Instagram"]==true){list.push(el)}else if(el.type=="twitter"&&searchfilter["Twitter"]==true){list.push(el)}else if((el.type=="gdrive"||el.type=="dropbox")&&searchfilter["Cloud Storage"]==true){list.push(el)}else if(el.type=="uploaded"&&searchfilter["Uploaded Image"]==true&&el.media_type=="photo"){list.push(el)}else if(el.type=="uploaded"&&searchfilter["Uploaded Video"]==true&&el.media_type=="video"){list.push(el)}});return list}}).filter("timeFilter",function($filter){return function(items,timeValue){var list=[];items.forEach(function(el){if(timeValue){if(el.created_at){if(el.type=="instagram"){var dt=parseInt(el.created_at)*1e3;var d=new Date(dt)}else{var msec=Date.parse(el.created_at);var d=new Date(msec)}var date=new Date;var checkDate;if(timeValue=="Last 30 mins"){checkDate=new Date(date.getTime()-30*6e4)}else if(timeValue=="Last hour"){checkDate=new Date(date.getTime()-60*6e4)}else if(timeValue=="Last 5 hours"){checkDate=new Date(date.getTime()-5*60*6e4)}else if(timeValue=="Last 24 hours"){checkDate=new Date(date.getTime()-24*60*6e4)}else if(timeValue=="This week"){var day=date.getDay();checkDate=new Date(date.getTime()-day*24*60*6e4)}else{timeValue=timeValue.replace(/['"]+/g,"");var checkDate=new Date(timeValue)}if(checkDate.getDate()+"-"+checkDate.getMonth()+"-"+checkDate.getFullYear()==d.getDate()+"-"+d.getMonth()+"-"+d.getFullYear()){list.push(el)}}}else{list=items}});return list}}).filter("locationFilter",function($filter){return function(items,location){var list=[];if(location!=""&&location!=undefined){items.forEach(function(el){if(el.type=="gplus"||el.type=="twitter"||el.type=="facebook"||el.type=="instagram"){if(el.location&&el.location.toLowerCase().indexOf(location.toLowerCase())!=-1){list.push(el)}}else{}})}else{list=items}return list}}).directive("whenScrolled",function(){return{restrict:"A",link:function link(scope,elem,attrs){var raw=elem[0];elem.bind("scroll",function(){if(raw.scrollTop+raw.offsetHeight+5>=raw.scrollHeight){scope.loading=true;scope.$apply(attrs.whenScrolled)}})}}}).directive("clientAutoComplete",function($filter){return{restrict:"A",link:function link(scope,elem,attrs){elem.autocomplete({source:function source(request,response){var params=request.term;var data=scope.dataSource;if(data){var result1=$filter("filter")(data,{event_title:params});var result2=$filter("filter")(data,{event_details:params});var result=result1.concat(result2.filter(function(item){return result1.indexOf(item)<0}));_angular2.default.forEach(result,function(item){item["value"]=item["event_title"]})}if(result.length==0){result=[{value:"We couldn't find any matching Events or Stories",id:undefined}]}response(result)},minLength:1,select:function select(event,ui){scope.$apply(function(){scope.setClientData(ui.item)})}})}}}).directive("storyAutoComplete",function($filter,StoryService){return{restrict:"A",link:function link(scope,elem,attrs){elem.autocomplete({source:function source(request,response){var params=request.term;if(params!=""){StoryService.searchStory(params,scope.event.id).then(function(res){var result;if(res.data.data&&res.status==200){result=res.data.data.stories;_angular2.default.forEach(result,function(item){item["value"]=item["story_title"]})}else{result=[{value:res.data.message||"We couldn't find any matching Stories",id:undefined}]}response(result)})}},minLength:1,select:function select(event,ui){scope.$apply(function(){scope.setClientData(ui.item)})}})}}}).directive("onErrorSrc",function(){return{link:function link(scope,element,attrs){element.bind("error",function(){if(attrs.src!=attrs.onErrorSrc){attrs.$set("src",attrs.onErrorSrc)}})}}}).directive("onErrorSrcHide",function(){return{link:function link(scope,element,attrs){function isHidden(array){for(var i=0;i<array.length-1;i++){if(array[i+1].style.display!="none"){return false}}return true}element.bind("error",function(){this.parentNode.parentNode.style.display="none";var children=this.parentNode.parentNode.parentNode.getElementsByTagName("li");if(isHidden(children)){this.parentNode.parentNode.parentNode.innerHTML="No image found"}})}}}).name},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=AuthCtrl;AuthCtrl.$inject=["$rootScope","$scope","$state","AuthService","Notification","jwtHelper","$window","$http"];function AuthCtrl($rootScope,$scope,$state,authService,notification,jwtHelper,$window,$http){$scope.loginForm={password:"",email:"",rememberMe:""};if($scope.loginForm.password!=""&&$scope.loginForm.email!=""){if($window.localStorage.ud){notification.success({message:"Already Loged in!",positionY:"bottom",positionX:"right",delay:3e3});$state.go("master.event")}}else if($window.localStorage.ud){$state.go("master.event")}$scope.login=function(){$scope.errors=[];$scope.error=[];var regularExpForValidEmail=/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim;if($scope.loginForm.password==""||$scope.loginForm.password==undefined){$scope.errors.push("Password field is required");$scope.error["password"]=true}if($scope.loginForm.email==""||$scope.loginForm.email==undefined){$scope.errors.push("Email field is required");$scope.error["email"]=true}else if(!regularExpForValidEmail.test($scope.loginForm.email)){$scope.error["email"]=true;$scope.errors.push("Please enter valid email address")}if($scope.errors.length>0){notification.error({message:"Validation Error",templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{$scope.loader=true;authService.login($scope.loginForm).then(function(res){$scope.loader=false;if(res.status==200){$window.localStorage.ud=res.data.token;$http.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";$http.defaults.headers.common.Authorization="Bearer "+res.data.token;notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$scope.loginForm=undefined;if($state.params.return_url){window.location.href=$state.params.return_url}else{$state.go("master.event")}}else if(res.status==400){notification.error({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})}}}},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=CallbackCtrl;CallbackCtrl.$inject=["$rootScope","$scope","$state","AppService","OAuthService","$window","InstaService"];function CallbackCtrl($rootScope,$scope,$state,appService,oAuthService,$window,InstaService){switch($state.current.name){case"twitter-callback":{var assoc={};var decode=function decode(s){return decodeURIComponent(s.replace(/\+/g," "))};var queryString=$window.location.search.substring(1);var keyValues=queryString.split("&");for(var i in keyValues){var key=keyValues[i].split("=");if(key.length>1){assoc[decode(key[0])]=decode(key[1])}}if(assoc["denied"]!=undefined){$window.opener.location.reload();$window.close();return}assoc["channel_type"]="Account";if(assoc["oauth_token"]&&assoc["oauth_verifier"]){oAuthService.accessToken(assoc["oauth_token"],$rootScope.accessTokenSecret,assoc["oauth_verifier"]).then(function(res){var keyValues=res.data.split("&");for(var i in keyValues){var key=keyValues[i].split("=");if(key.length>1){assoc[decode(key[0])]=decode(key[1])}}$window.localStorage.twit_token=assoc["oauth_token"];$window.localStorage.twit_token_s=assoc["oauth_token_secret"];if($window.localStorage.twitter==undefined||$window.localStorage.twitter==""){var twitter=[];twitter.push(assoc)}else{var twitter=JSON.parse($window.localStorage.twitter);if(twitter.map(function(el){return el["user_id"]}).indexOf(assoc["user_id"])!=-1){$window.opener.location.reload();$window.close();return}else{twitter.push(assoc)}}$window.localStorage.twit_test=1;$window.localStorage.twitter=JSON.stringify(twitter);var supertemp=[];oAuthService.getdata(assoc).then(function(res){res.data.forEach(function(item){var location;if(item.place!=null)location=item.place.full_name;if(item.extended_entities){item.extended_entities.media.forEach(function(item2){if(supertemp.length<100){if(item2.type=="photo"){supertemp.push({type:"twitter",media_type:"photo",media_url:item2.media_url,created_at:item.created_at,id:assoc["user_id"],location:location})}else if(item2.type=="video"){supertemp.push({type:"twitter",media_type:"video",media_url:item2.video_info.variants[1].url,created_at:item.created_at,thumb_url:item2.media_url,id:assoc["user_id"],location:location})}}})}});$window.localStorage.temp=JSON.stringify(supertemp);$window.opener.location.reload();$window.close()})})}break}case"instagram-callback":{var array=$.map($state.params,function(value,index){return[value]});var temp=array[0];var access_token=temp.replace("access_token=","");var url="https://api.instagram.com/v1/users/self/";InstaService.instagramRequest(url,access_token).then(function(res){var instagram=[];if($window.localStorage.instagram==undefined||$window.localStorage.instagram==""){instagram.push({user_id:"instagram"+res.data.data.username,channel_type:"Account",screen_name:res.data.data.username,access_token:access_token})}else{instagram=JSON.parse($window.localStorage.instagram);instagram.push({user_id:"instagram"+res.data.data.username,channel_type:"Account",screen_name:res.data.data.username,access_token:access_token})}var instagram_media=[];InstaService.instagramRequest("https://api.instagram.com/v1/users/self/media/recent/",access_token+"&count=100").then(function(resp){var allmedia=resp.data.data;if(resp.data.pagination!=undefined&&resp.data.pagination.next_url!=undefined){InstaService.instagramRequest2(resp.data.pagination.next_url).then(function(resp2){allmedia=allmedia.concat(resp2.data.data);if(resp2.data.pagination!=undefined&&resp2.data.pagination.next_url!=undefined){InstaService.instagramRequest2(resp2.data.pagination.next_url).then(function(resp3){allmedia=allmedia.concat(resp3.data.data)});startExecution()}else{startExecution()}})}else{startExecution()}var startExecution=function startExecution(){allmedia.forEach(function(item){if(instagram_media.length<100){if(item.type=="image"){instagram_media.push({type:"instagram",media_type:"photo",media_url:item.images.standard_resolution.url,id:"instagram"+res.data.data.username,created_at:item.created_time,location:item.location?item.location.name:item.location})}else if(item.type=="video"){instagram_media.push({type:"instagram",media_type:"video",media_url:item.videos.standard_resolution.url,id:"instagram"+res.data.data.username,created_at:item.created_time,thumb_url:item.images.low_resolution.url,location:item.location?item.location.name:item.location})}else if(item.type=="carousel"){if(item.images){instagram_media.push({type:"instagram",media_type:"photo",media_url:item.images.standard_resolution.url,id:"instagram"+res.data.data.username,created_at:item.created_time,location:item.location?item.location.name:item.location})}else if(item.videos){instagram_media.push({type:"instagram",media_type:"video",media_url:item.videos.standard_resolution.url,id:"instagram"+res.data.data.username,created_at:item.created_time,thumb_url:item.images.low_resolution.url,location:item.location?item.location.name:item.location})}}}});$window.localStorage.temp=JSON.stringify(instagram_media);$window.localStorage.instagram=JSON.stringify(instagram);setTimeout(function(){$window.opener.location.reload();$window.close()},100)}})});break}case"insta-tag-callback":{var array=$.map($state.params,function(value,index){return[value]});var temp=array[0];var access_token=temp.replace("access_token=","");var keyword=$window.localStorage.keyword;$window.localStorage.keyword=undefined;var url="https://api.instagram.com/v1/tags/"+keyword+"/media/recent";var instagram=[];if($window.localStorage.instagram==undefined||$window.localStorage.instagram==""){instagram.push({user_id:"instagram"+keyword,channel_type:"Hashtag",screen_name:keyword,access_token:access_token})}else{instagram=JSON.parse($window.localStorage.instagram);instagram.push({user_id:"instagram"+keyword,channel_type:"Hashtag",screen_name:keyword,access_token:access_token})}var instagram_media=[];InstaService.instagramRequest(url,access_token).then(function(resp){resp.data.data.forEach(function(item){if(instagram_media.length<10){if(item.type=="image"){instagram_media.push({type:"instagram",media_type:"photo",media_url:item.images.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,location:item.location})}else if(item.type=="video"){instagram_media.push({type:"instagram",media_type:"video",media_url:item.videos.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,location:item.location})}}});$window.localStorage.temp=JSON.stringify(instagram_media);$window.localStorage.instagram=JSON.stringify(instagram);$window.location.href="https://instagram.com/accounts/logout/";setTimeout(function(){$window.opener.location.reload();$window.close()},100)});break}}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=CurateCtrl;CurateCtrl.$inject=["$rootScope","$scope","$state","Notification","$window","OAuthService","LocalStorageService","DropboxService","GoogleApiService","StoryService","FbService","Upload","$timeout","InstaService","$uibModal"];function CurateCtrl($rootScope,$scope,$state,notification,$window,oAuthService,LocalStorageService,dropboxService,googleApiService,storyService,fbService,Upload,$timeout,InstaService,$uibModal){$timeout(function(){$(".test").mCustomScrollbar({axis:"y",setHeight:120,mouseWheel:true});$(".test1").mCustomScrollbar({theme:"minimal"})},1e3);$scope.social_type="";$scope.cloud_type="";$scope.show_social=false;$scope.show_cloud=false;$scope.show_local=false;$scope.uploaded_picture=[];$scope.hashtag={value:""};$scope.keyword={value:""};$scope.newAccount={value:""};$scope.select_media_type={image:true,video:true};$scope.local_present={image:false,video:false};$scope.filter={filterCheck:[],filterValue:[]};$scope.media=[];$scope.mediaType="";$scope.select_type=["gplus","twitter"];var init=function init(){if($window.localStorage.newStory==undefined||$window.localStorage.newStory==""){$state.go("master.event")}$rootScope.newStory=JSON.parse($window.localStorage.newStory);$scope.story_id=$rootScope.newStory.id;if($window.localStorage.twitter){console.log(JSON.parse($window.localStorage.twitter));$rootScope.twitter=JSON.parse($window.localStorage.twitter);$scope.filter.filterValue=$rootScope.twitter.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});console.log($scope.filter)}if($window.localStorage.dropbox){$rootScope.dropbox=JSON.parse($window.localStorage.dropbox);var temp=$rootScope.dropbox.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});$scope.filter.filterValue=$scope.filter.filterValue.concat(temp)}if($window.localStorage.gdrive){$rootScope.gdrive=JSON.parse($window.localStorage.gdrive);var temp=$rootScope.gdrive.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});$scope.filter.filterValue=$scope.filter.filterValue.concat(temp)}if($window.localStorage.gplus){$rootScope.gplus=JSON.parse($window.localStorage.gplus);var temp=$rootScope.gplus.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});$scope.filter.filterValue=$scope.filter.filterValue.concat(temp)}if($window.localStorage.facebook){$rootScope.facebook=JSON.parse($window.localStorage.facebook);var temp=$rootScope.facebook.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});$scope.filter.filterValue=$scope.filter.filterValue.concat(temp)}if($window.localStorage.instagram){$rootScope.instagram=JSON.parse($window.localStorage.instagram);var temp=$rootScope.instagram.map(function(item){$scope.filter.filterCheck[item.user_id]=true;return item.user_id});$scope.filter.filterValue=$scope.filter.filterValue.concat(temp)}LocalStorageService.get_localStorage($scope.story_id).then(function(res){$scope.media=res.data.data.story_media;$rootScope.newStory.local=$scope.media;$scope.continue_story_status=false;if($scope.media){angular.forEach($scope.media,function(value,key){if(value.media_type=="image"){$scope.local_image_present=true}else if(value.media_type=="video"){$scope.local_video_present=true}$scope.local_present={image:$scope.local_image_present,video:$scope.local_video_present}})}});var acc=document.getElementsByClassName("accordion");var i;for(i=0;i<acc.length;i++){acc[i].onclick=function(){this.classList.toggle("active");var panel=this.nextElementSibling;if(panel.style.maxHeight){panel.style.maxHeight=null}else{panel.style.maxHeight=panel.scrollHeight+"px"}}}$(document).ready(function(){$("#DropDownSVed").click(function(){$("#DopListVedio").toggleClass("dppee1")});$("#DropDownS").click(function(){$("#DopList").toggleClass("dppee")});$(".cldstorageoption").click(function(){$("#DopListVedio").toggleClass("dppee1")});$(".scilchhnl").click(function(){$("#DopList").toggleClass("dppee")});$("#swtch").click(function(){$("#gump").toggle()})})};init();$scope.checkActive=function(value,index){if(value>0){var acc=document.getElementsByClassName("accordion");acc[index].classList.toggle("active");var panel=acc[index].nextElementSibling;panel.style.maxHeight="100%"}};var countvalue=0;if($rootScope.dropbox){if($rootScope.gdrive)countvalue=$rootScope.gdrive.length+$rootScope.dropbox.length;else countvalue=$rootScope.dropbox.length}else if($rootScope.gdrive)countvalue=$rootScope.gdrive.length;$scope.checkActive(countvalue,1);$scope.filterImage=function(item,check){if(check==true){var index=$scope.filter.filterValue.indexOf(item);if(index=-1)$scope.filter.filterValue.push(item)}else{var _index=$scope.filter.filterValue.indexOf(item);if(_index!=-1)$scope.filter.filterValue.splice(_index,1)}$scope.continue_story_status=false};$scope.selectorModelBox=function(){var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body selectedImages",size:"md",templateUrl:"imageSelector.html",controller:["$rootScope","$scope","$state","$uibModalInstance","$window","EventService",function($rootScope,$scope,$state,$uibModalInstance,$window,eventService){if($window.localStorage.next_query&&$window.localStorage.next_query!="undefined"){$scope.next_query=JSON.parse($window.localStorage.next_query)}console.log(document.getElementById("checkimagselect"));angular.element($window).scroll(function(){console.log($window.screenTop)});$scope.images=JSON.parse($window.localStorage.temp);if($scope.images.length===0){setTimeout(function(){$scope.close()},700)}console.log($window.localStorage.temp);console.log($window.localStorage.twitter);$scope.loader=true;$scope.selectedImages=[];$scope.close=function(){$window.localStorage.temp=undefined;if($window.localStorage.next_query&&$window.localStorage.next_query!="undefined")$window.localStorage.next_query=undefined;$uibModalInstance.dismiss("cancel");if($scope.images.length>0){if($scope.images[0].type=="twitter"){var testTwit=JSON.parse($window.localStorage.twitter);var newTwit=testTwit.filter(function(item){return item.user_id!=$scope.images[0].id});$window.localStorage.twitter=JSON.stringify(newTwit)}if($scope.images[0].type=="facebook"){var testFace=JSON.parse($window.localStorage.facebook);var newFace=testFace.filter(function(item){return item.user_id!=$scope.images[0].id});$window.localStorage.facebook=JSON.stringify(newFace)}if($scope.images[0].type=="instagram"){var testInsta=JSON.parse($window.localStorage.instagram);var newInsta=testInsta.filter(function(item){return item.user_id!=$scope.images[0].id});$window.localStorage.instagram=JSON.stringify(newInsta)}if($scope.images[0].type=="gplus"){var testgplus=JSON.parse($window.localStorage.gplus);var newgplus=testgplus.filter(function(item){return item.user_id!=$scope.images[0].id});$window.localStorage.gplus=JSON.stringify(newgplus)}}$window.location.reload()};$scope.ok=function(){$rootScope.newStory=JSON.parse($window.localStorage.newStory);if($rootScope.newStory.media==undefined){$rootScope.newStory.media=[]}if($window.localStorage.next_query&&$window.localStorage.next_query!="undefined")$window.localStorage.next_query=undefined;$rootScope.newStory.media=$rootScope.newStory.media.concat($scope.selectedImages);$window.localStorage.newStory=JSON.stringify($rootScope.newStory);$window.localStorage.temp=undefined;console.log($rootScope.newStory.media);$uibModalInstance.dismiss("cancel")};$scope.changefun=function(img){var index=$scope.selectedImages.map(function(el){return el.media_url}).indexOf(img.media_url);if(index===-1){$scope.selectedImages.push(img)}else{$scope.selectedImages.splice(index,1)}console.log($scope.selectedImages)};$scope.nextcurl=function(){if($scope.next_query!=undefined){$scope.curlbusy=true;oAuthService.keywordReSearch($scope.next_query.keyword,$scope.next_query.max_id).then(function(res){res.data.statuses.forEach(function(item){if(item.extended_entities!=undefined){var supertemp=[];item.extended_entities.media.forEach(function(item2){var indexvalue;if(item2.type=="photo"){indexvalue=$scope.images.map(function(el){return el.media_url}).indexOf(item2.media_url)}else if(item2.type=="video"){indexvalue=$scope.images.map(function(el){return el.media_url}).indexOf(item2.video_info.variants[1].url)}if(supertemp.length<100&&indexvalue<0){if(item2.type=="photo"){$scope.images.push({type:"twitter",media_type:"photo",media_url:item2.media_url,created_at:item.created_at,id:"Twitter"+$scope.next_query.keyword})}else if(item2.type=="video"){$scope.images.push({type:"twitter",media_type:"video",media_url:item2.video_info.variants[1].url,created_at:item.created_at,thumb_url:item2.media_url,id:"Twitter"+$scope.next_query.keyword})}}});if(res.data.search_metadata!=undefined){if(res.data.search_metadata.next_results!=undefined){var temp=res.data.search_metadata.next_results.replace("?max_id=","");var hashtag=$scope.next_query.keyword;temp=temp.split("&");$scope.next_query={max_id:temp[0],keyword:hashtag.replace("#","%23")}}else{$scope.next_query=undefined}}}});$scope.curlbusy=false})}};setTimeout(function(){$scope.loader=false},500)}]})};if($window.localStorage.temp&&$window.localStorage.temp!=undefined&&$window.localStorage.temp!="undefined"){$scope.selectorModelBox()}$scope.media_check=function(type,val){if(val.image==true&&val.video==true){$scope.mediaType=""}else if(val.image==false&&val.video==false){$scope.mediaType="hide"}else if(type=="image"&&val.image==false&&val.video==true){$scope.mediaType="video";$scope.select_media_type.image=false}else if(type=="video"&&val.image==true&&val.video==false){$scope.mediaType="image";$scope.select_media_type.video=false}else if(type=="video"&&val.image==false&&val.video==true){$scope.mediaType="video";$scope.select_media_type.video=true}else if(type=="image"&&val.image==true&&val.video==false){$scope.mediaType="image";$scope.select_media_type.image=true}$scope.continue_story_status=false};$scope.Cnnlsclc=function(x){$scope.social_type=x;$scope.show_social=true;$scope.show_cloud=false;$scope.show_local=false};$scope.claudStrg=function(x){$scope.cloud_type=x;$scope.show_social=false;$scope.show_cloud=true;$scope.show_local=false};$scope.local_media=function(){$scope.show_social=false;$scope.show_cloud=false;$scope.show_local=true};$scope.upload=function(files){$scope.count=0;$scope.count_load=0;$scope.file_count=0;angular.forEach(files,function(value,key){var a=[];a[0]=value;a[1]=0;$scope.uploaded_picture.push(a)});var eventProcess=function eventProcess(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);if(evt.type=="progress"){$scope.uploaded_picture[$scope.count][1]=progressPercentage;$scope.count=$scope.count+1}else{$scope.uploaded_picture[$scope.file_count][1]=progressPercentage}};var file_upload=function file_upload(resp){$scope.file_count=$scope.file_count+1;if($scope.uploaded_picture.length==$scope.file_count){LocalStorageService.get_localStorage($scope.story_id).then(function(res){$timeout(function(){$scope.uploaded_picture=[];var acc=document.getElementsByClassName("accordion");acc[2].click();acc[2].click()},500);$scope.media=res.data.data.story_media;$rootScope.newStory.local=$scope.media;$scope.continue_story_status=false;angular.forEach($scope.media,function(value,key){if(value.media_type=="image"){$scope.local_image_present=true;$scope.select_media_type.image=true}else if(value.media_type=="video"){$scope.local_video_present=true;$scope.select_media_type.video=true}$scope.local_present={image:$scope.local_image_present,video:$scope.local_video_present}})})}return resp.data};if(files!=""){for(var i=0;i<files.length;i++){var formdata={media:[files[i]],story_id:$scope.story_id};Upload.upload({url:$rootScope.apiUrl+"api/story_media_upload",data:formdata}).then(file_upload,function(err){return err},eventProcess)}}};$scope.login=function(type,username){$scope.loading=true;var supertemp=[];var social_type=type;if(social_type=="Google Drive"&&$scope.filter.filterValue.includes("GDrive"+username)||social_type=="Dropbox"&&$scope.filter.filterValue.includes("Dropbox"+username)||social_type=="Facebook"&&$scope.filter.filterValue.includes("Facebook"+username)||social_type=="Twitter"&&$scope.filter.filterValue.includes("Twitter"+username)||social_type=="Google"&&$scope.filter.filterValue.includes("GPlus"+username)){$scope.newAccount.value="";notification.error({message:"Username already present!",positionY:"bottom",positionX:"right",delay:3e3});$scope.loader=false}else{if(type=="Facebook"){fbService.fb_login()}else if(type=="Twitter"){oAuthService.tw_access_token("POST","https://api.twitter.com/oauth/request_token","").then(function(res){var token=res.data.split("&");window.open("https://api.twitter.com/oauth/authenticate?"+token[0]+"&screen_name="+username+"&force_login=true","","width=600,height=500");var accessToken=token[0].split("=");var accessTokenSecret=token[1].split("=");$rootScope.accessToken=accessToken;$rootScope.accessTokenSecret=accessTokenSecret})}else if(type=="Google"){googleApiService.gPlusLogin(username)}else if(type=="Google Drive"){googleApiService.gdriveLogin(username)}else if(type=="Dropbox"){dropboxService.dropboxLogin(username)}else if(type=="Instagram"){InstaService.login(username)}}};$scope.deleteAccount=function(social_type,AccountId){$scope.st=social_type;$scope.aid=AccountId;var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",templateUrl:"deleteAccount.html",controller:["$rootScope","$scope","$state","$uibModalInstance","$window","EventService",function($rootScope,$scope,$state,$uibModalInstance,$window,eventService){$scope.close=function(){$uibModalInstance.dismiss("cancel")};$scope.ok=function(){$rootScope.deleteAccount=true;$uibModalInstance.dismiss("cancel")}}]});$rootScope.$watch(function(rootScope){return rootScope.deleteAccount},function(newValue,oldValue){console.log(newValue+"-"+oldValue);if(newValue==true){var index=$scope.filter.filterValue.indexOf($scope.aid);$scope.filter.filterValue.splice(index,1);storyService.deleteSocialAccount($scope.st,$scope.aid)}},true)};$scope.searchKeyword=function(social_type,keyword){$scope.loader=true;$scope.loading=true;var supertemp=[];if(social_type=="Twitter"&&$scope.filter.filterValue.indexOf("Twitter"+keyword)!=-1||social_type=="Google"&&$scope.filter.filterValue.indexOf("GPlus"+keyword)!=-1){$scope.keyword.value="";notification.error({message:"Keyword already present!",positionY:"bottom",positionX:"right",delay:3e3});$scope.loader=false;$scope.loading=false}else{if(social_type=="Twitter"){oAuthService.keywordSearch(keyword).then(function(res){$scope.loader=false;if($window.localStorage.twitter==undefined||$window.localStorage.twitter==""){var twitter=[];twitter.push({user_id:"Twitter"+keyword,screen_name:keyword,channel_type:"Keyword"})}else{var twitter=JSON.parse($window.localStorage.twitter);if(twitter.map(function(el){return el["user_id"]}).indexOf("Twitter"+keyword)!=-1){return}else{twitter.push({user_id:"Twitter"+keyword,screen_name:keyword,channel_type:"Keyword"})}}$rootScope.twitter=twitter;$window.localStorage.twitter=JSON.stringify(twitter);res.data.statuses.forEach(function(item){if(item.extended_entities!=undefined){item.extended_entities.media.forEach(function(item2){var indexval;if(item2.type=="photo"){indexval=supertemp.map(function(el){return el.media_url}).indexOf(item2.media_url)}else if(item2.type=="video"){indexval=supertemp.map(function(el){return el.media_url}).indexOf(item2.video_info.variants[1].url)}if(supertemp.length<500&&indexval<0){if(item2.type=="photo"){supertemp.push({type:"twitter",media_type:"photo",media_url:item2.media_url,created_at:item.created_at,id:"Twitter"+keyword})}else if(item2.type=="video"){supertemp.push({type:"twitter",media_type:"video",media_url:item2.video_info.variants[1].url,created_at:item.created_at,thumb_url:item2.media_url,id:"Twitter"+keyword})}}})}});$window.localStorage.temp=JSON.stringify(supertemp);$window.location.reload()})}else if(social_type=="Google"){googleApiService.gPlusKeyword({keyword:keyword,type:"keyword"}).then(function(res){if($window.localStorage.gplus==undefined||$window.localStorage.gplus==""){var gplus=[];gplus.push({user_id:"GPlus"+keyword,screen_name:keyword,channel_type:"Keyword"})}else{var gplus=JSON.parse($window.localStorage.gplus);if(gplus.map(function(el){return el["user_id"]}).indexOf("GPlus"+keyword)!=-1){return}else{gplus.push({user_id:"GPlus"+keyword,screen_name:keyword,channel_type:"Keyword"})}}$rootScope.gplus=gplus;$window.localStorage.gplus=JSON.stringify(gplus);var arr=[];if(res.data.data&&res.data.data.length>0){res.data.data.forEach(function(item){item=item.replace(/^(\/\/)/,"http://");if(supertemp.length<50){arr.push({type:"gplus",media_type:"photo",media_url:item,id:"GPlus"+keyword})}})}$window.localStorage.temp=JSON.stringify(arr);$window.location.reload()})}$scope.loader=false}};$scope.searchHashtag=function(social_type,hashtag){$scope.loading=true;$scope.loader=true;var supertemp=[];var keyword=hashtag;if(social_type=="Twitter"&&$scope.filter.filterValue.includes("Twitter"+hashtag)||social_type=="Google"&&$scope.filter.filterValue.includes("GPlus"+hashtag)){$scope.hashtag.value="";notification.error({message:"Hashtag already present!",positionY:"bottom",positionX:"right",delay:3e3});$scope.loader=false;$scope.loading=false}else{if(social_type=="Twitter"){oAuthService.keywordSearch(hashtag.replace("#","%23")).then(function(res){if($window.localStorage.twitter==undefined||$window.localStorage.twitter==""){var twitter=[];twitter.push({user_id:"Twitter"+keyword,screen_name:keyword,channel_type:"Hashtag"})}else{var twitter=JSON.parse($window.localStorage.twitter);if(twitter.map(function(el){return el["user_id"]}).indexOf("Twitter"+keyword)!=-1){return}else{twitter.push({user_id:"Twitter"+keyword,screen_name:keyword,channel_type:"Hashtag"})}}$rootScope.twitter=twitter;$window.localStorage.twitter=JSON.stringify(twitter);res.data.statuses.forEach(function(item){if(item.extended_entities!=undefined){item.extended_entities.media.forEach(function(item2){var indexval;if(item2.type=="photo"){indexval=supertemp.map(function(el){return el.media_url}).indexOf(item2.media_url)}else if(item2.type=="video"){indexval=supertemp.map(function(el){return el.media_url}).indexOf(item2.video_info.variants[1].url)}if(supertemp.length<500&&indexval<0){if(item2.type=="photo"){supertemp.push({type:"twitter",media_type:"photo",media_url:item2.media_url,created_at:item.created_at,id:"Twitter"+keyword})}else if(item2.type=="video"){supertemp.push({type:"twitter",media_type:"video",media_url:item2.video_info.variants[1].url,thumb_url:item2.media_url,created_at:item.created_at,id:"Twitter"+keyword})}}})}});if(res.data.search_metadata!=undefined){if(res.data.search_metadata.next_results!=undefined){var temp=res.data.search_metadata.next_results.replace("?max_id=","");temp=temp.split("&");var next_query={max_id:temp[0],keyword:hashtag.replace("#","%23")};$window.localStorage.next_query=JSON.stringify(next_query)}else{$window.localStorage.next_query=undefined}}$window.localStorage.temp=JSON.stringify(supertemp);$window.location.reload()})}else if(social_type=="Google"){var newkeyword=keyword.replace("#","");googleApiService.gPlusKeyword({keyword:newkeyword,type:"Hashtag"}).then(function(res){if($window.localStorage.gplus==undefined||$window.localStorage.gplus==""){var gplus=[];gplus.push({user_id:"GPlus"+keyword,screen_name:keyword,channel_type:"Hashtag"})}else{var gplus=JSON.parse($window.localStorage.gplus);if(gplus.map(function(el){return el["user_id"]}).indexOf("GPlus"+keyword)!=-1){return}else{gplus.push({user_id:"GPlus"+keyword,screen_name:keyword,channel_type:"Hashtag"})}}$rootScope.gplus=gplus;$window.localStorage.gplus=JSON.stringify(gplus);var arr=[];if(res.data.data&&res.data.data.length>0){res.data.data.forEach(function(item){item=item.replace(/^(\/\/)/,"http://");if(supertemp.length<50){arr.push({type:"gplus",media_type:"photo",media_url:item,id:"GPlus"+keyword})}})}$window.localStorage.temp=JSON.stringify(arr);$window.location.reload()})}else if(social_type=="Instagram"){var newkeyword=keyword.replace("#","");InstaService.searchHashtag({keyword:newkeyword,type:"Hashtag"}).then(function(res){console.log(res);if($window.localStorage.instagram==undefined||$window.localStorage.instagram==""){var instagram=[];instagram.push({user_id:"instagram"+keyword,screen_name:keyword,channel_type:"Hashtag"})}else{var instagram=JSON.parse($window.localStorage.instagram);if(instagram.map(function(el){return el["user_id"]}).indexOf("instagram"+keyword)!=-1){return}else{instagram.push({user_id:"instagram"+keyword,screen_name:keyword,channel_type:"Hashtag"})}}$rootScope.instagram=instagram;$window.localStorage.instagram=JSON.stringify(instagram);var arr=[];if(res.data&&res.data.length>0){res.data.forEach(function(item){console.log(item);if(arr.length<170){if(item.type=="image"){arr.push({type:"instagram",media_type:"photo",media_url:item.images.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,location:item.location?item.location.name:item.location})}else if(item.type=="video"){arr.push({type:"instagram",media_type:"video",media_url:item.videos.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,thumb_url:item.images.low_resolution.url,location:item.location?item.location.name:item.location})}else if(item.type=="carousel"){if(item.images){arr.push({type:"instagram",media_type:"photo",media_url:item.images.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,location:item.location?item.location.name:item.location})}else if(item.videos){arr.push({type:"instagram",media_type:"video",media_url:item.videos.standard_resolution.url,id:"instagram"+keyword,created_at:item.created_time,location:item.location?item.location.name:item.location})}}}})}$window.localStorage.temp=JSON.stringify(arr);$window.location.reload()})}else if(social_type=="Facebook"){var newkeyword=keyword.replace("#","");fbService.searchHashtag({keyword:newkeyword,type:"Hashtag"}).then(function(res){if($window.localStorage.facebook==undefined||$window.localStorage.facebook==""){var facebook=[];facebook.push({user_id:"facebook"+keyword,screen_name:keyword,channel_type:"Hashtag"})}else{var facebook=JSON.parse($window.localStorage.facebook);if(facebook.map(function(el){return el["user_id"]}).indexOf("facebook"+keyword)!=-1){return}else{facebook.push({user_id:"facebook"+keyword,screen_name:keyword,channel_type:"Hashtag"})}}$rootScope.facebook=facebook;$window.localStorage.facebook=JSON.stringify(facebook);var arr=[];if(res.data.data&&res.data.data.length>0){res.data.data.forEach(function(item){item=item.replace(/^(\/\/)/,"http://");if(supertemp.length<50){arr.push({type:"facebook",media_type:"photo",media_url:item,id:"facebook"+keyword})}})}$window.localStorage.temp=JSON.stringify(arr);$window.location.reload()})}$scope.loader=false}};$scope.select_media=function(filter,media,local_media_type){$scope.data=[];var filter=filter;var social_media=media.media;var local_media=media.local;angular.forEach(filter,function(value,key){angular.forEach(social_media,function(value1,key1){if(value==value1.id){$scope.data.push(value1)}})});angular.forEach(local_media,function(value1,key1){if(local_media_type.image&&value1.media_type=="image"){$scope.data.push({media_type:"photo",media_url:"/story_media/story_"+value1.story_id+"/"+value1.media_url,type:value1.media_source,id:value1.id})}else if(local_media_type.video&&value1.media_type=="video"){$scope.data.push({media_type:value1.media_type,media_url:"/story_media/story_"+value1.story_id+"/"+value1.media_url,type:value1.media_source,id:value1.id})}});$rootScope.newStory.select_media=$scope.data;$window.localStorage.select_media=JSON.stringify($scope.data);$state.go("master.selectMedia")};$scope.continue_story=function(){$scope.continue_story_status=$(".localmedia").length==0&&$(".newStory").length==0?true:false}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=EventCtrl;EventCtrl.$inject=["$rootScope","$scope","$state","EventService","Notification","jwtHelper","$window","$http","$uibModal"];function EventCtrl($rootScope,$scope,$state,eventService,notification,jwtHelper,$window,$http,$uibModal){$("#dropImg").hover(function(){$(this).css("font-size","25px");$("#dropImg").html($(this).attr("data-hover-title"))},function(){$(this).css("font-size","14px");$("#dropImg").text($(this).attr("data-title"))});$scope.eventForm={event_title:"",event_details:"",event_picture:undefined,status:0,id:undefined};var nextPageLoad;var lastPage;if($state.current.name=="master.event"){$(window).scroll(function(){if($(window).scrollTop()>=$(document).height()-$(window).height()-10){if(nextPageLoad==false&&lastPage!=false){$scope.nextPage()}}})}var eventOptions={limit:7,offset:0};$scope.tab={thumbnail:true,list:false};var getAllEvent=function getAllEvent(options){nextPageLoad=true;eventService.getAllEvent(options).then(function(res){if(res.data.data){$rootScope.events=res.data.data.events}nextPageLoad=false})};var ctrl=this;ctrl.search={name:"",id:""};eventService.getserachEvent().then(function(res){if(res.data.data){$rootScope.event_dataSource=res.data.data.events;$scope.dataSource=$rootScope.event_dataSource}});$scope.setClientData=function(item){lastPage=false;$rootScope.events=[];$rootScope.events.push(item);if(item){ctrl.search=item}else{item.name="No result found";item.id=0;ctrl.search=item}};$scope.searchEvent=function(value){if(value==""){$rootScope.events=$rootScope.event_dataSource}};$scope.nextPage=function(){nextPageLoad=true;$scope.nextPageloader=true;eventOptions.offset+=eventOptions.limit;eventOptions.limit=8;if($state.current.name=="master.event"){eventService.getAllEvent(eventOptions).then(function(res){$scope.nextPageloader=false;nextPageLoad=false;if(res.data.data.events.length==0){lastPage=false}res.data.data.events.forEach(function(item){$rootScope.events.push(item)})})}};if($state.current.name=="master.event"){getAllEvent(eventOptions)}$scope.back=function(){$state.go("master.event")};$scope.createEvent=function(){$scope.requiredEmail=false;$scope.errors=undefined;$scope.err=undefined;$scope.loader=true;$scope.eventForm.user_id=$rootScope.user.id;eventService.createEvent($scope.files,$scope.eventForm).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$scope.eventForm={event_title:"",event_details:"",event_picture:""};$rootScope.events.push(res.data.event);$state.go("master.stories",{id:res.data.data.event.id})}else if(res.status==400){if(res.data.data){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data}var msg=res.data.message?res.data.message:"Error";notification.error({message:msg,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})};$scope.editEvent=function(){$scope.requiredEmail=false;$scope.errors=undefined;$scope.err=undefined;$scope.loader=true;$scope.eventForm.user_id=$rootScope.user.id;$scope.eventForm.id=$state.params.id;$scope.eventForm._method="PUT";if($scope.eventForm.event_picture==""){eventService.remove_image($scope.eventForm.id).then(function(res){})}if(typeof $scope.eventForm.event_picture=="string"){$scope.eventForm.event_picture=undefined}if($scope.eventForm.event_details==""){$scope.eventForm.event_details=undefined}eventService.updateEvent($scope.files,$scope.eventForm).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$scope.eventForm={event_title:"",event_details:"",event_picture:""};$state.go("master.event")}else if(res.status==400){if(res.data.data){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data}var msg=res.data.message?res.data.message:"Error";notification.error({message:msg,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}},function(err){})};$scope.remove_image=function(id){$scope.eventForm.event_picture=""};$scope.deleteEvent=function(id){$rootScope.delect_id=id;var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",templateUrl:"deleteEvent.html",controller:["$rootScope","$scope","$state","$uibModalInstance","$window","EventService",function($rootScope,$scope,$state,$uibModalInstance,$window,eventService){eventService.getDeleteMsg().then(function(res){if(res.status==200){$scope.deleteMsg=res.data.message}else{$scope.deleteMsg="This Action Cannot Be Undo"}});$scope.close=function(){$uibModalInstance.dismiss("cancel")};$scope.ok=function(){$scope.loader=true;var id=$rootScope.delect_id;eventService.deleteEvent(id).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.reload();$uibModalInstance.dismiss("cancel")}})}}]})};var getEvent=function getEvent(id){eventService.getEvent(id).then(function(res){$scope.eventForm=res.data.data;if($scope.eventForm.event_picture!=(null||undefined||"")){$scope.eventForm.event_picture="/event_pictures/"+$scope.eventForm.event_picture}})};if($state.current.name=="master.edit-event"){getEvent($state.params.id)}$scope.switchTab=function(slug){if(slug=="thumbnail"){$scope.tab.thumbnail=true;$scope.tab.list=false}else if(slug=="list"){$scope.tab.thumbnail=false;$scope.tab.list=true}}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=MasterCtrl;MasterCtrl.$inject=["$rootScope","$scope","$state","AuthService","Notification","jwtHelper","$window","$http"];function MasterCtrl($rootScope,$scope,$state,authService,notification,jwtHelper,$window,$http){if($rootScope.user==undefined){authService.getUserDetails().then(function(res){if(res.status==200){$rootScope.user=res.data.data;var decodeToken=jwtHelper.decodeToken($window.localStorage.ud);$rootScope.user.id=decodeToken.sub;if($rootScope.user.profile_picture!=null&&$rootScope.user.profile_picture!=undefined&&$rootScope.user.profile_picture!=""){$rootScope.user.profile_picture="/profile_pictures/"+$rootScope.user.profile_picture}if($rootScope.user.profile_picture==""){$rootScope.user.profile_picture=undefined}}else if(res.status==400||res.status==401){$scope.logout()}})}$scope.logout=function(){$window.localStorage.clear();$rootScope.user=null;$rootScope=undefined;$http.defaults.headers.common.Authorization=undefined;$state.go("public.login")}}},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=ProfileCtrl;ProfileCtrl.$inject=["$rootScope","$scope","$state","AuthService","Notification","jwtHelper","$window","$http"];function ProfileCtrl($rootScope,$scope,$state,authService,notification,jwtHelper,$window,$http){authService.getUserDetails().then(function(res){$scope.editForm=res.data.data;if($scope.editForm.profile_picture!=null&&$scope.editForm.profile_picture!=undefined&&$scope.editForm.profile_picture!=""){$scope.editForm.profile_picture="/profile_pictures/"+$scope.editForm.profile_picture}if($scope.editForm.profile_picture==""||$scope.editForm.profile_picture==null){$scope.editForm.profile_picture=undefined}});$scope.editProfile=function(){$scope.loader=true;$scope.country_id=0;var data=Object.assign({},$scope.editForm);var image=$scope.editForm.profile_picture;if(typeof data.profile_picture==="string"){data.profile_picture=undefined}authService.editProfile(data).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});authService.getUserDetails().then(function(res){$scope.err=[];$scope.editForm=res.data.data;$rootScope.user=res.data.data;if($scope.editForm.profile_picture!=(null&&undefined&&"")){$scope.editForm.profile_picture="/profile_pictures/"+$scope.editForm.profile_picture;$rootScope.user.profile_picture=$scope.editForm.profile_picture}$state.reload()})}else if(res.status==400){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data;notification.error({message:res.data.message,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})};$scope.select_image=function(image,data){if(data==null){$scope.editForm.profile_picture=$rootScope.user.profile_picture}else if(data.size>1048576){$scope.editForm.profile_picture=$rootScope.user.profile_picture;notification.error({message:"Its size should not exceed 1MB!",positionY:"bottom",positionX:"right",delay:3e3})}};$("#changePass").click(function(){$(".popupBigPublish").toggleClass("popPubl")});$scope.clospublish=function(){$scope.changePwdForm={old_password:null,password:null,password_confirmation:null};$(".popupBigPublish").toggleClass("popPubl")};$scope.changePassword=function(){$scope.loader1=true;authService.changePassword($scope.changePwdForm).then(function(res){$scope.loader1=false;if(res.status==200){$scope.changePwdForm.old_password="";$scope.changePwdForm.password="";$scope.changePwdForm.password_confirmation="";$(".popupBigPublish").toggleClass("popPubl");notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3})}else if(res.status==400){if(res.data.data==null){notification.error({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3})}else{var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data;notification.error({message:res.data.message,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PunditActivationCtrl;PunditActivationCtrl.$inject=["$rootScope","$scope","$state","$window","$timeout","$uibModal","PunditService","AuthService","jwtHelper","$http","Notification"];function PunditActivationCtrl($rootScope,$scope,$state,$window,$timeout,$uibModal,punditService,authService,jwtHelper,$http,notification){var data={user_id:parseInt(atob($state.params.userId)),pundit_id:parseInt(atob($state.params.punditId))};var host;if(window.location.port==80||window.location.port==""){host=window.location.protocol+"//"+window.location.hostname}else{host=window.location.protocol+"//"+window.location.hostname+":"+window.location.port}punditService.punditActivation(data).then(function(res){if(res.status==200){var story_id=res.data.data.story_id;notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.go("public.login",{return_url:encodeURI(host+"/share-video/"+story_id+"/"+data.pundit_id)})}else{notification.error({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.go("public.login")}})}},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=PunditCtrl;PunditCtrl.$inject=["$rootScope","$scope","$state","$window","$timeout","$uibModal","PunditService","AuthService","jwtHelper","$http","Notification","FbService","GoogleApiService","OAuthService"];function PunditCtrl($rootScope,$scope,$state,$window,$timeout,$uibModal,punditService,authService,jwtHelper,$http,notification,fbService,googleApiService,oAuthService){$scope.is_recording_done=false;$scope.shareVideoStatus=false;$scope.audioPlayStatus=false;var video=document.getElementById("video");var audio=document.getElementById("audio");punditService.formdata.story_id=$state.params.storyId;$scope.storyId=$state.params.storyId;var Init=function Init(){$timeout(function(){},500)};$scope.storyOptions={limit:2,offset:0};$scope.storySuggestedOptions={limit:2,offset:0};var nextPageLoad;var lastPage;var nextSuggestedPageLoad;var lastSuggestedPage;$(window).scroll(function(){var top_of_element=$("#pundit_loading").offset().top;var bottom_of_element=$("#pundit_loading").offset().top+$("#pundit_loading").outerHeight();var bottom_of_screen=$(window).scrollTop()+window.innerHeight;var top_of_screen=$(window).scrollTop();if(bottom_of_screen>top_of_element&&top_of_screen<bottom_of_element){if(nextPageLoad==false&&lastPage!=false){console.log("pundit");console.log(nextPageLoad);console.log(lastPage);$scope.nextPage()}}var top_of_element1=$("#suggested_loading").offset().top;var bottom_of_element1=$("#suggested_loading").offset().top+$("#suggested_loading").outerHeight();var bottom_of_screen1=$(window).scrollTop()+window.innerHeight;var top_of_screen1=$(window).scrollTop();if(bottom_of_screen1>top_of_element1&&top_of_screen1<bottom_of_element1){if(nextSuggestedPageLoad==false&&lastSuggestedPage!=false){console.log("suggested");$scope.nextSuggestedPage()}}});$scope.nextPage=function(){nextPageLoad=true;$scope.nextPageloader=true;$scope.storyOptions.offset+=$scope.storyOptions.limit;$scope.storyOptions.limit=2;punditService.getPopularVideo($scope.storyOptions).then(function(res){$scope.nextPageloader=false;if(res.status==200){nextPageLoad=false;if(res.data.data.pundit_published_videos.length==0){lastPage=false}res.data.data.pundit_published_videos.forEach(function(item){$scope.video.popularVideos.pundit_published_videos.push(item)})}})};$scope.nextSuggestedPage=function(){nextSuggestedPageLoad=true;$scope.nextSuggestedPageloader=true;$scope.storySuggestedOptions.offset+=$scope.storySuggestedOptions.limit;$scope.storySuggestedOptions.limit=2;punditService.getSuggestedVideo($state.params.storyId,$scope.storySuggestedOptions).then(function(res){nextSuggestedPageLoad=false;$scope.nextSuggestedPageloader=false;if(res.data.data.length==0){lastSuggestedPage=false}res.data.data.forEach(function(item){$scope.video.suggestedVideos.push(item)});console.log($scope.video.suggestedVideos)})};var host;if(window.location.port==80||window.location.port==""){host=window.location.protocol+"//"+window.location.hostname}else{host=window.location.protocol+"//"+window.location.hostname+":"+window.location.port}$scope.video={suggestedVideos:[],popularVideos:[],getOriginalVideo:function getOriginalVideo(storyId){punditService.getOriginalVideo(storyId).then(function(res){$scope.video.originalVideo=res.data.data;if(!$state.params.punditId){$scope.videoUrl=host+"/story_videos/story_"+$scope.video.originalVideo.id+"/"+$scope.video.originalVideo.story_published_video_url}$scope.videoDownloadURL=host+"/story_videos/story_"+$scope.video.originalVideo.id+"/"+$scope.video.originalVideo.story_published_video_url;$scope.pageurl=host+"/pundit-story/"+$scope.video.originalVideo.id},function(err){})},getPunditVideo:function getPunditVideo(storyId,videoId){punditService.getPunditVideo(storyId,videoId).then(function(res){$scope.video.originalVideo={id:storyId,story_published_video_url:res.data.data.new_video_url,story_title:res.data.data.video_name};if($state.params.punditId){$scope.videoUrl=host+"/story_videos/story_"+$scope.video.originalVideo.id+"/"+$scope.video.originalVideo.story_published_video_url}$scope.pageurl=host+"/pundit-story/"+storyId+"/"+videoId},function(err){})},getSuggestedVideo:function getSuggestedVideo(storyId){punditService.getSuggestedVideo(storyId,$scope.storySuggestedOptions).then(function(res){nextSuggestedPageLoad=false;$scope.video.suggestedVideos=res.data.data})},getPopularVideo:function getPopularVideo(storyId){nextPageLoad=true;punditService.getPopularVideo($scope.storyOptions).then(function(res){$scope.video.popularVideos=res.data.data;nextPageLoad=false})},videoPreview:function videoPreview(){var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"md",templateUrl:"videoPreview.html",controller:["$rootScope","$scope","$uibModalInstance","$window","PunditService",function($rootScope,$scope,$uibModalInstance,$window,punditService){$scope.formdata={};$scope.loading=true;punditService.createPreview(punditService.formdata).then(function(res){$scope.loading=false;$scope.pudnitVideo=res.data.data;$scope.story_id=punditService.formdata.story_id},function(err){$scope.loading=false});$scope.close=function(){$uibModalInstance.dismiss("cancel")};$scope.publishVideo=function(){$uibModalInstance.dismiss("cancel");$rootScope.punditRegistrationForm()}}]})}};$scope.recording={show_panel:false,is_pause:false,startPre:function startPre(){$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"md",templateUrl:"CountDown.html",controller:["$rootScope","$scope","$uibModalInstance","$window",function($rootScope,$scope,$uibModalInstance,$window){$scope.countDown=3;var myVar=setInterval(myTimer,1e3);function myTimer(){$scope.countDown-=1;document.getElementById("countD").innerHTML=$scope.countDown}setTimeout(function(){window.clearInterval(myVar);$uibModalInstance.dismiss("cancel")},3e3)}]});setTimeout(function(){$scope.recording.start()},3e3)},start:function start(){Fr.voice.record(false,function(){if(Fr.voice.stream){video.play();video.muted=true;$scope.recording.show_panel=true;$scope.recording.is_pause=false;$scope.audioPlayStatus=true}})},play:function play(){Fr.voice.resume();video.play();$scope.recording.is_pause=false},reset:function reset(){video.pause();video.currentTime=0;video.play();Fr.voice.record(false,function(){});$scope.audioPlayStatus=true;$scope.recording.show_panel=true},pause:function pause(){Fr.voice.pause();video.pause();$scope.recording.is_pause=true;$scope.recording.show_panel=true},stop:function stop(){Fr.voice.pause();video.pause();video.currentTime=0;$scope.recording.show_panel=false;$scope.confirmationBox()},export:function _export(){$scope.loading=true;Fr.voice.export(function(blob){$scope.loading=false;$scope.is_recording_done=true;$scope.$digest();Fr.voice.stop();punditService.formdata.audio=blob;console.log(blob)},"blob")},exportMP3:function exportMP3(){$scope.loading=true;Fr.voice.exportMP3(function(blob){Fr.voice.stop();$scope.loading=false;$scope.is_recording_done=true;$scope.$digest();punditService.formdata.audio=blob},"blob")},audio_pause:function audio_pause(){Fr.voice.muted();$scope.audioPlayStatus=false},audio_resume:function audio_resume(){$scope.audioPlayStatus=true;Fr.voice.unmuted()}};$rootScope.punditRegistrationForm=function(){var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",templateUrl:"punditRegistrationForm.html",controller:["$rootScope","$scope","$uibModalInstance","$window",function($rootScope,$scope,$uibModalInstance,$window){$scope.pundit={video_title:"",first_name:"",last_name:"",email:"",story_id:punditService.formdata.story_id,audio:punditService.formdata.audio};var publishPunditVideo=function publishPunditVideo(){punditService.publishPunditVideo($scope.pundit).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$scope.close()}else{if(res.data.data){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data}var msg=res.data.message?res.data.message:"Error";notification.error({message:msg,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}})};var publishPunditVideoLoggedUser=function publishPunditVideoLoggedUser(){punditService.publishPunditVideoLoggedUser($scope.pundit).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$scope.close();$state.go("SharePunditVideo",{storyId:$scope.pundit.story_id,punditId:res.data.data.id})}else{if(res.data.data){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data}var msg=res.data.message?res.data.message:"Error";notification.error({message:msg,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}})};$scope.punditRegister=function(){$scope.loader=true;punditService.createPreview($scope.pundit).then(function(res){$scope.pundit.video_url=res.data.data.video_url;$scope.pundit.background_sound_file_url=res.data.data.background_sound_file_url;if($rootScope.user){publishPunditVideoLoggedUser()}else{publishPunditVideo()}},function(err){$scope.loader=false;notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})})};$scope.close=function(){$uibModalInstance.dismiss("cancel")}}]})};$scope.publishVideo=function(){punditService.formdata.story_id=$state.params.storyId;$rootScope.punditRegistrationForm()};$scope.confirmationBox=function(){console.log("I am calling confrimation box");var scope=$scope;$scope.modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"sm",templateUrl:"confirmBox.html",controller:["$rootScope","$scope","$uibModalInstance","$window",function($rootScope,$scope,$uibModalInstance,$window){$scope.confirm=function(value){if(value==true){$scope.status=true;$uibModalInstance.close($scope.status)}else{$scope.status=false;$uibModalInstance.close($scope.status)}}}],resolve:{status:function status(){return $scope.status}}}).result.then(function(result){if(result==true){$scope.recording.export()}else{Fr.voice.stop()}})};Init();if($rootScope.user==undefined){authService.getUserDetails().then(function(res){if(res.status==200){$rootScope.user=res.data.data;var decodeToken=jwtHelper.decodeToken($window.localStorage.ud);$rootScope.user.id=decodeToken.sub;if($rootScope.user.profile_picture!=null&&$rootScope.user.profile_picture!=undefined&&$rootScope.user.profile_picture!=""){$rootScope.user.profile_picture="/profile_pictures/"+$rootScope.user.profile_picture}}else{$window.localStorage.clear();$http.defaults.headers.common.Authorization=undefined}})}$scope.logout=function(){$window.localStorage.clear();$rootScope.user=null;$rootScope=null;$http.defaults.headers.common.Authorization=undefined;$state.go("public.login")};if($state.params.punditId){$scope.isOriginalVideo=false;$scope.video.getPunditVideo($state.params.storyId,$state.params.punditId)}else{$scope.isOriginalVideo=true;$scope.video.getOriginalVideo($state.params.storyId)}$scope.video.getSuggestedVideo($state.params.storyId);$scope.video.getPopularVideo($state.params.storyId);video.addEventListener("timeupdate",function(){$scope.videoTime=this.currentTime;if(this.currentTime>=this.duration){$scope.recording.stop();$scope.$digest()}});video.addEventListener("play",function(){if($state.params.punditId){punditService.addView($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addView($scope.storyId).then(function(res){})}});$scope.sharefb=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var data={};data.video_url=$scope.videoUrl;data.pageurl=$scope.pageurl;data.story_des=$scope.video.originalVideo.story_details;data.story_id=$scope.video.originalVideo.id;data.title=$scope.video.originalVideo.story_title;fbService.uploadVideo(data)};$scope.sharegplus=function(){var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");var reader=new FileReader;reader.onload=function(){var f=new Uint8Array(reader.result);googleApiService.gpluspostmedia({size:myFile.size,media:f,media_type:"video/mp4"}).then(function(res){var response=JSON.parse(res.data[0]);$scope.media_id=response.media_id_string;var countIterations=0})};reader.readAsArrayBuffer(myFile)};oReq.send(null)};$scope.shareYouTube=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");var reader=new FileReader;reader.onload=function(){var data={};data.pageurl=$scope.pageurl;data.story_des=$scope.video.originalVideo.story_details;data.title=$scope.video.originalVideo.story_title;data.id=$scope.video.originalVideo.id;var f=new Uint8Array(reader.result);googleApiService.youtubepostmedia({size:myFile.size,id:$scope.video.originalVideo.id,media:myFile,media_type:"video/mp4",data:data})};reader.readAsArrayBuffer(myFile)};oReq.send(null)};$scope.checkTwitterAuth=function(){if($window.localStorage.twit_token&&$window.localStorage.twit_token_s){$scope.sharetwitter()}else{oAuthService.tw_access_token("POST","https://api.twitter.com/oauth/request_token","").then(function(res){var token=res.data.split("&");window.open("https://api.twitter.com/oauth/authenticate?"+token[0]+"&oauth_callback="+host+"/twitter-callback?upload=video&screen_name=&force_login=true","","width=600,height=500")})}};$scope.sharetwitter=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var oauth_token=$window.localStorage.twit_token;var oauth_secret=$window.localStorage.twit_token_s;var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");oAuthService.postVideoInit({data:$scope.video.originalVideo,size:myFile.size,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){var response=JSON.parse(res.data[0]);$scope.media_id=response.media_id_string;var countIterations=0;var cntIte=0;parseFile(myFile,function(data){oAuthService.postVideoAppend({media_id:$scope.media_id,media:data,segment:countIterations,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){cntIte+=1;if(cntIte==$scope.iterations){oAuthService.postVideoFinalize({media_id:$scope.media_id,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){oAuthService.postVideoStatus({media_id:$scope.media_id,title:$scope.video.originalVideo.video_name,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){var data={};if($scope.isOriginalVideo==true){data.pageurl=$scope.pageurl;data.story_des=$scope.video.originalVideo.story_details;data.title=$scope.video.originalVideo.story_title}else{data.title=$scope.video.originalVideo.video_name}oAuthService.createVideoPost({media_id:$scope.media_id,oauth_token:oauth_token,oauth_secret:oauth_secret,pageurl:data.pageurl,title:data.story_title}).then(function(res){if(res.data[1]==400){var error=JSON.parse(res.data[0]);console.log(error);notification.success({message:error.errors[0].message,positionY:"bottom",positionX:"right",delay:3e3})}else{if($scope.isOriginalVideo==true){var data=JSON.parse(res.data[0]);storyService.updateStroy2({id:$scope.video.originalVideo.id,twitter:data.id}).then(function(resss){})}notification.success({message:"Video posted successfully",positionY:"bottom",positionX:"right",delay:3e3})}})})})}});countIterations+=1})})};oReq.send(null)};function parseFile(file,callback){var fileSize=file.size;var chunkSize=Math.ceil(file.size/3);var offset=0;var self=this;var chunkReaderBlock=null;$scope.iterations=3;var readEventHandler=function readEventHandler(evt){if(evt.target.error==null){offset+=evt.target.result.length;callback(evt.target.result)}else{console.log("Read error: "+evt.target.error);return}if(offset>=fileSize){return}chunkReaderBlock(offset,chunkSize,file)};chunkReaderBlock=function chunkReaderBlock(_offset,length,_file){var r=new FileReader;var blob=_file.slice(_offset,length+_offset);r.onload=readEventHandler;r.readAsBinaryString(blob)};chunkReaderBlock(offset,chunkSize,file)}$scope.inc_share=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=SelectMediaCtrl;SelectMediaCtrl.$inject=["$rootScope","$scope","$state","Notification","$window","$uibModal","$timeout"];function SelectMediaCtrl($rootScope,$scope,$state,notification,$window,$uibModal,$timeout){$timeout(function(){$(".test").mCustomScrollbar({axis:"x",theme:"dark",advanced:{autoExpandHorizontalScroll:true}});$(".test1").mCustomScrollbar({theme:"minimal"})},500);$scope.active={sources:true,location:false,publish:false};$scope.open=function(size,item,$event){if(item.media_type=="video"){$scope.dimension={newWidth:600,newHeight:400}}else{var newImg=new Image;newImg.src=$event.target.getAttribute("src");newImg.onload=function(){};$scope.dimension={newWidth:newImg.width+30,newHeight:newImg.height+50}}var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"md",templateUrl:"myModalContent.html",controller:["$rootScope","$scope","$uibModalInstance","$window",function($rootScope,$scope,$uibModalInstance,$window){$scope.item=item;$scope.formdata={};$scope.close=function(){$uibModalInstance.dismiss("cancel")}}]})};$scope.filter={checkbox:{Facebook:false,Instagram:false,"Google+":false,Twitter:false,"Cloud Storage":false,"Uploaded Image":false,"Uploaded Video":false},value:[],time_publish:"",location:"",upload_type:"",type:""};var init=function init(){$rootScope.newStory=JSON.parse($window.localStorage.newStory);$rootScope.newStory.select_media=JSON.parse($window.localStorage.select_media);$scope.story_id=$rootScope.newStory.id;$scope.location_listing=[];$rootScope.newStory.select_media.map(function(el){if(el.type=="facebook")$scope.filter.checkbox["Facebook"]=true;else if(el.type=="uploaded"&&el.media_type=="photo")$scope.filter.checkbox["Uploaded Image"]=true;else if(el.type=="uploaded"&&el.media_type=="video")$scope.filter.checkbox["Uploaded Video"]=true;else if(el.type=="instagram")$scope.filter.checkbox["Instagram"]=true;else if(el.type=="gplus")$scope.filter.checkbox["Google+"]=true;else if(el.type=="gdrive")$scope.filter.checkbox["Cloud Storage"]=true;else if(el.type=="dropbox")$scope.filter.checkbox["Cloud Storage"]=true;else if(el.type=="twitter")$scope.filter.checkbox["Twitter"]=true;if(el.location){if(!$scope.location_listing.includes(el.location))$scope.location_listing.push(el.location)}})};init();$scope.clear=function(){$scope.filter.dt=null};$scope.inlineOptions={showWeeks:true};$scope.dateOptions={formatYear:"yy",maxDate:new Date,startingDay:1};$scope.open1=function(){$scope.popup1.opened=true};$scope.popup1={opened:false};$scope.format="dd-MM-yyyy";$scope.items1=$rootScope.newStory.media;$scope.items2=[];$scope.dropSuccessHandler=function($event,index,array){array.splice(index,1)};$scope.onDrop=function($event,$data,array){array.push($data)};$scope.removeDragValue=function(item){$rootScope.newStory.select_media.push(item);var index=$scope.items2.map(function(el){return el.media_url}).indexOf(item.media_url);$scope.items2.splice(index,1)};$scope.toggleNav=function(value){if(value=="SOURCES"){$scope.active.sources=!$scope.active.sources}else if(value=="PUBLISHED"){$scope.active.publish=!$scope.active.publish}else if(value=="LOCATION"){$scope.active.location=!$scope.active.location}};$scope.continue=function(){if($scope.items2.length!=0){$window.localStorage.media=JSON.stringify($scope.items2);$rootScope.media=$scope.items2;$state.go("master.storyEdit")}}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=SharingCtrl;SharingCtrl.$inject=["$rootScope","$scope","$state","$window","$timeout","FbService","GoogleApiService","ShareService","AuthService","jwtHelper","PunditService","StoryService","$http","OAuthService","Notification","AppService"];function SharingCtrl($rootScope,$scope,$state,$window,$timeout,fbService,googleApiService,shareService,authService,jwtHelper,punditService,storyService,$http,oAuthService,notification,appService){$scope.storyId=$state.params.storyId;$timeout(function(){},500);$scope.storyOptions={limit:2,offset:0};$scope.storySuggestedOptions={limit:2,offset:0};var nextPageLoad;var lastPage;var nextSuggestedPageLoad;var lastSuggestedPage;$(window).scroll(function(){var top_of_element=$("#pundit_loading").offset().top;var bottom_of_element=$("#pundit_loading").offset().top+$("#pundit_loading").outerHeight();var bottom_of_screen=$(window).scrollTop()+window.innerHeight;var top_of_screen=$(window).scrollTop();if(bottom_of_screen>top_of_element&&top_of_screen<bottom_of_element){if(nextPageLoad==false&&lastPage!=false){console.log("pundit");console.log(nextPageLoad);console.log(lastPage);$scope.nextPage()}}var top_of_element1=$("#suggested_loading").offset().top;var bottom_of_element1=$("#suggested_loading").offset().top+$("#suggested_loading").outerHeight();var bottom_of_screen1=$(window).scrollTop()+window.innerHeight;var top_of_screen1=$(window).scrollTop();if(bottom_of_screen1>top_of_element1&&top_of_screen1<bottom_of_element1){if(nextSuggestedPageLoad==false&&lastSuggestedPage!=false){console.log("suggested");$scope.nextSuggestedPage()}}});$scope.nextPage=function(){nextPageLoad=true;$scope.nextPageloader=true;$scope.storyOptions.offset+=$scope.storyOptions.limit;$scope.storyOptions.limit=2;punditService.getPopularVideo($scope.storyOptions).then(function(res){$scope.nextPageloader=false;if(res.status==200){nextPageLoad=false;if(res.data.data.pundit_published_videos.length==0){lastPage=false}res.data.data.pundit_published_videos.forEach(function(item){$scope.popularVideos.push(item)})}})};$scope.nextSuggestedPage=function(){nextSuggestedPageLoad=true;$scope.nextSuggestedPageloader=true;$scope.storySuggestedOptions.offset+=$scope.storySuggestedOptions.limit;$scope.storySuggestedOptions.limit=2;punditService.getSuggestedVideo($state.params.storyId,$scope.storySuggestedOptions).then(function(res){console.log(res.data.data);nextSuggestedPageLoad=false;$scope.nextSuggestedPageloader=false;if(res.data.data.length==0){lastSuggestedPage=false}res.data.data.forEach(function(item){$scope.suggestedVideos.push(item)});console.log($scope.suggestedVideos)})};var host;if(window.location.port==80||window.location.port==""){host=window.location.protocol+"//"+window.location.hostname}else{host=window.location.protocol+"//"+window.location.hostname+":"+window.location.port}if($rootScope.user==undefined){authService.getUserDetails().then(function(res){if(res.status==200){$rootScope.user=res.data.data;var decodeToken=jwtHelper.decodeToken($window.localStorage.ud);$rootScope.user.id=decodeToken.sub;if($rootScope.user.profile_picture!=null&&$rootScope.user.profile_picture!=undefined&&$rootScope.user.profile_picture!=""){$rootScope.user.profile_picture="/profile_pictures/"+$rootScope.user.profile_picture}}else{$window.localStorage.clear();$http.defaults.headers.common.Authorization=undefined}})}if($state.current.name=="SharePunditVideo"){$scope.isOriginalVideo=false;$scope.pageurl=host+"/pundit-story/"+$state.params.storyId+"/"+$state.params.punditId;punditService.getPunditVideo($state.params.storyId,$state.params.punditId).then(function(res){console.log(res);$scope.storyDetails=res.data.data;$scope.videoUrl="/story_videos/story_"+$state.params.storyId+"/"+res.data.data.new_video_url})}else if($state.current.name=="ShareVideo"){$scope.isOriginalVideo=true;$scope.pageurl=host+"/pundit-story/"+$state.params.storyId;storyService.getStroy($state.params.storyId).then(function(res){$scope.storyDetails=res.data.data;$scope.videoUrl="/story_videos/story_"+$state.params.storyId+"/"+res.data.data.story_published_video_url})}$scope.fb_share=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}fbService.fb_share($scope.pageurl).then(function(res){})};punditService.getSuggestedVideo($state.params.storyId,$scope.storySuggestedOptions).then(function(res){nextSuggestedPageLoad=false;$scope.suggestedVideos=res.data.data});punditService.getPopularVideo($scope.storyOptions).then(function(res){nextPageLoad=false;$scope.popularVideos=res.data.data.pundit_published_videos;console.log($scope.popularVideos)});appService.getAdminSettings().then(function(res){$scope.pundit_title_text=res.data.data.pundit_title_text});$scope.logout=function(){$window.localStorage.clear();$rootScope.user=null;$rootScope=undefined;$http.defaults.headers.common.Authorization=undefined;$state.go("public.login")};$scope.sharefb=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var data={};data.video_url=$scope.videoUrl;if($scope.isOriginalVideo==true){data.pageurl=$scope.pageurl;data.story_des=$scope.storyDetails.story_details;data.story_id=$scope.storyDetails.id;data.title=$scope.storyDetails.story_title}else{data.title=$scope.storyDetails.video_name}fbService.uploadVideo(data)};$scope.sharegplus=function(){var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");var reader=new FileReader;reader.onload=function(){var f=new Uint8Array(reader.result);googleApiService.gpluspostmedia({size:myFile.size,media:f,media_type:"video/mp4"}).then(function(res){var response=JSON.parse(res.data[0]);$scope.media_id=response.media_id_string;var countIterations=0})};reader.readAsArrayBuffer(myFile)};oReq.send(null)};$scope.inc_share=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}};$scope.shareYouTube=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");var reader=new FileReader;reader.onload=function(){var data={};if($scope.isOriginalVideo==true){data.pageurl=$scope.pageurl;data.story_des=$scope.storyDetails.story_details;data.title=$scope.storyDetails.story_title;data.id=$scope.storyDetails.id}else{data.title=$scope.storyDetails.video_name}var f=new Uint8Array(reader.result);googleApiService.youtubepostmedia({size:myFile.size,id:$scope.storyDetails.id,media:myFile,media_type:"video/mp4",data:data})};reader.readAsArrayBuffer(myFile)};oReq.send(null)};$scope.checkTwitterAuth=function(){if($window.localStorage.twit_token&&$window.localStorage.twit_token_s){$scope.sharetwitter()}else{oAuthService.tw_access_token("POST","https://api.twitter.com/oauth/request_token","").then(function(res){var token=res.data.split("&");window.open("https://api.twitter.com/oauth/authenticate?"+token[0]+"&oauth_callback="+host+"/twitter-callback?upload=video&screen_name=&force_login=true","","width=600,height=500")})}};$scope.sharetwitter=function(){if($state.params.punditId){punditService.addShare($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addShare($scope.storyId).then(function(res){})}var oauth_token=$window.localStorage.twit_token;var oauth_secret=$window.localStorage.twit_token_s;var oReq=new XMLHttpRequest;oReq.open("GET",$scope.videoUrl,true);oReq.responseType="arraybuffer";oReq.onload=function(oEvent){var arrayBuffer=oReq.response;var blob=new Blob([oReq.response],{type:"video/mp4"});var myFile=new File([blob],"video.mp4");oAuthService.postVideoInit({data:$scope.storyDetails,size:myFile.size,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){var response=JSON.parse(res.data[0]);$scope.media_id=response.media_id_string;var countIterations=0;var cntIte=0;parseFile(myFile,function(data){oAuthService.postVideoAppend({media_id:$scope.media_id,media:data,segment:countIterations,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){cntIte+=1;if(cntIte==$scope.iterations){oAuthService.postVideoFinalize({media_id:$scope.media_id,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){oAuthService.postVideoStatus({media_id:$scope.media_id,title:$scope.storyDetails.video_name,oauth_token:oauth_token,oauth_secret:oauth_secret}).then(function(res){var data={};if($scope.isOriginalVideo==true){data.pageurl=$scope.pageurl;data.story_des=$scope.storyDetails.story_details;data.title=$scope.storyDetails.story_title}else{data.title=$scope.storyDetails.video_name}oAuthService.createVideoPost({media_id:$scope.media_id,oauth_token:oauth_token,oauth_secret:oauth_secret,pageurl:data.pageurl,title:data.story_title}).then(function(res){if(res.data[1]==400){var error=JSON.parse(res.data[0]);console.log(error);notification.success({message:error.errors[0].message,positionY:"bottom",positionX:"right",delay:3e3})}else{if($scope.isOriginalVideo==true){var data=JSON.parse(res.data[0]);storyService.updateStroy2({id:$scope.storyDetails.id,twitter:data.id}).then(function(resss){})}notification.success({message:"Video posted successfully",positionY:"bottom",positionX:"right",delay:3e3})}})})})}});countIterations+=1})})};oReq.send(null)};function parseFile(file,callback){var fileSize=file.size;var chunkSize=Math.ceil(file.size/3);var offset=0;var self=this;var chunkReaderBlock=null;$scope.iterations=3;var readEventHandler=function readEventHandler(evt){if(evt.target.error==null){offset+=evt.target.result.length;callback(evt.target.result)}else{console.log("Read error: "+evt.target.error);return}if(offset>=fileSize){return}chunkReaderBlock(offset,chunkSize,file)};chunkReaderBlock=function chunkReaderBlock(_offset,length,_file){var r=new FileReader;var blob=_file.slice(_offset,length+_offset);r.onload=readEventHandler;r.readAsBinaryString(blob)};chunkReaderBlock(offset,chunkSize,file)}if($window.localStorage.twit_token&&$window.localStorage.twit_token_s&&$window.localStorage.twit_test==1){$window.localStorage.twit_test=undefined;$scope.sharetwitter()}var video=document.getElementById("video");video.addEventListener("play",function(){if($state.params.punditId){punditService.addView($scope.storyId,$state.params.punditId).then(function(res){})}else{punditService.addView($scope.storyId).then(function(res){})}})}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=SignupCtrl;SignupCtrl.$inject=["$rootScope","$scope","$state","AuthService","Notification","$window","$http"];function SignupCtrl($rootScope,$scope,$state,authService,notification,$window,$http){$scope.formdata={first_name:"",last_name:"",email:"",password:""};$scope.forgotPwdForm={email:""};$scope.resetForm={password:"",password_confirmation:""};$scope.registration=function(){$scope.loader=true;authService.registration($scope.formdata).then(function(res){if(res.status==200){notification.success({message:"User Registered Successfully",positionY:"bottom",positionX:"right",delay:3e3});$scope.formdata={first_name:"",last_name:"",email:"",password:""};$window.localStorage.ud=res.data.token;$http.defaults.headers.common.Authorization="Bearer "+res.data.token;$state.go("master.event")}else if(res.status==400){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data;notification.error({message:res.data.message,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}$scope.loader=false})};$scope.forgotpwd=function(){$scope.requiredEmail=false;var regularExpForValidEmail=/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim;$scope.loader=true;authService.forgotPassword($scope.forgotPwdForm).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.go("public.login")}else if(res.status==400){var errors=res.data.data;$scope.err=[];$scope.errors=res.data.data;notification.error({message:res.data.message,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})};$scope.resetPwd=function(){$scope.loader=true;$scope.resetForm.token=$state.params["id"];authService.resetPassword($scope.resetForm).then(function(res){$scope.loader=false;if(res.status==200){$window.localStorage.clear();$rootScope.user=null;$rootScope=null;$http.defaults.headers.common.Authorization=undefined;notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.go("public.login")}else if(res.status==400){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data;notification.error({message:res.data.message,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})}}},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=StoryCtrl;StoryCtrl.$inject=["$rootScope","$scope","$state","EventService","AuthService","StoryService","Notification","jwtHelper","$window","$http","$uibModal","GoogleApiService","FbService","$timeout"];function StoryCtrl($rootScope,$scope,$state,eventService,authService,storyService,notification,jwtHelper,$window,$http,$uibModal,googleApiService,fbService,$timeout){$rootScope.fb={};$rootScope.fb.like=0;$rootScope.fb.comment=0;$rootScope.fb.share=0;$rootScope.fb.view=0;$rootScope.yt={};$rootScope.yt.like=0;$rootScope.yt.comment=0;$rootScope.yt.share=0;$rootScope.yt.view=0;$scope.ids="";$scope.facebook_ids="";eventService.event_analysis($state.params.id).then(function(res){$scope.ids=res.data.data.youtube_ids.toString();$scope.facebook_ids=res.data.data.facebook_ids;var twitter_ids=res.data.data.twitter_ids}).catch(function(errors){});$scope.refreshStats=function(){if($scope.ids!=""){googleApiService.youtubeStats({ids:$scope.ids}).then(function(res){$rootScope.yt.comment=0;$rootScope.yt.like=0;$rootScope.yt.view=0;res.items.forEach(function(itm){$rootScope.yt.comment+=parseInt(itm.statistics.commentCount);$rootScope.yt.like+=parseInt(itm.statistics.likeCount);$rootScope.yt.view+=parseInt(itm.statistics.viewCount)});$scope.circleFun()})}};$scope.refreshFbStats=function(){if($scope.facebook_ids!=""){fbService.getToken().then(function(res){var authToken=res.authresp.accessToken;var appsecret=res.appsecret;$scope.facebook_ids.forEach(function(item){$rootScope.fb.comment=0;$rootScope.fb.like=0;$rootScope.fb.view=0;fbService.fbLikeCount(item,authToken,appsecret).then(function(res){$rootScope.fb.like+=res.data.length;$scope.circleFun()});fbService.fbShareCount(item,authToken,appsecret).then(function(res){$rootScope.fb.share+=res.data.length;$scope.circleFun()});fbService.fbCommentCount(item,authToken,appsecret).then(function(res){$rootScope.fb.comment+=res.data.length;$scope.circleFun()})})})}};var getEvent=function getEvent(id){eventService.getEvent(id).then(function(res){$scope.event=res.data.data;if($scope.event.event_picture!=(null||undefined||"")){$scope.event.event_picture="/event_pictures/"+$scope.event.event_picture}document.getElementsByClassName("story_banner")[0].style.background="url('"+$scope.event.event_picture+"') center center / cover no-repeat"})};getEvent($state.params.id);$scope.storyForm={story_title:"",story_details:"",story_picture:undefined,event_id:$state.params.id,id:undefined};$scope.event={id:$state.params.id};var nextPageLoad;var lastPage;$(window).scroll(function(){if($(window).scrollTop()>=$(document).height()-$(window).height()-10){if(nextPageLoad==false&&lastPage!=false&&($scope.search==undefined||$scope.search=="")){$scope.nextPage()}}});$scope.storyOptions={limit:7,offset:0,event_id:$state.params.id};$scope.tab={thumbnail:true,list:false};$scope.getAllStroy=function(options){nextPageLoad=true;storyService.getAllStroy(options).then(function(res){if(res.data.data.stories){$scope.stories=res.data.data.stories;$scope.StoriesView=0;$scope.StoriesShare=0;$scope.StoriesComment=0;$scope.stories.forEach(function(story){$scope.StoriesComment+=story.pundit_story.length;$scope.StoriesView+=story.views;$scope.StoriesShare+=story.shares})}$scope.circleFun();nextPageLoad=false})};$scope.nextPage=function(){nextPageLoad=true;$scope.nextPageloader=true;if($state.current.name=="master.stories"){$scope.storyOptions.offset+=$scope.storyOptions.limit;$scope.storyOptions.limit=8;storyService.getAllStroy($scope.storyOptions).then(function(res){$scope.nextPageloader=false;if(res.status==200){nextPageLoad=false;if(res.data.data.stories.length==0){lastPage==false}res.data.data.stories.forEach(function(item){$scope.stories.push(item)})}})}};if($state.current.name=="master.stories"){$scope.getAllStroy($scope.storyOptions)}$scope.back=function(){$state.go("master.stories")};$scope.sorting=function(type){if(type=="Latest added"){$scope.sort_type="-id"}else if(type=="A to Z"){$scope.sort_type="story_title"}else if(type=="Z to A"){$scope.sort_type="-story_title"}else if(type=="Maxmium Views"){$scope.sort_type=""}};$scope.createStory=function(){$scope.requiredEmail=false;$scope.errors=undefined;$scope.err=undefined;$scope.loader=true;$scope.storyForm.event_id=$state.params["id"];storyService.createStory($scope.files,$scope.storyForm).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$rootScope.newStory=res.data.data;$window.localStorage.newStory=JSON.stringify(res.data.data);$window.localStorage.twitter=[];$window.localStorage.gplus=[];$window.localStorage.gdrive=[];$window.localStorage.dropbox=[];$window.localStorage.facebook=[];$window.localStorage.instagram=[];$window.localStorage.temp=[];$rootScope.facebook=[];$rootScope.twitter=[];$rootScope.gdrive=[];$rootScope.gplus=[];$rootScope.dropbox=[];$rootScope.instagram=[];$state.go("master.curate")}else if(res.status==400){if(res.data.data){var errors=res.data.data;$scope.err=[];Object.keys(errors).forEach(function(key,index){$scope.err[key]=true});$scope.errors=res.data.data}var msg=res.data.message?res.data.message:"Error";notification.error({message:msg,templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}})};$scope.switchTab=function(slug){if(slug=="thumbnail"){$scope.tab.thumbnail=true;$scope.tab.list=false}else if(slug=="list"){$scope.tab.thumbnail=false;$scope.tab.list=true}};$scope.setClientData=function(data){if(data.id!=undefined){$scope.stories=[];$scope.stories.push(data)}else{$scope.search.value=""}};$scope.resetStories=function(value){if(value==""){$scope.storyOptions.limit=7;$scope.storyOptions.offset=0;$scope.getAllStroy($scope.storyOptions)}};$scope.deleteStory=function(id){$rootScope.story_delect_id=id;var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",templateUrl:"deleteStory.html",controller:["$rootScope","$scope","$state","$uibModalInstance","$window","StoryService",function($rootScope,$scope,$state,$uibModalInstance,$window,storyService){$scope.close=function(){$uibModalInstance.dismiss("cancel")};storyService.getDeleteMsg().then(function(res){if(res.status==200){$scope.deleteMsg=res.data.message}else{$scope.deleteMsg="This Action Cannot Be Undo"}});$scope.ok=function(){$scope.loader=true;var id=$rootScope.story_delect_id;storyService.deleteStory(id).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.reload()}else{notification.error({message:"Error",positionY:"bottom",positionX:"right",delay:3e3})}$uibModalInstance.dismiss("cancel")})}}]})};$scope.select_image=function(image,data){if(data==null){notification.error({message:"Image should be in jpeg,jpg,png format!",positionY:"bottom",positionX:"right",delay:3e3})}else if(data.size>4194304){$scope.storyForm.story_picture="";notification.error({message:"Its size should not exceed 4MB!",positionY:"bottom",positionX:"right",delay:3e3})}};$scope.remove_image=function(id){$scope.storyForm.story_picture=""};$scope.deleteEvent=function(id){$rootScope.delect_id=id;var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",templateUrl:"deleteEvent.html",controller:["$rootScope","$scope","$state","$uibModalInstance","$window","EventService",function($rootScope,$scope,$state,$uibModalInstance,$window,eventService){eventService.getDeleteMsg().then(function(res){if(res.status==200){$scope.deleteMsg=res.data.message}else{$scope.deleteMsg="This Action Cannot Be Undo"}});$scope.close=function(){$uibModalInstance.dismiss("cancel")};$scope.ok=function(){$scope.loader=true;var id=$rootScope.delect_id;eventService.deleteEvent(id).then(function(res){$scope.loader=false;if(res.status==200){notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$uibModalInstance.dismiss("cancel");$state.go("master.event")}})}}]})};if($state.current.name=="master.stories"){var DropDown=function DropDown(el){this.dd=el;this.initEvents()};$("#dropImg").hover(function(){$(this).css("font-size","25px");$("#dropImg").html($(this).attr("data-hover-title"))},function(){$(this).css("font-size","14px");$("#dropImg").text($(this).attr("data-title"))});$scope.circleFun=function(){var c1=$(".circle1");var c2=$(".circle2");var c3=$(".circle3");console.log("asdfasdf");console.log($scope.StoriesView);if($scope.StoriesView>0&&$scope.StoriesShare>0){var c1Radio=$scope.StoriesShare/$scope.StoriesView}else{var c1Radio=0}var fbyt=$rootScope.yt.like+$rootScope.fb.like;if($scope.StoriesView>0&&fbyt>0){var c2Radio=fbyt/$scope.StoriesView}else{var c2Radio=0}var fbcytc=$scope.StoriesComment;if($scope.StoriesView>0&&fbcytc>0){var c3Radio=fbcytc/$scope.StoriesView}else{var c3Radio=0}c1.circleProgress({startAngle:-Math.PI/4*3,value:c1Radio,lineCap:"round",fill:{gradient:["#46CBA5","#4199B3"]}});c2.circleProgress({startAngle:-Math.PI/4*3,value:c2Radio,lineCap:"round",fill:{gradient:["#46CBA5","#4199B3"]}});c3.circleProgress({startAngle:-Math.PI/4*3,value:c3Radio,lineCap:"round",fill:{gradient:["#46CBA5","#4199B3"]}})};DropDown.prototype={initEvents:function initEvents(){var obj=this;obj.dd.on("click",function(event){$(this).toggleClass("active");event.stopPropagation()})}};$(function(){var dd=new DropDown($("#dd"));$(document).click(function(){$(".wrapper-dropdown-2").removeClass("active")})});$(function(){var dd=new DropDown($("#dd2"));$(document).click(function(){$(".wrapper-dropdown-3").removeClass("active")})})}}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.default=StoryEditCtrl;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}StoryEditCtrl.$inject=["$rootScope","$scope","$state","$window","$timeout","Upload","StoryService","Notification","$uibModal"];function StoryEditCtrl($rootScope,$scope,$state,$window,$timeout,Upload,StoryService,notification,$uibModal){var _$scope$options;{$timeout(function(){$("#range_27a").ionRangeSlider({type:"double",min:0,max:$scope.soundtrim,from:0,to:$scope.soundtrim,onChange:function onChange(data){$rootScope.media.sound.start_time=data.from;$rootScope.media.sound.end_time=data.to}});$("#range_28a").ionRangeSlider({min:0,onChange:function onChange(data){$rootScope.media.sound.delay_sound=data.from}});$scope.sliderDelay=$("#range_28a").data("ionRangeSlider");$("#range_29a").ionRangeSlider({min:.5,max:10,from:10,to:10,step:.5,onChange:function onChange(data){$scope.selectedMedia.image_visibility=data.from;var index=$scope.media.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);$rootScope.media[index].image_visibility=$scope.selectedMedia.image_visibility}});$scope.slider=$("#range_27a").data("ionRangeSlider");$scope.sliderImageVisibility=$("#range_29a").data("ionRangeSlider");$(".test").mCustomScrollbar({axis:"x",theme:"dark",advanced:{autoExpandHorizontalScroll:true}});$(".testaudio").mCustomScrollbar(_defineProperty({theme:"minimal",axis:"y"},"theme","dark"))},500);$scope.option={filter:true,sound:false,transition:false};$scope.optionShow=function(value){document.getElementById(value).classList.toggle("active");if(value=="SOUNDTRACK"){document.getElementById("FILTERS").classList.remove("active");document.getElementById("TRANSITION").classList.remove("active");$scope.option={filter:false,sound:!$scope.option.sound,transition:false}}else if(value=="FILTERS"){document.getElementById("SOUNDTRACK").classList.remove("active");document.getElementById("TRANSITION").classList.remove("active");$scope.option={filter:!$scope.option.filter,sound:false,transition:false}}else if(value=="TRANSITION"){document.getElementById("SOUNDTRACK").classList.remove("active");document.getElementById("FILTERS").classList.remove("active");$scope.option={filter:false,sound:false,transition:!$scope.option.transition}}};$scope.soundtrim=0;$scope.sound_option=false;$scope.trim_sound=function(value){$rootScope.media.sound.audio_url=value.audio_url;$scope.sound_option=true;$scope.soundtrim=value.length;console.log($scope.sliderDelay);$timeout(function(){$scope.slider.update({min:0,max:value.length,from:0,to:value.length});$scope.sliderDelay.reset()},500)};var acc=document.getElementsByClassName("accordion");var i}$scope.options=(_$scope$options={format:"hex",alpha:true,round:false,hue:true,saturation:true,lightness:true},_defineProperty(_$scope$options,"alpha",true),_defineProperty(_$scope$options,"dynamicHue",true),_defineProperty(_$scope$options,"dynamicSaturation",true),_defineProperty(_$scope$options,"dynamicLightness",true),_defineProperty(_$scope$options,"dynamicAlpha",true),_$scope$options);$rootScope.newStory=JSON.parse($window.localStorage.newStory);$rootScope.media=JSON.parse($window.localStorage.media);$scope.selectedMedia=angular.copy($rootScope.media[0]);$scope.selectedMedia.text={fontSize:24,opacity:"100",fontFamily:"sans-serif",color:"41A897",leading:22,alignment:"left",value:""};$rootScope.media.sound={start_time:0,end_time:0,delay_sound:0,play_during_clips:true,play_full_track:true};$scope.selectedMedia.filterOption="Normal";$scope.selectedMedia.transition="none";$scope.text_edit=true;$scope.newMedia=angular.copy($rootScope.media);function ApplyLineBreaks(strTextAreaId){var oTextarea=document.getElementById(strTextAreaId);if(oTextarea.wrap){oTextarea.setAttribute("wrap","off")}else{oTextarea.setAttribute("wrap","off");var newArea=oTextarea.cloneNode(true);newArea.value=oTextarea.value;oTextarea.parentNode.replaceChild(newArea,oTextarea);oTextarea=newArea}var strRawValue=oTextarea.value;oTextarea.value="";var nEmptyWidth=oTextarea.scrollWidth;var nLastWrappingIndex=-1;for(var i=0;i<strRawValue.length;i++){var curChar=strRawValue.charAt(i);if(curChar==" "||curChar=="-"||curChar=="+")nLastWrappingIndex=i;oTextarea.value+=curChar;if(oTextarea.scrollWidth>nEmptyWidth){var buffer="";if(nLastWrappingIndex>=0){for(var j=nLastWrappingIndex+1;j<i;j++){buffer+=strRawValue.charAt(j)}nLastWrappingIndex=-1}buffer+=curChar;oTextarea.value=oTextarea.value.substr(0,oTextarea.value.length-buffer.length);oTextarea.value+="\n"+buffer}}oTextarea.setAttribute("wrap","")}function cropper(){var org_img=document.getElementById("media_img");var icanvas=document.createElement("canvas");var ictx=icanvas.getContext("2d");icanvas.width=400;icanvas.height=300;ictx.beginPath();ictx.fillRect(0,0,icanvas.width,icanvas.height);ictx.fillStyle="#000";ictx.fill();org_img.onload=function(){var org_w=this.width;var org_h=this.height;if(org_w/org_h>1.334){var divison_factor=org_w/400;var est_height=org_h/divison_factor;var est_width=400;var ypos=(300-est_height)/2;ictx.drawImage(org_img,0,ypos,est_width,est_height);$scope.canvas_image=icanvas.toDataURL()}else{var divison_factor=org_h/300;var est_width=org_w/divison_factor;var est_height=300;var xpos=(400-est_width)/2;ictx.drawImage(org_img,xpos,0,est_width,est_height);$scope.canvas_image=icanvas.toDataURL()}var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");canvas.width=400;canvas.height=300;$scope.filterimg1=icanvas.toDataURL();ctx.filter="grayscale(100%)";ctx.drawImage(icanvas,0,0);$scope.filterimg2=canvas.toDataURL();ctx.filter="hue-rotate(30deg) opacity(95%)";ctx.drawImage(icanvas,0,0);$scope.filterimg3=canvas.toDataURL();ctx.filter="blur(1px) contrast(90%)";ctx.drawImage(icanvas,0,0);$scope.filterimg4=canvas.toDataURL();ctx.filter="hue-rotate(90deg) grayscale(50%)";ctx.drawImage(icanvas,0,0);$scope.filterimg5=canvas.toDataURL();$scope.$apply()}}if($scope.selectedMedia.media_type=="photo"){cropper()}else{$scope.canvas_image=$scope.selectedMedia.media_url}$scope.downloadimag=function(url){var settings={async:true,crossDomain:true,url:url,method:"GET",headers:{"cache-control":"no-cache","postman-token":"42fd4698-bf8b-2851-3cd9-1d28a226ac00","Access-Control-Allow-Origin":"*","access-control-allow-methods":"GET,OPTIONS"}};$.ajax(settings).done(function(response){console.log(response)})};$scope.show_trim_sound=function(){if($rootScope.media.sound.play_full_track){$scope.slider.update({disable:true})}else{$scope.slider.update({disable:false})}};$scope.selectMedia=function(item){var index=$scope.media.map(function(el){return el.media_url}).indexOf(item.media_url);$scope.selectedMedia=angular.copy(item);if($scope.selectedMedia.text==undefined){$scope.textEffect.defaultTextValue()}if($scope.selectedMedia.filterOption==undefined){$scope.selectedMedia.filterOption="Normal"}if($scope.selectedMedia.transition==undefined){$scope.selectedMedia.transition="none"}if($rootScope.media[index].text&&$rootScope.media[index].text.left!=undefined){document.getElementById("addtextbox").style.left=$rootScope.media[index].text.left}if($rootScope.media[index].text&&$rootScope.media[index].text.top!=undefined){document.getElementById("addtextbox").style.left=$rootScope.media[index].text.top}document.getElementById("addtextbox").style.display="none";$scope.sliderImageVisibility.update({from:$scope.selectedMedia.image_visibility?$scope.selectedMedia.image_visibility:10});document.getElementById("media_img").setAttribute("src",item.media_url);if($scope.selectedMedia.media_type!="video"){cropper()}else{$scope.canvas_image=$scope.selectedMedia.media_url}};$scope.ImageFilter=function(filterOption){if($scope.selectedMedia.media_type=="video"){return}$scope.selectedMedia.filterOption=filterOption;var image2=document.getElementById("selectedMedia");var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");canvas.width=400;canvas.height=300;switch(filterOption){case"Normal":{ctx.drawImage(image2,0,0);break}case"Moon":{ctx.filter="grayscale(100%)";break}case"Hudson":{ctx.filter="hue-rotate(30deg) opacity(95%)";break}case"Gingham":{ctx.filter="blur(1px) contrast(90%)";break}case"Retro":{ctx.filter="hue-rotate(90deg) grayscale(50%)";break}}ctx.drawImage(image2,0,0);$scope.canvas_image=canvas.toDataURL();var index=$rootScope.media.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);$rootScope.media[index]=$scope.selectedMedia;$rootScope.media[index].media_url=$scope.canvas_image;$scope.selectMedia($rootScope.media[index])};$scope.textEffect={textEdit:function textEdit(){if($scope.text_edit==true){$scope.text_edit=false}else{$scope.text_edit=true}},saveText:function saveText(){if(document.getElementById("addtextbox").style.display=="block"){ApplyLineBreaks("addtextarea");var textArray=document.getElementById("addtextarea").value.split("\n");$scope.selectedMedia.text.value=document.getElementById("addtextarea").value;var textDivWidth=document.getElementById("addtextarea").offsetWidth;var left=document.getElementById("addtextbox").style.left.replace("px","");var top=document.getElementById("addtextbox").style.top.replace("px","");var image=document.getElementById("selectedMedia");var image2=document.getElementById("media_img");var canvasImg=document.createElement("canvas");var ctxImg=canvasImg.getContext("2d");canvasImg.width=400;canvasImg.height=300;ctxImg.drawImage(image,0,0);var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");canvas.width=400;canvas.height=300;ctx.font=$scope.selectedMedia.text.fontSize*(canvas.width/450)+2+"px "+$scope.selectedMedia.text.fontFamily;ctx.fillStyle="#"+$scope.selectedMedia.text.color;var additionalValue=0;if($scope.selectedMedia.text.alignment=="center"){additionalValue=textDivWidth/2*(canvas.width/450)}else if($scope.selectedMedia.text.alignment=="right"){additionalValue=textDivWidth*(canvas.width/450)}ctx.textAlign=$scope.selectedMedia.text.alignment;for(var i in textArray){if(textArray.hasOwnProperty(i)){console.log(textDivWidth);var dummyFontSize=$scope.selectedMedia.text.fontSize*(canvas.width/450);console.log(dummyFontSize*textArray[i].length);console.log(textArray[i].length);var leadingValue=$scope.selectedMedia.text.leading*(canvas.width/450)*i;ctx.fillText(textArray[i],parseInt(left)+parseInt(additionalValue),top*(canvas.height/300)+48+leadingValue)}}ctx.globalAlpha=100/parseInt($scope.selectedMedia.text.opacity);var canvasFinal=document.createElement("canvas");var ctxFinal=canvasFinal.getContext("2d");canvasFinal.width=400;canvasFinal.height=300;ctxFinal.drawImage(canvasImg,0,0);ctxFinal.drawImage(canvas,0,0);$scope.canvas_image=canvasFinal.toDataURL();var index=$scope.media.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);$rootScope.media[index].media_url=$scope.canvas_image;$scope.selectedMedia.media_url=$scope.canvas_image;document.getElementById("addtextbox").style.display="none";notification.success({message:"Setting Saved",templateUrl:"custom_template.html",scope:$scope,positionY:"bottom",positionX:"right",delay:3e3})}},resetImage:function resetImage(){var index=$scope.media.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);$scope.selectedMedia.media_url=$scope.newMedia[index].media_url;$scope.media[index].media_url=$scope.newMedia[index].media_url;$scope.selectedMedia.transition="none";$scope.selectedMedia.filterOption="Normal";$scope.textEffect.defaultTextValue();$scope.selectMedia($scope.selectedMedia)},defaultTextValue:function defaultTextValue(){$scope.selectedMedia.text={fontSize:24,opacity:"100",fontFamily:"sans-serif",color:"41A897",leading:22,alignment:"left",value:""};var style="background:transparent;resize: both;"+"font-size:"+$scope.selectedMedia.text.fontSize+"px"+";opacity:"+parseInt($scope.selectedMedia.text.opacity)/100+";font-family:"+$scope.selectedMedia.text.fontFamily+";color: #"+$scope.selectedMedia.text.color+";text-align:"+$scope.selectedMedia.text.alignment+";border: 2px dashed #189b85;";document.getElementById("addtextarea").setAttribute("style",style);document.getElementById("addtextbox").style.left="0px";document.getElementById("addtextbox").style.top="0px"},addTextBox:function addTextBox(){if($scope.selectedMedia.media_type!="video"){document.getElementById("addtextbox").style.display="block"}},fontSizeInc:function fontSizeInc(){if($scope.selectedMedia.text.fontSize==undefined){$scope.selectedMedia.text.fontSize=0}$scope.selectedMedia.text.fontSize+=1},fontSizeDec:function fontSizeDec(){if($scope.selectedMedia.text.fontSize==undefined){$scope.selectedMedia.text.fontSize=0}else if($scope.selectedMedia.text.fontSize>0){$scope.selectedMedia.text.fontSize-=1}},leadingInc:function leadingInc(){if($scope.selectedMedia.text.leading==undefined){$scope.selectedMedia.text.leading=0}$scope.selectedMedia.text.leading=parseInt($scope.selectedMedia.text.leading)+1},leadingDec:function leadingDec(){if($scope.selectedMedia.text.leading==undefined){$scope.selectedMedia.text.leading=0}else if($scope.selectedMedia.text.leading>0){$scope.selectedMedia.text.leading-=1}}};$scope.textEffect.defaultTextValue();$scope.addTransition=function(){var index=$scope.media.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);$rootScope.media[index].transition=$scope.selectedMedia.transition};$scope.upload={audio:""};$scope.allSound=[{story_id:0,audio_url:"anewbeginning.mp3",length:155},{story_id:0,audio_url:"buddy.mp3",length:123},{story_id:0,audio_url:"clearday.mp3",length:90},{story_id:0,audio_url:"happyrock.mp3",length:106},{story_id:0,audio_url:"ukulele.mp3",length:146}];StoryService.getAudioList($rootScope.newStory.id).then(function(res){if(res.status==200){res.data.data.story_audio.forEach(function(item){$scope.allSound.push(item)})}$scope.soundtrim=$scope.allSound.length?$scope.allSound[0]["length"]:0;$timeout(function(){$scope.slider.update({min:0,max:$scope.soundtrim,from:0,to:$scope.soundtrim});$scope.sliderDelay.reset()},500)});$scope.upload=function(data){var length=data.$ngfDuration?data.$ngfDuration:0;var formdata={audio:data,story_id:$rootScope.newStory.id,length:length};Upload.upload({url:$rootScope.apiUrl+"api/story_audio",data:formdata}).then(function(resp){$scope.audioProcess=false;if(resp.status==200){StoryService.getAudioList($rootScope.newStory.id).then(function(res){if(res.status==200){$scope.allSound=[{story_id:0,audio_url:"anewbeginning.mp3",length:155},{story_id:0,audio_url:"buddy.mp3",length:123},{story_id:0,audio_url:"clearday.mp3",length:90},{story_id:0,audio_url:"happyrock.mp3",length:106},{story_id:0,audio_url:"ukulele.mp3",length:146}];res.data.data.story_audio.forEach(function(item){$scope.allSound.push(item)});$scope.soundtrim=$scope.allSound[0]["length"];$timeout(function(){$scope.slider.update({min:0,max:$scope.soundtrim,from:0,to:$scope.soundtrim});$scope.sliderDelay.reset()},500)}});notification.success({message:"Soundtrack successfully uploaded",positionY:"bottom",positionX:"right",delay:3e3})}else{notification.error({message:"Error in uploaded media",positionY:"bottom",positionX:"right",delay:3e3})}},function(resp){$scope.audioProcess=false},function(evt){$scope.audioProcess=true;$scope.progressPercentage=parseInt(100*evt.loaded/evt.total)})};$scope.resetSoundData=function(){$rootScope.media.sound.audio_url=undefined};$scope.story_video_preview=function(){var modalInstance=$uibModal.open({animation:true,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"md",templateUrl:"videoPreview.html",controller:["$rootScope","$scope","$uibModalInstance","$window","PunditService","StoryService",function($rootScope,$scope,$uibModalInstance,$window,punditService,StoryService){StoryService.createPreview($rootScope.media,$rootScope.newStory.id,$rootScope.media.sound).then(function(res){$scope.loading=false;$scope.videoWhammyPreview="/story_media/story_"+$rootScope.newStory.id+"/"+res.data.data.new_video;notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3})},function(err){$scope.loading=false});$scope.close=function(){$uibModalInstance.dismiss("cancel")};$scope.publishVideo=function(){$scope.loading=true;var url="./story_videos/story_"+$rootScope.newStory.id+"/"+$rootScope.videoFileName;StoryService.publishVideo({story_id:$rootScope.newStory.id}).then(function(res){$scope.loading=false;notification.success({message:res.data.message,positionY:"bottom",positionX:"right",delay:3e3});$state.go("ShareVideo",{storyId:$rootScope.newStory.id})},function(err){$scope.loading=false})}}]})};$scope.$watch(function(scope){return scope.selectedMedia},function(newValue,oldValue){if(angular.equals(newValue,oldValue)==false){var index=$scope.newMedia.map(function(el){return el.media_url}).indexOf($scope.selectedMedia.media_url);if(angular.equals(newValue.text,oldValue.text)==false){var style="background:transparent;"+"font-size:"+newValue.text.fontSize+"px"+";opacity:"+parseInt(newValue.text.opacity)/100+";font-family:"+newValue.text.fontFamily+";color: #"+newValue.text.color+";text-align:"+newValue.text.alignment+";line-height:"+newValue.text.leading+"px"+";resize: both; border: 2px dashed rgb(24, 155, 133)";if(document.getElementById("addtextarea").style.width){style+=";width:"+document.getElementById("addtextarea").style.width}if(document.getElementById("addtextarea").style.height){style+=";height:"+document.getElementById("addtextarea").style.height}document.getElementById("addtextarea").setAttribute("style",style);$rootScope.media[index].text=newValue.text}if(angular.equals(newValue.media_url,oldValue.media_url)==false){}}},true)}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=routing;routing.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","ScrollBarsProvider"];function routing($stateProvider,$urlRouterProvider,$locationProvider,ScrollBarsProvider){ScrollBarsProvider.defaults={scrollButtons:{scrollAmount:"auto",enable:true},axis:"yx"};$locationProvider.html5Mode(true);$stateProvider.state("index",{url:"/",templateUrl:__webpack_require__(266)}).state("public",{url:"",templateUrl:__webpack_require__(268)}).state("public.login",{url:"/login?return_url",params:{return_url:null},templateUrl:__webpack_require__(269),controller:"AuthCtrl"}).state("public.signup",{url:"/sign-up",templateUrl:__webpack_require__(273),controller:"SignupCtrl"}).state("public.forgotpwd",{url:"/forgot-password",templateUrl:__webpack_require__(265),controller:"SignupCtrl"}).state("public.reset_password",{url:"/reset_password/:id",templateUrl:__webpack_require__(271),controller:"SignupCtrl"}).state("master",{url:"",templateUrl:__webpack_require__(267),controller:"MasterCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.edit-profile",{url:"/profile/edit",templateUrl:__webpack_require__(138),controller:"ProfileCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.change-password",{url:"/change-password",templateUrl:__webpack_require__(138),controller:"ProfileCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.stories",{url:"/event/:id/stories",templateUrl:__webpack_require__(274),controller:"StoryCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.add-story",{url:"/event/:id/story/new",templateUrl:__webpack_require__(276),controller:"StoryCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.edit-story",{url:"/event/:id/story/:story_id/edit",templateUrl:__webpack_require__(277),controller:"StoryCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("master.event",{url:"/events",templateUrl:__webpack_require__(264),controller:"EventCtrl"}).state("master.create-new",{url:"/events/new",templateUrl:__webpack_require__(262),controller:"EventCtrl"}).state("master.edit-event",{url:"/event/:id/edit",templateUrl:__webpack_require__(137),controller:"EventCtrl"}).state("master.view-event",{url:"/event/:id",templateUrl:__webpack_require__(137),controller:"EventCtrl"}).state("master.curate",{url:"/curate",templateUrl:__webpack_require__(263),controller:"CurateCtrl"}).state("master.selectMedia",{url:"/story/select-media",templateUrl:__webpack_require__(272),controller:"SelectMediaCtrl"}).state("master.storyEdit",{url:"/story/edit",templateUrl:__webpack_require__(275),controller:"StoryEditCtrl"}).state("recording",{url:"/recording",templateUrl:__webpack_require__(67),controller:"PunditCtrl"}).state("UserStory",{url:"/pundit-story/:storyId",templateUrl:__webpack_require__(67),controller:"PunditCtrl"}).state("punditStory",{url:"/pundit-story/:storyId/:punditId",templateUrl:__webpack_require__(67),controller:"PunditCtrl"}).state("ShareVideo",{url:"/share-video/:storyId",templateUrl:__webpack_require__(139),controller:"SharingCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("SharePunditVideo",{url:"/share-video/:storyId/:punditId",templateUrl:__webpack_require__(139),controller:"SharingCtrl",resolve:{data:function data($q,AuthService){var q=$q.defer();if(AuthService.auth()){q.resolve("ok")}else{q.reject("not authorized")}return q.promise}}}).state("punditActivation",{url:"/pundit-activate-account/:userId/:email/:punditId",controller:"PunditActivationCtrl"}).state("twitter-callback",{url:"/twitter-callback",controller:"CallbackCtrl"}).state("twitter-callback1",{url:"/twitter-callback1",controller:"CallbackCtrl"}).state("instagram-callback",{url:"/instagram-callback/:token",controller:"CallbackCtrl"}).state("insta-tag-callback",{url:"/insta-tag-callback/:token",controller:"CallbackCtrl"}).state("privacy-policy",{url:"/privacy-policy",templateUrl:__webpack_require__(270)}).state("term-condition",{url:"/term-condition",templateUrl:__webpack_require__(278)});$urlRouterProvider.otherwise("/login")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=AppService;AppService.$inject=["$http","$rootScope","$window","Upload","$state"];function AppService($http,$rootScope,$window,Upload,$state){this.getAdminSettings=function(){return $http.get($rootScope.apiUrl+"api/getAdminSettings").then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=AuthService;AuthService.$inject=["$http","$rootScope","$window","Upload","$state"];function AuthService($http,$rootScope,$window,Upload,$state){this.registration=function(formdata){return $http.post($rootScope.apiUrl+"api/register",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.forgotPassword=function(formdata){return $http.post($rootScope.apiUrl+"api/forgot_password",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.login=function(formdata){return $http.post($rootScope.apiUrl+"api/login",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.auth=function(){if($window.localStorage.ud==""||$window.localStorage.ud==undefined){$window.location.href="/login"}else{return true}};this.getUserDetails=function(){return $http.get($rootScope.apiUrl+"api/edit_profile").then(function successCallback(response){return response},function errorCallback(response){return response})};this.editProfile=function(formdata){return Upload.upload({url:$rootScope.apiUrl+"api/update_profile",processData:false,data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.resetPassword=function(formdata){return $http.post($rootScope.apiUrl+"api/reset_password",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.changePassword=function(formdata){return $http.post($rootScope.apiUrl+"api/change_password",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=DropboxService;DropboxService.$inject=["$http","$rootScope","$window","Upload"];function DropboxService($http,$rootScope,$window,Upload){this.dropboxLogin=function(newAccount){var options={success:function success(files){$rootScope.dbx.usersGetCurrentAccount().then(function(response){var supertemp=[];files.forEach(function(item){supertemp.push({type:"dropbox",media_url:item.link,media_type:item.name.search(/.mp4/)==-1?"photo":"video",id:"Dropbox"+newAccount})});$rootScope.newStory=JSON.parse($window.localStorage.newStory);if($rootScope.newStory.media==undefined){$rootScope.newStory.media=[]}$rootScope.newStory.media=$rootScope.newStory.media.concat(supertemp);$window.localStorage.newStory=JSON.stringify($rootScope.newStory);if($window.localStorage.dropbox==undefined||$window.localStorage.dropbox==""){var dropbox=[];dropbox.push({user_id:"Dropbox"+newAccount,screen_name:newAccount})}else{var dropbox=JSON.parse($window.localStorage.dropbox);dropbox.push({user_id:"Dropbox"+newAccount,screen_name:newAccount})}$window.localStorage.dropbox=JSON.stringify(dropbox);$rootScope.dropbox=JSON.stringify(dropbox);$window.location.reload()}).catch(function(error){console.log(error)})},cancel:function cancel(){},linkType:"direct",multiselect:true,extensions:[".jpg",".png",".jpeg",".mp4"]};Dropbox.choose(options)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=EventService;EventService.$inject=["$http","$rootScope","$window","Upload"];function EventService($http,$rootScope,$window,Upload){this.createEvent=function(files,formdata){return Upload.upload({url:$rootScope.apiUrl+"api/events",data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.getAllEvent=function(){var formdata=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;var url="api/events/limit/"+formdata.limit+"/offset/"+formdata.offset;return $http.get($rootScope.apiUrl+url).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getDeleteMsg=function(){return $http.get($rootScope.apiUrl+"api/events/confirmationmessage/delete").then(function successCallback(response){return response},function errorCallback(response){return response})};this.getserachEvent=function(){return $http.get($rootScope.apiUrl+"api/events/autosearch").then(function successCallback(response){return response},function errorCallback(response){return response})};this.getEvent=function(id){return $http.get($rootScope.apiUrl+"api/events/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.deleteEvent=function(id){return $http.delete($rootScope.apiUrl+"api/events/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.remove_image=function(id){return $http.post($rootScope.apiUrl+"api/events/update_event_picture/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.updateEvent=function(files,formdata){return Upload.upload({url:$rootScope.apiUrl+"api/events/"+formdata.id,data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.searchEvent=function(search){return $http.get($rootScope.apiUrl+"api/events/search/"+search).then(function successCallback(response){return response},function errorCallback(response){return response})};this.event_analysis=function(id){return $http.post($rootScope.apiUrl+"api/event_analysis",{id:id}).then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=FbService;FbService.$inject=["$http","$rootScope","$window","Upload","$q","Notification"];function FbService($http,$rootScope,$window,Upload,$q,notification){this.fb_login=function(){var deferred=$q.defer();FB.login(function(response){if(response.authResponse){var authresp=response.authResponse;var jsSHA=__webpack_require__(44);var hash_hmac=function hash_hmac(string,secret){var shaObj=new jsSHA("SHA-256","TEXT");shaObj.setHMACKey(secret,"TEXT");shaObj.update(string);var hmac=shaObj.getHMAC("HEX");return hmac};var appsecret_proof=hash_hmac(authresp.accessToken,"94cbbca16f540bdd5f9244dc517216a0");FB.api("https://graph.facebook.com/v2.9/me?fields=name,id,first_name,last_name,email,gender&appsecret_proof="+appsecret_proof+"&access_token="+authresp.accessToken,function(response){console.log(response);if(!response||response.error){return"Error occured"}else{if($window.localStorage.facebook==undefined||$window.localStorage.facebook==""){var facebook=[];facebook.push({user_id:"facebook"+response.name,screen_name:response.name,token:authresp.accessToken})}else{var facebook=JSON.parse($window.localStorage.facebook);facebook.push({user_id:"facebook"+response.name,screen_name:response.name,token:authresp.accessToken})}$window.localStorage.facebook=JSON.stringify(facebook);$rootScope.facebook=JSON.stringify(facebook);FB.api("https://graph.facebook.com/v2.9/me/photos?fields=picture,images,created_time,place&type=uploaded&limit=100&appsecret_proof="+appsecret_proof+"&access_token="+authresp.accessToken,function(resp){var facebook_media=[];angular.forEach(resp.data,function(data,key){facebook_media.push({type:"facebook",media_type:"photo",media_url:data.images.length?data.images[0].source:data.picture,id:"facebook"+response.name,created_at:data.created_time,location:data.place?data.place.name:data.place,channel_type:"Account"})});FB.api("https://graph.facebook.com/v2.9/me/videos?fields=picture,place,created_time,source,updated_time&limit=20&type=uploaded&appsecret_proof="+appsecret_proof+"&access_token="+authresp.accessToken,function(resp){angular.forEach(resp.data,function(data,key){facebook_media.push({type:"facebook",media_type:"video",media_url:data.source,id:"facebook"+response.name,created_at:data.created_time,location:data.place?data.place.name:data.place,channel_type:"Account"})});facebook_media.sort(function(a,b){return a.created_time-b.created_time});var orig_fb_media=[];facebook_media.forEach(function(item){if(orig_fb_media.length<100){orig_fb_media.push(item)}});$window.localStorage.temp=JSON.stringify(orig_fb_media);FB.logout(function(response){});setTimeout(function(){$window.location.reload()},200)})})}})}else{return"Error occured"}},{scope:"email,user_photos,user_videos"})};this.fb_post_video_init=function(data){debugger;var UserResp=JSON.parse($window.localStorage.facebook)[0];$http.get("https://graph.facebook.com/v2.9/me/?access_token="+UserResp.token).then(function successCallback(response){var userID=response.data.id;return $http.post($rootScope.apiUrl+"api/post_curl_response_fb",{url:"https://graph-video.facebook.com/v2.3/"+userID+"/videos",post_data:"upload_phase=start&file_size="+data.size+"&access_token="+UserResp.token,command:"init"}).then(function successCallback(response){return response},function errorCallback(response){return response})},function errorCallback(response){return response})};this.fb_post_video_append=function(data){debugger;var UserResp=JSON.parse($window.localStorage.facebook)[0];var userID=data.userId;return $http.post($rootScope.apiUrl+"api/post_curl_response_fb",{url:"https://graph-video.facebook.com/v2.3/"+userID+"/videos",post_data:"upload_phase=start&file_size="+data.size+"&access_token="+UserResp.token,command:"init"}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.fb_share=function(link){var deferred=$q.defer();FB.ui({method:"share",href:link},function(response){});deferred.resolve(true);return deferred.promise};this.fb_import_images=function(token){return $http.get("https://graph.facebook.com/v2.9/me/photos?fields=picture,created_time,name&limit=10&method=get&type=uploaded&access_token="+token).then(function successCallback(response){return response},function errorCallback(response){return response})};this.fb_import_video=function(token){return $http.get("https://graph.facebook.com/v2.9/me/videos?limit=10&type=uploaded&access_token="+token).then(function successCallback(response){return response},function errorCallback(response){return response})};this.searchHashtag=function(data){return $http.post($rootScope.apiUrl+"api/facebookHashtagSerach",data).then(function successCallback(response){return response},function errorCallback(response){return response})};this.uploadVideo=function(data){var deferred=$q.defer();FB.login(function(response){if(response.authResponse){debugger;console.log(response);var authresp=response.authResponse;return $http.post($rootScope.apiUrl+"api/post_curl_response_fb",{video_url:data.video_url,Authorization:response.authResponse.accessToken,formdata:data}).then(function successCallback(response){notification.success({message:"Video posted succesfully",positionY:"bottom",positionX:"right",delay:3e3});return response},function errorCallback(response){return response})}else{return"Error occured"}},{scope:"email,user_photos,user_videos,publish_actions"})};this.fbLikeCount=function(id,authToken,appsecret){var access_token="EAACEdEose0cBAC93h4561ZBmN5E46PezEs94H44dFhggJg5mDGXL9I87Eh9xKlg0qTJwr4aC9EgCRPRoZACPMUAaIOlFAwXhRrXVES0AfxWTldz7HfZCFM0ur6JgWPP3bz8yz2IfPk7Ow83hbeHp9FXwD6bvHO1tj5dB5tHyuFfx9ees9O0ZCZCHZBKY240Xo3KZBTrLCxH9wZDZD";var deferred=$q.defer();FB.api("/"+id+"/?fields=comments.limit(100),likes.limit(100),sharedposts.limit(100)&access_token="+authToken+"&appsecret_proof="+appsecret,function(response){if(response&&!response.error){deferred.resolve(response)}});return deferred.promise};this.fbShareCount=function(id,authToken,appsecret){var access_token="EAACEdEose0cBAC93h4561ZBmN5E46PezEs94H44dFhggJg5mDGXL9I87Eh9xKlg0qTJwr4aC9EgCRPRoZACPMUAaIOlFAwXhRrXVES0AfxWTldz7HfZCFM0ur6JgWPP3bz8yz2IfPk7Ow83hbeHp9FXwD6bvHO1tj5dB5tHyuFfx9ees9O0ZCZCHZBKY240Xo3KZBTrLCxH9wZDZD";var deferred=$q.defer();FB.api("/"+id+"/sharedposts?access_token="+authToken+"&appsecret_proof="+appsecret,function(response){if(response&&!response.error){deferred.resolve(response)}});return deferred.promise};this.fbCommentCount=function(id,authToken,appsecret){var access_token="EAACEdEose0cBAC93h4561ZBmN5E46PezEs94H44dFhggJg5mDGXL9I87Eh9xKlg0qTJwr4aC9EgCRPRoZACPMUAaIOlFAwXhRrXVES0AfxWTldz7HfZCFM0ur6JgWPP3bz8yz2IfPk7Ow83hbeHp9FXwD6bvHO1tj5dB5tHyuFfx9ees9O0ZCZCHZBKY240Xo3KZBTrLCxH9wZDZD";var deferred=$q.defer();FB.api("/"+id+"/comments?access_token="+authToken+"&appsecret_proof="+appsecret,function(response){if(response&&!response.error){deferred.resolve(response)}});return deferred.promise};this.getToken=function(){var deferred=$q.defer();FB.login(function(response){if(response.authResponse){var authresp=response.authResponse;var jsSHA=__webpack_require__(44);var hash_hmac=function hash_hmac(string,secret){var shaObj=new jsSHA("SHA-256","TEXT");shaObj.setHMACKey(secret,"TEXT");shaObj.update(string);var hmac=shaObj.getHMAC("HEX");return hmac};var appsecret_proof=hash_hmac(authresp.accessToken,"94cbbca16f540bdd5f9244dc517216a0")}deferred.resolve({authresp:authresp,appsecret:appsecret_proof})});return deferred.promise}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=GoogleApiService;GoogleApiService.$inject=["$http","$rootScope","$window","Upload","Notification","$q"];function GoogleApiService($http,$rootScope,$window,Upload,notification,$q){var _this=this;var developerKey="AIzaSyBq3owHHRZ3Hv1roRByqj1wrsLVaQ6xd8Y";var clientId="1012815045794-009s10adj6q7hqvvotr5lritek4vt2ha.apps.googleusercontent.com";var appId="1012815045794";var scope=["https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/plus.media.upload","https://www.googleapis.com/auth/plus.stream.read","https://www.googleapis.com/auth/plus.stream.write"];var scope_gPlus=["https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/plus.stream.read","https://www.googleapis.com/auth/plus.media.upload","https://www.googleapis.com/auth/plus.stream.write","https://www.googleapis.com/auth/youtube.force-ssl","https://www.googleapis.com/auth/youtubepartner"];var pickerApiLoaded=false;var oauthToken;this.newAccount;this.gdriveLogin=function(username){_this.newAccount=username;gapi.load("auth",{callback:_this.onAuthApiLoad});gapi.load("picker",{callback:_this.onPickerApiLoad})};this.gPlusLogin=function(username){if($window.localStorage.gUser){gapi.load("auth",{callback:_this.onAuthGPlusApiLoad})}else{$rootScope.newAccount=username;gapi.load("auth",{callback:_this.onAuthGPlusApiLoad})}};this.gPlusKeyword=function(data){return $http.post($rootScope.apiUrl+"api/googleKeywordSerach",data).then(function successCallback(response){return response},function errorCallback(response){return response})};this.onAuthApiLoad=function(){window.gapi.auth.authorize({client_id:clientId,scope:scope,prompt:"consent",display:"popup",login_hint:_this.newAccount},_this.handleAuthResult)};this.onAuthGPlusApiLoad=function(){window.gapi.auth.authorize({client_id:clientId,scope:scope_gPlus,prompt:"consent",display:"popup",login_hint:_this.newAccount},_this.handleGPlusAuthResult)};this.onPickerApiLoad=function(){pickerApiLoaded=true};this.handleAuthResult=function(authResult){var that=_this;if(authResult&&!authResult.error){oauthToken=authResult.access_token;console.log(oauthToken);$rootScope.google_aacess_t=oauthToken;$rootScope.$digest();console.log($rootScope.google_aacess_t);gapi.client.load("plus","v1").then(function(){gapi.client.plus.people.get({userId:"me"}).execute(function(resp){that.newAccount=resp.displayName;that.createPicker()})})}};this.gdriveUserDetails=function(){var that=_this;gapi.client.load("drive","v3").then(function(){gapi.client.drive.files.list({orderBy:"createdTime",pageSize:10,q:'mimeType="image/jpeg"',fields:"files",corpus:"user"}).execute(that.gdriveCallback)})};this.gdriveCallback=function(resp){var Gdrive_data=[];var that=_this;angular.forEach(resp.files,function(value,key){if(Gdrive_data.length<101){if(value.webContentLink!=""){if(value.mimeType=="image/jpeg"||value.mimeType=="image/jpg"||value.mimeType=="image/png"){Gdrive_data.push({type:"gdrive",media_type:"photo",media_url:value.webContentLink,id:"GDrive"+that.newAccount,created_at:value.createdTime})}else if(value.mimeType=="video/mp4"){Gdrive_data.push({type:"gdrive",media_type:"video",media_url:value.webContentLink,id:"GDrive"+that.newAccount,created_at:value.createdTime})}}}});var gdrive=[];if($window.localStorage.gdrive==undefined||$window.localStorage.gdrive==""){gdrive.push({user_id:"GDrive"+_this.newAccount,screen_name:_this.newAccount})}else{gdrive=JSON.parse($window.localStorage.gdrive);gdrive.push({user_id:"GDrive"+_this.newAccount,screen_name:_this.newAccount})}$window.localStorage.gdrive=JSON.stringify(gdrive);$rootScope.gdrive=gdrive;$window.localStorage.temp=JSON.stringify(Gdrive_data);$rootScope.$digest();$window.location.reload()};this.handleGPlusAuthResult=function(authResult){if(authResult&&!authResult.error){oauthToken=authResult.access_token;var request="";var that=_this;gapi.client.load("plus","v1").then(function(){gapi.client.plus.people.get({userId:"me"}).execute(function(resp){$window.localStorage.gUser=JSON.stringify(resp);$window.localStorage.gToken=authResult.access_token;that.gplushUserDetails()})})}};this.gplushUserDetails=function(){gapi.client.plus.activities.list({userId:"me",collection:"public",maxResults:100}).execute(_this.gplusCallback)};this.gplusKeywordCallback=function(resp){var GPlusData=[];var GPlus_data=[];angular.forEach(resp.items,function(value,key){if(GPlusData.length<101){if(value.object.attachments!=""){var location;if(value.location!=undefined)location=value.location.address.formatted;var updated=value.updated;angular.forEach(value.object.attachments,function(data,key){if(data.objectType=="photo"){GPlus_data.push({type:"gplus",media_type:data.objectType,media_url:data.fullImage.url,id:"GPlus"+$rootScope.newAccount,created_at:updated,location:location})}else if(data.objectType=="article"&&data.fullImage!=undefined){GPlus_data.push({type:"gplus",media_type:data.objectType,media_url:data.fullImage.url,id:"GPlus"+$rootScope.newAccount,created_at:updated,location:location})}})}}});var gplus=[];var channel_type;if($rootScope.newAccount.indexOf("#")!=-1){channel_type="Hashtag"}else{channel_type="Keyword"}if($window.localStorage.gplus==undefined||$window.localStorage.gplus==""){gplus.push({user_id:"GPlus"+$rootScope.newAccount,channel_type:channel_type,screen_name:$rootScope.newAccount})}else{gplus=JSON.parse($window.localStorage.gplus);gplus.push({user_id:"GPlus"+$rootScope.newAccount,channel_type:channel_type,screen_name:$rootScope.newAccount})}$window.localStorage.gplus=JSON.stringify(gplus);$rootScope.gplus=gplus;$window.localStorage.temp=JSON.stringify(GPlus_data);$rootScope.$digest();$window.location.reload()};this.gplusCallback=function(resp){debugger;var GPlusData=[];var GPlus_data=[];angular.forEach(resp.items,function(value,key){if(GPlusData.length<101){if(value.object.attachments!=""){var location;if(value.location!=undefined)location=value.location.address.formatted;var updated=value.updated;$rootScope.newAccount=resp.items[0].actor.displayName;angular.forEach(value.object.attachments,function(data,key){if(data.objectType=="video"){var request=gapi.client.plus.activities.get({activityId:value.id});request.execute(function(resp){})}if(data.objectType=="photo"){GPlus_data.push({type:"gplus",media_type:data.objectType,media_url:data.fullImage.url,id:"GPlus"+$rootScope.newAccount,created_at:updated,location:location})}else if(data.objectType=="article"&&data.fullImage!=undefined){GPlus_data.push({type:"gplus",media_type:data.objectType,media_url:data.fullImage.url,id:"GPlus"+$rootScope.newAccount,created_at:updated,location:location})}else if(data.objectType=="video"){GPlus_data.push({type:"gplus",media_type:data.objectType,media_url:"",indirect_link:data.url,id:"GPlus"+$rootScope.newAccount,created_at:updated,location:location})}})}}});var video_data=GPlus_data.filter(function(el){if(el.media_type=="video")return el});if(video_data.length){var that=_this;var temmp=GPlus_data;$http.post("api/story_media_google_plus",{media:video_data}).then(function successCallback(response){for(var i=0;i<temmp.length;i++){response.data.data.map(function(el){if(el.id==temmp[i].indirect_link){temmp[i].media_url=el.link}})}that.outputResponse(temmp)},function errorCallback(response){that.outputResponse(GPlus_data)})}else{_this.outputResponse(GPlus_data)}$window.location.reload()};this.outputResponse=function(GPlus_data){$window.localStorage.temp=JSON.stringify(GPlus_data);var gplus=[];if($window.localStorage.gplus==undefined||$window.localStorage.gplus==""){gplus.push({user_id:"GPlus"+$rootScope.newAccount,channel_type:"Account",screen_name:$rootScope.newAccount})}else{gplus=JSON.parse($window.localStorage.gplus);gplus.push({user_id:"GPlus"+$rootScope.newAccount,channel_type:"Account",screen_name:$rootScope.newAccount})}$window.localStorage.gplus=JSON.stringify(gplus);$rootScope.gplus=gplus;$rootScope.newStory=$rootScope.newStory;$window.location.reload()};this.createPicker=function(){if(pickerApiLoaded&&oauthToken){var view=new google.picker.View(google.picker.ViewId.DOCS);view.setMimeTypes("image/png,image/jpeg,image/jpg,video/mp4");var picker=(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.NAV_HIDDEN).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setAppId(appId).setOAuthToken(oauthToken).addView(view).addView(new google.picker.DocsUploadView).setDeveloperKey(developerKey).setCallback(_this.pickerCallback).build();picker.setVisible(true)}};this.pickerCallback=function(data){if(data.action==google.picker.Action.PICKED){var newAccount=_this.newAccount;var supertemp=[];gapi.client.load("drive","v2",function(){data.docs.forEach(function(item){var request=gapi.client.drive.files.get({fileId:item.id});request.execute(function(resp){$rootScope.newStory=JSON.parse($window.localStorage.newStory);var data={url:resp.webContentLink,story_id:$rootScope.newStory.id,access_token:$rootScope.google_aacess_t};$http.post($rootScope.apiUrl+"api/story_gmedia_upload",data).then(function successCallback(response){supertemp.push({type:"gdrive",media_type:item.type,media_url:response.data,drive_id:item.id,id:"GDrive"+newAccount,access_token:$rootScope.google_aacess_t,created_at:resp.createdDate});if(supertemp.length>0){$rootScope.gdrive_temp=supertemp;$rootScope.newStory=JSON.parse($window.localStorage.newStory);if($rootScope.newStory.media==undefined){$rootScope.newStory.media=[]}$rootScope.newStory.media=$rootScope.newStory.media.concat(supertemp);$window.localStorage.newStory=JSON.stringify($rootScope.newStory);$window.location.reload()}},function errorCallback(response){return response})})})});if($window.localStorage.gdrive==undefined||$window.localStorage.gdrive==""){var gdrive=[];gdrive.push({user_id:"GDrive"+_this.newAccount,screen_name:_this.newAccount})}else{var gdrive=JSON.parse($window.localStorage.gdrive);gdrive.push({user_id:"GDrive"+_this.newAccount,screen_name:_this.newAccount})}$window.localStorage.gdrive=JSON.stringify(gdrive);$rootScope.gdrive=gdrive}};this.gpluspostmedia=function(data){if(!$window.localStorage.gUser||!$window.localStorage.gToken){_this.gPlusLogin()}else{var UserResp=JSON.parse($window.localStorage.gUser);var access_token=$window.localStorage.gToken;var data=data.media;var headers={Authorization:"OAuth "+access_token,"Content-Type":"video/mp4"};$http.post("https://www.googleapis.com/upload/plusDomains/v1/people/"+UserResp.id+"/media/cloud",data,{headers:headers}).then(function successCallback(response){},function errorCallback(response){return response})}};this.youtubepostmedia=function(formdata){if(!$window.localStorage.gUser||!$window.localStorage.gToken){var googleLogin=function googleLogin(username){gapi.load("auth",{callback:onAuthGoogleApiLoad})};var onAuthGoogleApiLoad=function onAuthGoogleApiLoad(){window.gapi.auth.authorize({client_id:clientId,scope:scope_gPlus,prompt:"consent",display:"popup"},handleGoogleAuthResult)};var handleGoogleAuthResult=function handleGoogleAuthResult(authResult){var that=_this;if(authResult&&!authResult.error){$window.localStorage.gToken=authResult.access_token;do_upload()}};googleLogin()}else{do_upload()}function do_upload(){function createResource(properties){var resource={};var normalizedProps=properties;for(var p in properties){var value=properties[p];if(p&&p.substr(-2,2)=="[]"){var adjustedName=p.replace("[]","");if(value){normalizedProps[adjustedName]=value.split(",")}delete normalizedProps[p]}}for(var p in normalizedProps){if(normalizedProps.hasOwnProperty(p)&&normalizedProps[p]){var propArray=p.split(".");var ref=resource;for(var pa=0;pa<propArray.length;pa++){var key=propArray[pa];if(pa==propArray.length-1){ref[key]=normalizedProps[p]}else{ref=ref[key]=ref[key]||{}}}}}return resource}var metadata=createResource({"snippet.categoryId":"22","snippet.defaultLanguage":"","snippet.description":formdata.data.story_des+" "+formdata.data.pageurl,"snippet.tags[]":"","snippet.title":formdata.data.title,"status.embeddable":"","status.license":"","status.privacyStatus":"private","status.publicStatsViewable":""});var token=$window.localStorage.gToken;if(!token){alert("You need to authorize the request to proceed.");return}if(!formdata.media){alert("You need to select a file to proceed.");return}var params={part:"snippet,status"};function removeEmptyParams(params){for(var p in params){if(!params[p]||params[p]=="undefined"){delete params[p]}}return params}function executeRequest(request){request.execute(function(response){console.log(response)})}function buildApiRequest(requestMethod,path,params,properties){params=removeEmptyParams(params);var request;if(properties){var resource=createResource(properties);request=gapi.client.request({body:resource,method:requestMethod,path:path,params:params})}else{request=gapi.client.request({method:requestMethod,path:path,params:params})}executeRequest(request)}function getAccessToken(event){return GoogleAuth.currentUser.get().getAuthResponse(true).access_token}var RetryHandler=function RetryHandler(){this.interval=1e3;this.maxInterval=60*1e3};RetryHandler.prototype.retry=function(fn){setTimeout(fn,this.interval);this.interval=this.nextInterval_()};RetryHandler.prototype.reset=function(){this.interval=1e3};RetryHandler.prototype.nextInterval_=function(){var interval=this.interval*2+this.getRandomInt_(0,1e3);return Math.min(interval,this.maxInterval)};RetryHandler.prototype.getRandomInt_=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)};var MediaUploader=function MediaUploader(options){var noop=function noop(){};this.file=options.file;this.contentType=options.contentType||this.file.type||"application/octet-stream";this.metadata=options.metadata||{title:this.file.name,mimeType:this.contentType};this.token=options.token;this.onComplete=options.onComplete||noop;this.onProgress=options.onProgress||noop;this.onError=options.onError||noop;this.offset=options.offset||0;this.chunkSize=options.chunkSize||0;this.retryHandler=new RetryHandler;this.url=options.url;if(!this.url){var params=options.params||{};params.uploadType="resumable";this.url=this.buildUrl_(options.fileId,params,options.baseUrl)}this.httpMethod=options.fileId?"PUT":"POST"};MediaUploader.prototype.upload=function(){var self=this;var xhr=new XMLHttpRequest;xhr.open(this.httpMethod,this.url,true);xhr.setRequestHeader("Authorization","Bearer "+this.token);xhr.setRequestHeader("Content-Type","application/json");xhr.setRequestHeader("X-Upload-Content-Length",this.file.size);xhr.setRequestHeader("X-Upload-Content-Type",this.contentType);xhr.onload=function(e){if(e.target.status<400){var location=e.target.getResponseHeader("Location");this.url=location;this.sendFile_()}else{this.onUploadError_(e)}}.bind(this);xhr.onerror=this.onUploadError_.bind(this);xhr.send(JSON.stringify(this.metadata))};MediaUploader.prototype.sendFile_=function(){var content=this.file;var end=this.file.size;if(this.offset||this.chunkSize){if(this.chunkSize){end=Math.min(this.offset+this.chunkSize,this.file.size)}content=content.slice(this.offset,end)}var xhr=new XMLHttpRequest;xhr.open("PUT",this.url,true);xhr.setRequestHeader("Content-Type",this.contentType);xhr.setRequestHeader("Content-Range","bytes "+this.offset+"-"+(end-1)+"/"+this.file.size);xhr.setRequestHeader("X-Upload-Content-Type",this.file.type);if(xhr.upload){xhr.upload.addEventListener("progress",this.onProgress)}xhr.onload=this.onContentUploadSuccess_.bind(this);xhr.onerror=this.onContentUploadError_.bind(this);xhr.send(content)};MediaUploader.prototype.resume_=function(){var xhr=new XMLHttpRequest;xhr.open("PUT",this.url,true);xhr.setRequestHeader("Content-Range","bytes */"+this.file.size);xhr.setRequestHeader("X-Upload-Content-Type",this.file.type);if(xhr.upload){xhr.upload.addEventListener("progress",this.onProgress)}xhr.onload=this.onContentUploadSuccess_.bind(this);xhr.onerror=this.onContentUploadError_.bind(this);xhr.send()};MediaUploader.prototype.extractRange_=function(xhr){var range=xhr.getResponseHeader("Range");if(range){this.offset=parseInt(range.match(/\d+/g).pop(),10)+1}};MediaUploader.prototype.onContentUploadSuccess_=function(e){if(e.target.status==200||e.target.status==201){this.onComplete(e.target.response)}else if(e.target.status==308){this.extractRange_(e.target);this.retryHandler.reset();this.sendFile_()}};MediaUploader.prototype.onContentUploadError_=function(e){if(e.target.status&&e.target.status<500){this.onError(e.target.response)}else{this.retryHandler.retry(this.resume_.bind(this))}};MediaUploader.prototype.onUploadError_=function(e){this.onError(e.target.response)};MediaUploader.prototype.buildQuery_=function(params){params=params||{};return Object.keys(params).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(params[key])}).join("&")};MediaUploader.prototype.buildUrl_=function(id,params,baseUrl){var url=baseUrl;if(id){url+=id}var query=this.buildQuery_(params);if(query){url+="?"+query}return url};var uploader=new MediaUploader({baseUrl:"https://www.googleapis.com/upload/youtube/v3/videos",file:formdata.media,token:token,metadata:metadata,params:params,onError:function(data){var message=data;try{var errorResponse=JSON.parse(data);message=errorResponse.error.message}finally{alert(message)}}.bind(this),onProgress:function(data){var currentTime=Date.now();console.log("Progress: "+data.loaded+" bytes loaded out of "+data.total);var totalBytes=data.total}.bind(this),onComplete:function(data){var uploadResponse=JSON.parse(data);if(formdata.data.id){$http.post($rootScope.apiUrl+"api/stories2/"+formdata.data.id,{id:formdata.data.id,youtube:uploadResponse.id}).then(function successCallback(response){notification.success({message:"video posted succesfully",positionY:"bottom",positionX:"right",delay:3e3})},function errorCallback(response){return response})}else{notification.success({message:"Video posted succesfully",positionY:"bottom",positionX:"right",delay:3e3})}}.bind(this)});uploader.upload()}};this.youtubeStats=function(data){var deferred=$q.defer();if(!$window.localStorage.gUser||!$window.localStorage.gToken){var googleLogin=function googleLogin(username){gapi.load("auth",{callback:onAuthGoogleApiLoad})};var onAuthGoogleApiLoad=function onAuthGoogleApiLoad(){window.gapi.auth.authorize({client_id:clientId,scope:scope_gPlus,prompt:"consent",display:"popup"},handleGoogleAuthResult)};var handleGoogleAuthResult=function handleGoogleAuthResult(authResult){var that=_this;if(authResult&&!authResult.error){$window.localStorage.gToken=authResult.access_token;defineRequest()}};googleLogin()}else{defineRequest()}function createResource(properties){var resource={};var normalizedProps=properties;for(var p in properties){var value=properties[p];if(p&&p.substr(-2,2)=="[]"){var adjustedName=p.replace("[]","");if(value){normalizedProps[adjustedName]=value.split(",")}delete normalizedProps[p]}}for(var p in normalizedProps){if(normalizedProps.hasOwnProperty(p)&&normalizedProps[p]){var propArray=p.split(".");var ref=resource;for(var pa=0;pa<propArray.length;pa++){var key=propArray[pa];if(pa==propArray.length-1){ref[key]=normalizedProps[p]}else{ref=ref[key]=ref[key]||{}}}}}return resource}function removeEmptyParams(params){for(var p in params){if(!params[p]||params[p]=="undefined"){delete params[p]}}return params}function buildApiRequest(requestMethod,path,params,properties){params=removeEmptyParams(params);var request;if(properties){var resource=createResource(properties);request=gapi.client.request({body:resource,method:requestMethod,path:path,params:params})}else{gapi.load("client",{callback:function callback(){request=gapi.client.request({method:requestMethod,path:path,params:params});request.execute(function(response){console.log(response);deferred.resolve(response)})}})}}function defineRequest(){buildApiRequest("GET","/youtube/v3/videos",{id:data.ids,part:"statistics"})}return deferred.promise}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=InstaService;InstaService.$inject=["$http","$rootScope","$window","Upload","$q"];function InstaService($http,$rootScope,$window,Upload,$q){this.login=function(link){var host;if(window.location.port==80||window.location.port==""){host=window.location.protocol+"//"+window.location.hostname}else{host=window.location.protocol+"//"+window.location.hostname+":"+window.location.port}window.open("https://api.instagram.com/oauth/authorize/?client_id=bda0f70c8b834b3e9fc3d7230a459b94&redirect_uri="+host+"/instagram-callback/s&response_type=token&scope=public_content","","width=600,height=500")};this.instagramRequest=function(url,token){return $http.post($rootScope.apiUrl+"api/get_curl_response",{url:url,access_token:token}).then(function(res){return res})};this.instagramRequest2=function(url){return $http.post($rootScope.apiUrl+"api/get_curl_response",{url:url}).then(function(res){return res})};this.searchHashtag=function(keyword){var url="https://api.instagram.com/v1/tags/"+keyword.keyword+"/media/recent?access_token=5809862739.3a81a9f.7b5023c32bb84e5ebe151737b241d9f7&count=150";return $http.post($rootScope.apiUrl+"api/get_curl_response_insta",{url:url}).then(function(res){return res})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=LocalStorageService;LocalStorageService.$inject=["$http","$rootScope","$window","Upload"];function LocalStorageService($http,$rootScope,$window,Upload){this.get_localStorage=function(story_id){return $http.get($rootScope.apiUrl+"api/story_media/"+story_id+"/limit/50/offset/0").then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=MediaService;MediaService.$inject=["$http","$rootScope","$window","Upload"];function MediaService($http,$rootScope,$window,Upload){this.upload_media=function(files,formdata){return Upload.upload({url:$rootScope.apiUrl+"api/events",data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=OAuthService;OAuthService.$inject=["$http","$rootScope","$window","Upload"];function OAuthService($http,$rootScope,$window,Upload){var _this=this;this.tw_access_token=function(httpMethod,baseUrl,reqParams){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken="892095854194065409-qNH4NFKdXQul3QatLfFtVm7y0CFt0vf",keys.accessTokenSecret="9el0sAgjLDJGTyNja5j94xkkp5vRnMGJ8k74vsStsOx4v";var Authorization=_this.getAuthorization(httpMethod,baseUrl,reqParams,keys);return $http.post($rootScope.apiUrl+"api/gettoken",{Authorization:Authorization}).then(function successCallback(response){return response},function errorCallback(response){console.log("response");return response})};this.accessToken=function(accessToken,accessTokenSecret,oauth_verifier){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=accessToken,keys.accessTokenSecret=accessTokenSecret;var Authorization=_this.getAuthorization("POST","https://api.twitter.com/oauth/access_token","",keys);return $http.post($rootScope.apiUrl+"api/twitterImport",{Authorization:Authorization,oauth_verifier:oauth_verifier}).then(function successCallback(response){return response},function errorCallback(response){console.log("response");return response})};this.getdata=function(twitter){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=twitter["oauth_token"],keys.accessTokenSecret=twitter["oauth_token_secret"];var Authorization=_this.getAuthorization("GET","https://api.twitter.com/1.1/statuses/user_timeline.json",{screen_name:twitter["screen_name"],count:100},keys);return $http.post($rootScope.apiUrl+"api/twitterImport1",{Authorization:Authorization,oauth_verifier:twitter["oauth_verifier"],screen_name:twitter["screen_name"]}).then(function successCallback(response){return response},function errorCallback(response){console.log("response");return response})};this.keywordSearch=function(keyword){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken="892095854194065409-qNH4NFKdXQul3QatLfFtVm7y0CFt0vf",keys.accessTokenSecret="9el0sAgjLDJGTyNja5j94xkkp5vRnMGJ8k74vsStsOx4v";var Authorization=_this.getAuthorization("GET","https://api.twitter.com/1.1/search/tweets.json",{q:keyword+"%20filter%3Amedia",count:200,tweet_mode:"extended",include_entities:true},keys);return $http.post($rootScope.apiUrl+"api/twitterKeyword",{Authorization:Authorization,keyword:keyword}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.keywordReSearch=function(keyword,max_id){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken="892095854194065409-qNH4NFKdXQul3QatLfFtVm7y0CFt0vf",keys.accessTokenSecret="9el0sAgjLDJGTyNja5j94xkkp5vRnMGJ8k74vsStsOx4v";var Authorization=_this.getAuthorization("GET","https://api.twitter.com/1.1/search/tweets.json",{q:keyword+"%20filter%3Amedia",count:100,tweet_mode:"extended",include_entities:1,result_type:"recent",max_id:max_id},keys);return $http.post($rootScope.apiUrl+"api/twitterKeyword1",{Authorization:Authorization,keyword:keyword,max_id:max_id}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getAuthorization=function(httpMethod,baseUrl,reqParams,keys){var consumerKey=keys.consumerKey,consumerSecret=keys.consumerSecret,accessToken=keys.accessToken,accessTokenSecret=keys.accessTokenSecret;var timestamp=Math.round(Date.now()/1e3);var nonce=btoa(consumerKey+":"+timestamp);var baseString=_this.oAuthBaseString(httpMethod,baseUrl,reqParams,consumerKey,accessToken,timestamp,nonce);var signingKey=_this.oAuthSigningKey(consumerSecret,accessTokenSecret);var signature=_this.oAuthSignature(baseString,signingKey);var auth="OAuth "+'oauth_consumer_key="'+consumerKey+'", '+'oauth_nonce="'+nonce+'", '+'oauth_signature="'+signature+'", '+'oauth_signature_method="HMAC-SHA1", '+'oauth_timestamp="'+timestamp+'", '+'oauth_token="'+accessToken+'", '+'oauth_version="1.0"';return auth};this.getAuthorization1=function(httpMethod,baseUrl,reqParams,keys){var consumerKey=keys.consumerKey,consumerSecret=keys.consumerSecret,accessToken=keys.accessToken,accessTokenSecret=keys.accessTokenSecret;var timestamp=Math.round(Date.now()/1e3);var nonce=btoa(consumerKey+":"+timestamp);var baseString=_this.oAuthBaseString(httpMethod,baseUrl,reqParams,consumerKey,accessToken,timestamp,nonce);var signingKey=_this.oAuthSigningKey(consumerSecret,accessTokenSecret);var signature=_this.oAuthSignature(baseString,signingKey);var auth="OAuth "+'oauth_consumer_key="'+consumerKey+'", '+'oauth_nonce="'+nonce+'", '+'oauth_signature="'+signature+'", '+'oauth_signature_method="HMAC-SHA1", '+'oauth_timestamp="'+timestamp+'", '+'oauth_token="'+accessToken+'", '+'oauth_version="1.0"';return auth};this.oAuthBaseString=function(method,url,params,key,token,timestamp,nonce){return method+"&"+_this.percentEncode(url)+"&"+_this.percentEncode(_this.genSortedParamStr(params,key,token,timestamp,nonce))};this.oAuthSigningKey=function(consumer_secret,token_secret){return consumer_secret+"&"+token_secret};this.oAuthSignature=function(base_string,signing_key){var signature=_this.hmac_sha1(base_string,signing_key);return _this.percentEncode(signature)};this.percentEncode=function(str){return encodeURIComponent(str).replace(/[!*()']/g,function(character){return"%"+character.charCodeAt(0).toString(16)})};var jsSHA=__webpack_require__(44);this.hmac_sha1=function(string,secret){var shaObj=new jsSHA("SHA-1","TEXT");shaObj.setHMACKey(secret,"TEXT");shaObj.update(string);var hmac=shaObj.getHMAC("B64");return hmac};this.mergeObjs=function(obj1,obj2){for(var attr in obj2){obj1[attr]=obj2[attr]}return obj1};this.genSortedParamStr=function(params,key,token,timestamp,nonce){var paramObj=void 0;if(params!=""){paramObj=_this.mergeObjs({oauth_consumer_key:key,oauth_nonce:nonce,oauth_signature_method:"HMAC-SHA1",oauth_timestamp:timestamp,oauth_token:token,oauth_version:"1.0"},params)}else{paramObj=_this.mergeObjs({oauth_consumer_key:key,oauth_nonce:nonce,oauth_signature_method:"HMAC-SHA1",oauth_timestamp:timestamp,oauth_token:token,oauth_version:"1.0"})}var paramObjKeys=Object.keys(paramObj);var len=paramObjKeys.length;paramObjKeys.sort();var paramStr=paramObjKeys[0]+"="+paramObj[paramObjKeys[0]];for(var i=1;i<len;i++){console.log(paramObjKeys[i]);paramStr+="&"+paramObjKeys[i]+"="+_this.percentEncode(decodeURIComponent(paramObj[paramObjKeys[i]]))}return paramStr};this.instagramLogin=function(username){return $http.get("https://api.instagram.com/oauth/authorize/?client_id=bda0f70c8b834b3e9fc3d7230a459b94&redirect_uri=http://localhost&response_type=token&_method=GET").then(function successCallback(response){return response},function errorCallback(response){console.log("response");return response})};this.postVideoInit=function(data){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=data.oauth_token;keys.accessTokenSecret=data.oauth_secret;var Authorization=_this.getAuthorization1("POST","https://upload.twitter.com/1.1/media/upload.json",{command:"INIT",total_bytes:data.size,media_type:"video/mp4"},keys);var url="https://upload.twitter.com/1.1/media/upload.json";return $http.post($rootScope.apiUrl+"api/post_curl_response",{Authorization:Authorization,url:url,post_data:"command=INIT&total_bytes="+data.size+"&media_type=video%2Fmp4",command:"init"}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.postVideoAppend=function(data){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=data.oauth_token;keys.accessTokenSecret=data.oauth_secret;var url="https://upload.twitter.com/1.1/media/upload.json";var test=encodeURI("PCFkb2N0eXBlIGh0bWw+CjxodG1s");test=test.replace(/\+/g,"%2B");var base64_chunk=$window.btoa(data.media);base64_chunk=_this.percentEncode(base64_chunk);var Authorization=_this.getAuthorization1("POST","https://upload.twitter.com/1.1/media/upload.json",{command:"APPEND",media_id:data.media_id,media_type:"video/mp4",media:base64_chunk,segment_index:data.segment},keys);return $http.post($rootScope.apiUrl+"api/post_curl_response",{Authorization:Authorization,url:url,post_data:"command=APPEND&media_id="+data.media_id+"&media_type=video%2Fmp4&media="+base64_chunk+"&segment_index="+data.segment,command:"append"}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.postVideoStatus=function(data){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=data.oauth_token;keys.accessTokenSecret=data.oauth_secret;var url="https://upload.twitter.com/1.1/media/upload.json?command=STATUS&media_id="+data.media_id;var Authorization=_this.getAuthorization("GET","https://upload.twitter.com/1.1/media/upload.json",{command:"STATUS",media_id:data.media_id},keys);return $http.post($rootScope.apiUrl+"api/getCurlResponseTwit",{Authorization:Authorization,url:url}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.postVideoFinalize=function(data){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=data.oauth_token;keys.accessTokenSecret=data.oauth_secret;var url="https://upload.twitter.com/1.1/media/upload.json";var Authorization=_this.getAuthorization1("POST","https://upload.twitter.com/1.1/media/upload.json",{command:"FINALIZE",media_id:data.media_id},keys);return $http.post($rootScope.apiUrl+"api/post_curl_response",{Authorization:Authorization,url:url,post_data:"command=FINALIZE&media_id="+data.media_id,command:"finailize"}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.createVideoPost=function(data){var keys={};keys.consumerKey="JhuPb38KHgYgUSbMXBB8rmpUD",keys.consumerSecret="Dj33EcXZEHHqgLOe27hj0t5gQKVtnt5gx9PbhIep1C7bi7lIqU",keys.accessToken=data.oauth_token;keys.accessTokenSecret=data.oauth_secret;var url="https://api.twitter.com/1.1/statuses/update.json";var status=data.title;if(data.pageurl){status+="  "+data.pageurl}var Authorization=_this.getAuthorization1("POST","https://api.twitter.com/1.1/statuses/update.json",{status:status,media_ids:data.media_id},keys);return $http.post($rootScope.apiUrl+"api/post_curl_response",{Authorization:Authorization,url:url,post_data:"status="+encodeURIComponent(status)+"&media_ids="+data.media_id}).then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PunditService;PunditService.$inject=["$http","$rootScope","Upload"];function PunditService($http,$rootScope,Upload){this.formdata={story_id:undefined,audio:undefined,video_title:"sdf",video_name:"sadfas"};this.getOriginalVideo=function(id){return $http.get($rootScope.apiUrl+"api/stories/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.addView=function(story_id,pundit_id){if(pundit_id){var url=$rootScope.apiUrl+"api/storyview/"+story_id+"/"+pundit_id}else{var url=$rootScope.apiUrl+"api/storyview/"+story_id}return $http.get(url).then(function successCallback(response){return response},function errorCallback(response){return response})};this.addShare=function(story_id,pundit_id){if(pundit_id){var url=$rootScope.apiUrl+"api/storyshare/"+story_id+"/"+pundit_id}else{var url=$rootScope.apiUrl+"api/storyshare/"+story_id}return $http.get(url).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getSuggestedVideo=function(story_id,storyOptions){return $http.post($rootScope.apiUrl+"api/pundit_published_story/"+story_id,storyOptions).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getPopularVideo=function(storyOptions){return $http.post($rootScope.apiUrl+"api/popularVideo",storyOptions).then(function successCallback(response){return response},function errorCallback(response){return response})};this.publishPunditVideo=function(formdata){return $http.post($rootScope.apiUrl+"api/pundit_video_publish",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.publishPunditVideoLoggedUser=function(formdata){return $http.post($rootScope.apiUrl+"api/pundit_video_publish_logged_user",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.punditRegister=function(){return $http.get($rootScope.apiUrl+"api/pundit_published_story/"+story_id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.createPreview=function(formdata){return Upload.upload({url:$rootScope.apiUrl+"api/pundit_add_audio_on_video",data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.punditActivation=function(formdata){return $http.post($rootScope.apiUrl+"api/pundit_activate_account",formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getPunditVideo=function(story_id,pundit_story_id){return $http.get($rootScope.apiUrl+"api/pundit_published_story/"+story_id+"/"+pundit_story_id).then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=ShareService;ShareService.$inject=["$http"];function ShareService($http){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=StroyService;StroyService.$inject=["$http","$rootScope","$window","Upload"];function StroyService($http,$rootScope,$window,Upload){this.createStory=function(files,formdata){return Upload.upload({url:$rootScope.apiUrl+"api/stories",data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.getAllStroy=function(){var formdata=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;var url="api/stories/"+formdata.event_id+"/allstories";if(formdata!=undefined&&formdata.limit)url+="?limit="+formdata.limit;if(formdata!=undefined&&formdata.offset!=undefined)url+="&offset="+formdata.offset;if(formdata!=undefined&&formdata.offset!=undefined)url+="&event_id="+formdata.event_id;return $http.get($rootScope.apiUrl+url).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getStroy=function(id){return $http.get($rootScope.apiUrl+"api/stories/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.deleteStory=function(id){return $http.delete($rootScope.apiUrl+"api/stories/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.getDeleteMsg=function(){return $http.get($rootScope.apiUrl+"api/stories/confirmationmessage/delete").then(function successCallback(response){return response},function errorCallback(response){return response})};this.updateStroy=function(files,formdata){return Upload.upload({url:$rootScope.apiUrl+"api/stories/"+formdata.id,data:formdata}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.updateStroy2=function(formdata){return $http.post($rootScope.apiUrl+"api/stories2/"+formdata.id,formdata).then(function successCallback(response){return response},function errorCallback(response){return response})};this.searchStory=function(search,event){return $http.get($rootScope.apiUrl+"api/event/"+event+"/stories/search/"+search).then(function successCallback(response){return response},function errorCallback(response){return response})};this.deleteSocialAccount=function(social_type,AccountId){var index=void 0;if(social_type=="Twitter"){index=$rootScope.twitter.map(function(el){return el["user_id"]}).indexOf(AccountId);if(index!=-1){$rootScope.twitter.splice(index,1);$window.localStorage.twitter=JSON.stringify($rootScope.twitter)}}else if(social_type=="Dropbox"){var _index=$rootScope.dropbox.map(function(el){return el["user_id"]}).indexOf(AccountId);if(_index!=-1){$rootScope.dropbox.splice(_index,1);$window.localStorage.dropbox=JSON.stringify($rootScope.dropbox)}}else if(social_type=="Google Drive"){var _index2=$rootScope.gdrive.map(function(el){return el["user_id"]}).indexOf(AccountId);if(_index2!=-1){$rootScope.gdrive.splice(_index2,1);$window.localStorage.gdrive=JSON.stringify($rootScope.gdrive)}}else if(social_type=="Google"){var _index3=$rootScope.gplus.map(function(el){return el["user_id"]}).indexOf(AccountId);if(_index3!=-1){$rootScope.gplus.splice(_index3,1);$window.localStorage.gplus=JSON.stringify($rootScope.gplus)}}else if(social_type=="Facebook"){var _index4=$rootScope.facebook.map(function(el){return el["user_id"]}).indexOf(AccountId);if(_index4!=-1){$rootScope.facebook.splice(_index4,1);$window.localStorage.facebook=JSON.stringify($rootScope.facebook)}}else if(social_type=="Instagram"){var _index5=$rootScope.instagram.map(function(el){return el["user_id"]}).indexOf(AccountId);if(_index5!=-1){$rootScope.instagram.splice(_index5,1);$window.localStorage.instagram=JSON.stringify($rootScope.instagram)}}if(index!=-1){$rootScope.newStory.media=$rootScope.newStory.media.filter(function(item){return item.id!=AccountId});$window.localStorage.newStory=JSON.stringify($rootScope.newStory)}$rootScope.deleteAccount=false};this.uploadSound=function(data,id){var formdata={audio:data,story_id:1};return Upload.upload({url:$rootScope.apiUrl+"api/story_audio/",data:formdata}).then(function(resp){return resp},function(resp){return resp})};this.getAudioList=function(id){return $http.get($rootScope.apiUrl+"api/get_story_audio/"+id).then(function successCallback(response){return response},function errorCallback(response){return response})};this.createPreview=function(data,storyId,sound){return $http.post("api/story_make_video",{video_array:data,story_id:storyId,sound:sound}).then(function successCallback(response){return response},function errorCallback(response){return response})};this.addAudioToVideo=function(data){return Upload.upload({url:$rootScope.apiUrl+"api/story_add_audio_on_video",data:data}).then(function(resp){return resp},function(resp){return resp},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$rootScope.progressPercentage=progressPercentage})};this.publishVideo=function(data){return $http.post("api/story_add_water_mark",data).then(function successCallback(response){return response},function errorCallback(response){return response})}}},function(module,exports,__webpack_require__){"use strict";(function(window,angular){"use strict";var module=angular.module("angular-sortable-view",[]);module.directive("svRoot",[function(){function shouldBeAfter(elem,pointer,isGrid){return isGrid?elem.x-pointer.x<0:elem.y-pointer.y<0}function getSortableElements(key){return ROOTS_MAP[key]}function removeSortableElements(key){delete ROOTS_MAP[key]}var sortingInProgress;var ROOTS_MAP=Object.create(null);return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse",function($scope,$attrs,$interpolate,$parse){var mapKey=$interpolate($attrs.svRoot)($scope)||$scope.$id;if(!ROOTS_MAP[mapKey])ROOTS_MAP[mapKey]=[];var that=this;var candidates;var $placeholder;var options;var $helper;var $original;var $target;var isGrid=false;var onSort=$parse($attrs.svOnSort);$attrs.svOnStart=$attrs.$$element[0].attributes["sv-on-start"];$attrs.svOnStart=$attrs.svOnStart&&$attrs.svOnStart.value;$attrs.svOnStop=$attrs.$$element[0].attributes["sv-on-stop"];$attrs.svOnStop=$attrs.svOnStop&&$attrs.svOnStop.value;var onStart=$parse($attrs.svOnStart);var onStop=$parse($attrs.svOnStop);this.sortingInProgress=function(){return sortingInProgress};if($attrs.svGrid){isGrid=$attrs.svGrid==="true"?true:$attrs.svGrid==="false"?false:null;if(isGrid===null)throw"Invalid value of sv-grid attribute"}else{$scope.$watchCollection(function(){return getSortableElements(mapKey)},function(collection){isGrid=false;var array=collection.filter(function(item){return!item.container}).map(function(item){return{part:item.getPart().id,y:item.element[0].getBoundingClientRect().top}});var dict=Object.create(null);array.forEach(function(item){if(dict[item.part])dict[item.part].push(item.y);else dict[item.part]=[item.y]});Object.keys(dict).forEach(function(key){dict[key].sort();dict[key].forEach(function(item,index){if(index<dict[key].length-1){if(item>0&&item===dict[key][index+1]){isGrid=true}}})})})}this.$moveUpdate=function(opts,mouse,svElement,svOriginal,svPlaceholder,originatingPart,originatingIndex){var svRect=svElement[0].getBoundingClientRect();if(opts.tolerance==="element")mouse={x:~~(svRect.left+svRect.width/2),y:~~(svRect.top+svRect.height/2)};sortingInProgress=true;candidates=[];if(!$placeholder){if(svPlaceholder){$placeholder=svPlaceholder.clone();$placeholder.removeClass("ng-hide")}else{$placeholder=svOriginal.clone();$placeholder.addClass("sv-visibility-hidden");$placeholder.addClass("sv-placeholder");$placeholder.css({height:svRect.height+"px",width:svRect.width+"px"})}svOriginal.after($placeholder);svOriginal.addClass("ng-hide");$original=svOriginal;options=opts;$helper=svElement;onStart($scope,{$helper:{element:$helper},$part:originatingPart.model(originatingPart.scope),$index:originatingIndex,$item:originatingPart.model(originatingPart.scope)[originatingIndex]});$scope.$root&&$scope.$root.$$phase||$scope.$apply()}$helper[0].reposition({x:mouse.x+document.body.scrollLeft-mouse.offset.x*svRect.width,y:mouse.y+document.body.scrollTop-mouse.offset.y*svRect.height});getSortableElements(mapKey).forEach(function(se,index){if(opts.containment!=null){if(!elementMatchesSelector(se.element,opts.containment)&&!elementMatchesSelector(se.element,opts.containment+" *"))return}var rect=se.element[0].getBoundingClientRect();var center={x:~~(rect.left+rect.width/2),y:~~(rect.top+rect.height/2)};if(!se.container&&(se.element[0].scrollHeight||se.element[0].scrollWidth)){candidates.push({element:se.element,q:(center.x-mouse.x)*(center.x-mouse.x)+(center.y-mouse.y)*(center.y-mouse.y),view:se.getPart(),targetIndex:se.getIndex(),after:shouldBeAfter(center,mouse,isGrid)})}if(se.container&&!se.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")){candidates.push({element:se.element,q:(center.x-mouse.x)*(center.x-mouse.x)+(center.y-mouse.y)*(center.y-mouse.y),view:se.getPart(),targetIndex:0,container:true})}});var pRect=$placeholder[0].getBoundingClientRect();var pCenter={x:~~(pRect.left+pRect.width/2),y:~~(pRect.top+pRect.height/2)};candidates.push({q:(pCenter.x-mouse.x)*(pCenter.x-mouse.x)+(pCenter.y-mouse.y)*(pCenter.y-mouse.y),element:$placeholder,placeholder:true});candidates.sort(function(a,b){return a.q-b.q});candidates.forEach(function(cand,index){if(index===0&&!cand.placeholder&&!cand.container){$target=cand;cand.element.addClass("sv-candidate");if(cand.after)cand.element.after($placeholder);else insertElementBefore(cand.element,$placeholder)}else if(index===0&&cand.container){$target=cand;cand.element.append($placeholder)}else cand.element.removeClass("sv-candidate")})};this.$drop=function(originatingPart,index,options){if(!$placeholder)return;if(options.revert){var placeholderRect=$placeholder[0].getBoundingClientRect();var helperRect=$helper[0].getBoundingClientRect();var distance=Math.sqrt(Math.pow(helperRect.top-placeholderRect.top,2)+Math.pow(helperRect.left-placeholderRect.left,2));var duration=+options.revert*distance/200;duration=Math.min(duration,+options.revert);["-webkit-","-moz-","-ms-","-o-",""].forEach(function(prefix){if(typeof $helper[0].style[prefix+"transition"]!=="undefined")$helper[0].style[prefix+"transition"]="all "+duration+"ms ease"});setTimeout(afterRevert,duration);$helper.css({top:placeholderRect.top+document.body.scrollTop+"px",left:placeholderRect.left+document.body.scrollLeft+"px"})}else afterRevert();function afterRevert(){sortingInProgress=false;$placeholder.remove();$helper.remove();$original.removeClass("ng-hide");candidates=void 0;$placeholder=void 0;options=void 0;$helper=void 0;$original=void 0;onStop($scope,{$part:originatingPart.model(originatingPart.scope),$index:index,$item:originatingPart.model(originatingPart.scope)[index]});if($target){$target.element.removeClass("sv-candidate");var spliced=originatingPart.model(originatingPart.scope).splice(index,1);var targetIndex=$target.targetIndex;if($target.view===originatingPart&&$target.targetIndex>index)targetIndex--;if($target.after)targetIndex++;$target.view.model($target.view.scope).splice(targetIndex,0,spliced[0]);if($target.view!==originatingPart||index!==targetIndex)onSort($scope,{$partTo:$target.view.model($target.view.scope),$partFrom:originatingPart.model(originatingPart.scope),$item:spliced[0],$indexTo:targetIndex,$indexFrom:index})}$target=void 0;$scope.$root&&$scope.$root.$$phase||$scope.$apply()}};this.addToSortableElements=function(se){getSortableElements(mapKey).push(se)};this.removeFromSortableElements=function(se){var elems=getSortableElements(mapKey);var index=elems.indexOf(se);if(index>-1){elems.splice(index,1);if(elems.length===0)removeSortableElements(mapKey)}}}]}}]);module.directive("svPart",["$parse",function($parse){return{restrict:"A",require:"^svRoot",controller:["$scope",function($scope){$scope.$ctrl=this;this.getPart=function(){return $scope.part};this.$drop=function(index,options){$scope.$sortableRoot.$drop($scope.part,index,options)}}],scope:true,link:function link($scope,$element,$attrs,$sortable){if(!$attrs.svPart)throw new Error("no model provided");var model=$parse($attrs.svPart);if(!model.assign)throw new Error("model not assignable");$scope.part={id:$scope.$id,element:$element,model:model,scope:$scope};$scope.$sortableRoot=$sortable;var sortablePart={element:$element,getPart:$scope.$ctrl.getPart,container:true};$sortable.addToSortableElements(sortablePart);$scope.$on("$destroy",function(){$sortable.removeFromSortableElements(sortablePart)})}}}]);module.directive("svElement",["$parse",function($parse){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function($scope){$scope.$ctrl=this}],link:function link($scope,$element,$attrs,$controllers){var sortableElement={element:$element,getPart:$controllers[0].getPart,getIndex:function getIndex(){return $scope.$index}};$controllers[1].addToSortableElements(sortableElement);$scope.$on("$destroy",function(){$controllers[1].removeFromSortableElements(sortableElement)});var handle=$element;handle.on("mousedown touchstart",onMousedown);$scope.$watch("$ctrl.handle",function(customHandle){if(customHandle){handle.off("mousedown touchstart",onMousedown);handle=customHandle;handle.on("mousedown touchstart",onMousedown)}});var helper;$scope.$watch("$ctrl.helper",function(customHelper){if(customHelper){helper=customHelper}});var placeholder;$scope.$watch("$ctrl.placeholder",function(customPlaceholder){if(customPlaceholder){placeholder=customPlaceholder}});var body=angular.element(document.body);var html=angular.element(document.documentElement);var moveExecuted;function onMousedown(e){touchFix(e);if($controllers[1].sortingInProgress())return;if(e.button!=0&&e.type==="mousedown")return;moveExecuted=false;var opts=$parse($attrs.svElement)($scope);opts=angular.extend({},{tolerance:"pointer",revert:200,containment:"html"},opts);if(opts.containment){var containmentRect=closestElement.call($element,opts.containment)[0].getBoundingClientRect()}var target=$element;var clientRect=$element[0].getBoundingClientRect();var clone;if(!helper)helper=$controllers[0].helper;if(!placeholder)placeholder=$controllers[0].placeholder;if(helper){clone=helper.clone();clone.removeClass("ng-hide");clone.css({left:clientRect.left+document.body.scrollLeft+"px",top:clientRect.top+document.body.scrollTop+"px"});target.addClass("sv-visibility-hidden")}else{clone=target.clone();clone.addClass("sv-helper").css({left:clientRect.left+document.body.scrollLeft+"px",top:clientRect.top+document.body.scrollTop+"px",width:clientRect.width+"px"})}clone[0].reposition=function(coords){var targetLeft=coords.x;var targetTop=coords.y;var helperRect=clone[0].getBoundingClientRect();var body=document.body;if(containmentRect){if(targetTop<containmentRect.top+body.scrollTop)targetTop=containmentRect.top+body.scrollTop;if(targetTop+helperRect.height>containmentRect.top+body.scrollTop+containmentRect.height)targetTop=containmentRect.top+body.scrollTop+containmentRect.height-helperRect.height;if(targetLeft<containmentRect.left+body.scrollLeft)targetLeft=containmentRect.left+body.scrollLeft;if(targetLeft+helperRect.width>containmentRect.left+body.scrollLeft+containmentRect.width)targetLeft=containmentRect.left+body.scrollLeft+containmentRect.width-helperRect.width}this.style.left=targetLeft-body.scrollLeft+"px";this.style.top=targetTop-body.scrollTop+"px"};var pointerOffset={x:(e.clientX-clientRect.left)/clientRect.width,y:(e.clientY-clientRect.top)/clientRect.height};html.addClass("sv-sorting-in-progress");html.on("mousemove touchmove",onMousemove).on("mouseup touchend touchcancel",function mouseup(e){html.off("mousemove touchmove",onMousemove);html.off("mouseup touchend touchcancel",mouseup);html.removeClass("sv-sorting-in-progress");if(moveExecuted){$controllers[0].$drop($scope.$index,opts)}$element.removeClass("sv-visibility-hidden")});function onMousemove(e){touchFix(e);if(!moveExecuted){$element.parent().prepend(clone);moveExecuted=true}$controllers[1].$moveUpdate(opts,{x:e.clientX,y:e.clientY,offset:pointerOffset},clone,$element,placeholder,$controllers[0].getPart(),$scope.$index)}}}}}]);module.directive("svHandle",function(){return{require:"?^svElement",link:function link($scope,$element,$attrs,$ctrl){if($ctrl)$ctrl.handle=$element.add($ctrl.handle)}}});module.directive("svHelper",function(){return{require:["?^svPart","?^svElement"],link:function link($scope,$element,$attrs,$ctrl){$element.addClass("sv-helper").addClass("ng-hide");if($ctrl[1])$ctrl[1].helper=$element;else if($ctrl[0])$ctrl[0].helper=$element}}});module.directive("svPlaceholder",function(){return{require:["?^svPart","?^svElement"],link:function link($scope,$element,$attrs,$ctrl){$element.addClass("sv-placeholder").addClass("ng-hide");if($ctrl[1])$ctrl[1].placeholder=$element;else if($ctrl[0])$ctrl[0].placeholder=$element}}});angular.element(document.head).append(["<style>"+".sv-helper{"+"position: fixed !important;"+"z-index: 99999;"+"margin: 0 !important;"+"}"+".sv-candidate{"+"}"+".sv-placeholder{"+"}"+".sv-sorting-in-progress{"+"-webkit-user-select: none;"+"-moz-user-select: none;"+"-ms-user-select: none;"+"user-select: none;"+"}"+".sv-visibility-hidden{"+"visibility: hidden !important;"+"opacity: 0 !important;"+"}"+"</style>"].join(""));function touchFix(e){if(!("clientX"in e)&&!("clientY"in e)){var touches=e.touches||e.originalEvent.touches;if(touches&&touches.length){e.clientX=touches[0].clientX;e.clientY=touches[0].clientY}e.preventDefault()}}function getPreviousSibling(element){element=element[0];if(element.previousElementSibling)return angular.element(element.previousElementSibling);else{var sib=element.previousSibling;while(sib!=null&&sib.nodeType!=1){sib=sib.previousSibling}return angular.element(sib)}}function insertElementBefore(element,newElement){var prevSibl=getPreviousSibling(element);if(prevSibl.length>0){prevSibl.after(newElement)}else{element.parent().prepend(newElement)}}var dde=document.documentElement,matchingFunction=dde.matches?"matches":dde.matchesSelector?"matchesSelector":dde.webkitMatches?"webkitMatches":dde.webkitMatchesSelector?"webkitMatchesSelector":dde.msMatches?"msMatches":dde.msMatchesSelector?"msMatchesSelector":dde.mozMatches?"mozMatches":dde.mozMatchesSelector?"mozMatchesSelector":null;if(matchingFunction==null)throw"This browser doesn't support the HTMLElement.matches method";function elementMatchesSelector(element,selector){if(element instanceof angular.element)element=element[0];if(matchingFunction!==null)return element[matchingFunction](selector)}var closestElement=angular.element.prototype.closest||function(selector){var el=this[0].parentNode;while(el!==document.documentElement&&!el[matchingFunction](selector)){el=el.parentNode}if(el[matchingFunction](selector))return angular.element(el);else return angular.element()};if(typeof angular.element.prototype.add!=="function"){angular.element.prototype.add=function(elem){var i,res=angular.element();elem=angular.element(elem);for(i=0;i<this.length;i++){res.push(this[i])}for(i=0;i<elem.length;i++){res.push(elem[i])}return res}}})(window,window.angular)},function(module,exports,__webpack_require__){"use strict";(function(jQuery){var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b){if(void 0!==a.style[c])return{end:b[c]}}return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function e(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function handle(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function d(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function c(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function c(b,_c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=_c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function e(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function d(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function h(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function e(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function g(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function c(b,_c2){this.options=_c2,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function g(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function c(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState){if(this.inState[a])return!0}return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function q(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function using(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function c(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==(typeof c==="undefined"?"undefined":_typeof(c))&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;){g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])}},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function c(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function e(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==(typeof b==="undefined"?"undefined":_typeof(b))&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function c(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=(typeof d==="undefined"?"undefined":_typeof(d))&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(i){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=i,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else if("object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports){var t=require("jquery");i(t),module.exports=t}else i(jQuery)}(function(i){function t(i){this.init(i)}t.prototype={value:0,size:135,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:t,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function init(t){i.extend(this,t),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function initWidget(){this.canvas||(this.canvas=i("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var t=this.canvas;if(t.width=this.size,t.height=this.size,this.ctx=t.getContext("2d"),window.devicePixelRatio>1){var e=window.devicePixelRatio;t.style.width=t.style.height=this.size+"px",t.width=t.height=this.size*e,this.ctx.scale(e,e)}},initFill:function initFill(){function t(){var t=i("<canvas>")[0];t.width=e.size,t.height=e.size,t.getContext("2d").drawImage(g,0,0,r,r),e.arcFill=e.ctx.createPattern(t,"no-repeat"),e.drawFrame(e.lastFrameValue)}var e=this,a=this.fill,n=this.ctx,r=this.size;if(!a)throw Error("The fill is not specified!");if("string"==typeof a&&(a={color:a}),a.color&&(this.arcFill=a.color),a.gradient){var s=a.gradient;if(1==s.length)this.arcFill=s[0];else if(s.length>1){for(var l=a.gradientAngle||0,o=a.gradientDirection||[r/2*(1-Math.cos(l)),r/2*(1+Math.sin(l)),r/2*(1+Math.cos(l)),r/2*(1-Math.sin(l))],h=n.createLinearGradient.apply(n,o),c=0;c<s.length;c++){var d=s[c],u=c/(s.length-1);i.isArray(d)&&(u=d[1],d=d[0]),h.addColorStop(u,d)}this.arcFill=h}}if(a.image){var g;a.image instanceof Image?g=a.image:(g=new Image,g.src=a.image),g.complete?t():g.onload=t}},draw:function draw(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function drawFrame(i){this.lastFrameValue=i,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(i),this.drawArc(i)},drawArc:function drawArc(i){if(0!==i){var t=this.ctx,e=this.radius,a=this.getThickness(),n=this.startAngle;t.save(),t.beginPath(),this.reverse?t.arc(e,e,e-a/2,n-2*Math.PI*i,n):t.arc(e,e,e-a/2,n,n+2*Math.PI*i),t.lineWidth=a,t.lineCap=this.lineCap,t.strokeStyle=this.arcFill,t.stroke(),t.restore()}},drawEmptyArc:function drawEmptyArc(i){var t=this.ctx,e=this.radius,a=this.getThickness(),n=this.startAngle;i<1&&(t.save(),t.beginPath(),i<=0?t.arc(e,e,e-a/2,0,2*Math.PI):this.reverse?t.arc(e,e,e-a/2,n,n-2*Math.PI*i):t.arc(e,e,e-a/2,n+2*Math.PI*i,n),t.lineWidth=a,t.strokeStyle=this.emptyFill,t.stroke(),t.restore())},drawAnimated:function drawAnimated(t){var e=this,a=this.el,n=i(this.canvas);n.stop(!0,!1),a.trigger("circle-animation-start"),n.css({animationProgress:0}).animate({animationProgress:1},i.extend({},this.animation,{step:function step(i){var n=e.animationStartValue*(1-i)+t*i;e.drawFrame(n),a.trigger("circle-animation-progress",[i,n])}})).promise().always(function(){a.trigger("circle-animation-end")})},getThickness:function getThickness(){return i.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function getValue(){return this.value},setValue:function setValue(i){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=i,this.draw()}},i.circleProgress={defaults:t.prototype},i.easing.circleProgressEasing=function(i,t,e,a,n){return(t/=n/2)<1?a/2*t*t*t+e:a/2*((t-=2)*t*t+2)+e},i.fn.circleProgress=function(e,a){var n="circle-progress",r=this.data(n);if("widget"==e){if(!r)throw Error('Calling "widget" method on not initialized instance is forbidden');return r.canvas}if("value"==e){if(!r)throw Error('Calling "value" method on not initialized instance is forbidden');if("undefined"==typeof a)return r.getValue();var s=arguments[1];return this.each(function(){i(this).data(n).setValue(s)})}return this.each(function(){var a=i(this),r=a.data(n),s=i.isPlainObject(e)?e:{};if(r)r.init(s);else{var l=i.extend({},a.data());"string"==typeof l.fill&&(l.fill=JSON.parse(l.fill)),"string"==typeof l.animation&&(l.animation=JSON.parse(l.animation)),s=i.extend(l,s),s.el=a,r=new t(s),a.data(n,r)}})}})},function(module,exports,__webpack_require__){"use strict";angular.module("ngDragDrop",[]).directive("uiDraggable",["$parse","$rootScope",function($parse,$rootScope){return function(scope,element,attrs){if(window.jQuery&&!window.jQuery.event.props.dataTransfer){window.jQuery.event.props.push("dataTransfer")}element.attr("draggable",false);attrs.$observe("uiDraggable",function(newValue){element.attr("draggable",newValue)});var dragData="";scope.$watch(attrs.drag,function(newValue){dragData=newValue});element.bind("dragstart",function(e){var sendData=angular.toJson(dragData);var sendChannel=attrs.dragChannel||"defaultchannel";e.dataTransfer.setData("Text",sendData);$rootScope.$broadcast("ANGULAR_DRAG_START",sendChannel)});element.bind("dragend",function(e){var sendChannel=attrs.dragChannel||"defaultchannel";$rootScope.$broadcast("ANGULAR_DRAG_END",sendChannel);if(e.dataTransfer&&e.dataTransfer.dropEffect!=="none"){if(attrs.onDropSuccess){var fn=$parse(attrs.onDropSuccess);scope.$apply(function(){fn(scope,{$event:e})})}}})}}]).directive("uiOnDrop",["$parse","$rootScope",function($parse,$rootScope){return function(scope,element,attr){var dropChannel="defaultchannel";var dragChannel="";var dragEnterClass=attr.dragEnterClass||"on-drag-enter";var dragHoverClass=attr.dragHoverClass||"on-drag-hover";function onDragOver(e){if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}e.dataTransfer.dropEffect="move";return false}function onDragEnter(e){$rootScope.$broadcast("ANGULAR_HOVER",dropChannel);element.addClass(dragHoverClass)}function onDrop(e){if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}var data=e.dataTransfer.getData("Text");data=angular.fromJson(data);var fn=$parse(attr.uiOnDrop);scope.$apply(function(){fn(scope,{$data:data,$event:e})});element.removeClass(dragEnterClass)}$rootScope.$on("ANGULAR_DRAG_START",function(event,channel){dragChannel=channel;if(dropChannel===channel){element.bind("dragover",onDragOver);element.bind("dragenter",onDragEnter);element.bind("drop",onDrop);element.addClass(dragEnterClass)}});$rootScope.$on("ANGULAR_DRAG_END",function(e,channel){dragChannel="";if(dropChannel===channel){element.unbind("dragover",onDragOver);element.unbind("dragenter",onDragEnter);element.unbind("drop",onDrop);element.removeClass(dragHoverClass);element.removeClass(dragEnterClass)}});$rootScope.$on("ANGULAR_HOVER",function(e,channel){if(dropChannel===channel){element.removeClass(dragHoverClass)}});attr.$observe("dropChannel",function(value){if(value){dropChannel=value}})}}])},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(a){true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=a,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;){a.event.fixHooks[g[--j]]=a.event.mouseHooks}var k=a.event.special.mousewheel={version:"3.1.12",setup:function setup(){if(this.addEventListener)for(var c=h.length;c;){this.addEventListener(h[--c],b,!1)}else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function teardown(){if(this.removeEventListener)for(var c=h.length;c;){this.removeEventListener(h[--c],b,!1)}else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function getLineHeight(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function getPageHeight(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function mousewheel(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function unmousewheel(a){return this.unbind("mousewheel",a)}})});!function(a){true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=a,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;){a.event.fixHooks[g[--j]]=a.event.mouseHooks}var k=a.event.special.mousewheel={version:"3.1.12",setup:function setup(){if(this.addEventListener)for(var c=h.length;c;){this.addEventListener(h[--c],b,!1)}else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function teardown(){if(this.removeEventListener)for(var c=h.length;c;){this.removeEventListener(h[--c],b,!1)}else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function getLineHeight(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function getPageHeight(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function mousewheel(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function unmousewheel(a){return this.unbind("mousewheel",a)}})});!function(e){true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"=="function"&&__webpack_require__(298),a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?__webpack_require__(253)(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function init(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=_typeof(t.mouseWheel)&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function update(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function scrollTo(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function stop(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function disable(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function destroy(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function f(){return"object"!=_typeof(e(this))||e(this).length<1?n:this},h=function h(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function m(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function p(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function g(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function v(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function x(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function _(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function w(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function S(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function b(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function C(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function y(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function B(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function T(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function k(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function M(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function O(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function I(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function D(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function E(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function W(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function A(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function L(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function z(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function P(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function H(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function U(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},F=function F(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function q(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},j=function j(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function Y(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function X(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t==="undefined"?"undefined":_typeof(t);o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function N(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function V(e,t,o){return Math.round(e/t)*t-o},Q=function Q(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){Z.call(this)})},G=function G(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function onStart(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function onUpdate(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function onComplete(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},J=function J(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function K(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function Z(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function $(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function ee(e){return!(e.which&&1!==e.which)},te=function te(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function oe(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function ae(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function ne(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)return e[t]+"Hidden"}return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=(typeof t==="undefined"?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=(typeof t==="undefined"?"undefined":_typeof(t))&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})})},function(module,exports,__webpack_require__){"use strict";(function(jQuery){(function($,document,window,navigator,undefined){"use strict";var plugin_count=0;var is_old_ie=function(){var n=navigator.userAgent,r=/msie\s\d+/i,v;if(n.search(r)>0){v=r.exec(n).toString();v=v.split(" ")[1];if(v<9){$("html").addClass("lt-ie9");return true}}return false}();if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;var slice=[].slice;if(typeof target!="function"){throw new TypeError}var args=slice.call(arguments,1),bound=function bound(){if(this instanceof bound){var F=function F(){};F.prototype=target.prototype;var self=new F;var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}else{return target.apply(that,args.concat(slice.call(arguments)))}};return bound}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(this==null){throw new TypeError('"this" is null or not defined')}var O=Object(this);var len=O.length>>>0;if(len===0){return-1}var n=+fromIndex||0;if(Math.abs(n)===Infinity){n=0}if(n>=len){return-1}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===searchElement){return k}k++}return-1}}var base_html='<span class="irs">'+'<span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>'+"</span>"+'<span class="irs-grid"></span>'+'<span class="irs-bar"></span>';var single_html='<span class="irs-bar-edge"></span>'+'<span class="irs-shadow shadow-single"></span>'+'<span class="irs-slider single"></span>';var double_html='<span class="irs-shadow shadow-from"></span>'+'<span class="irs-shadow shadow-to"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var disable_html='<span class="irs-disable-mask"></span>';var IonRangeSlider=function IonRangeSlider(input,options,plugin_count){this.VERSION="2.0.6";this.input=input;this.plugin_count=plugin_count;this.current_plugin=0;this.calc_count=0;this.old_from=0;this.old_to=0;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.is_key=false;this.is_update=false;this.is_start=true;this.is_active=false;this.is_resize=false;this.is_click=false;this.$cache={win:$(window),body:$(document.body),input:$(input),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,grid:null,grid_labels:[]};var $inp=this.$cache.input;var data={type:$inp.data("type"),min:$inp.data("min"),max:$inp.data("max"),from:$inp.data("from"),to:$inp.data("to"),step:$inp.data("step"),min_interval:$inp.data("minInterval"),max_interval:$inp.data("maxInterval"),drag_interval:$inp.data("dragInterval"),values:$inp.data("values"),from_fixed:$inp.data("fromFixed"),from_min:$inp.data("fromMin"),from_max:$inp.data("fromMax"),from_shadow:$inp.data("fromShadow"),to_fixed:$inp.data("toFixed"),to_min:$inp.data("toMin"),to_max:$inp.data("toMax"),to_shadow:$inp.data("toShadow"),prettify_enabled:$inp.data("prettifyEnabled"),prettify_separator:$inp.data("prettifySeparator"),force_edges:$inp.data("forceEdges"),keyboard:$inp.data("keyboard"),keyboard_step:$inp.data("keyboardStep"),grid:$inp.data("grid"),grid_margin:$inp.data("gridMargin"),grid_num:$inp.data("gridNum"),grid_snap:$inp.data("gridSnap"),hide_min_max:$inp.data("hideMinMax"),hide_from_to:$inp.data("hideFromTo"),prefix:$inp.data("prefix"),postfix:$inp.data("postfix"),max_postfix:$inp.data("maxPostfix"),decorate_both:$inp.data("decorateBoth"),values_separator:$inp.data("valuesSeparator"),disable:$inp.data("disable")};data.values=data.values&&data.values.split(",");options=$.extend(data,options);var val=$inp.prop("value");if(val){val=val.split(";");if(val[0]&&val[0]==+val[0]){val[0]=+val[0]}if(val[1]&&val[1]==+val[1]){val[1]=+val[1]}if(options.values&&options.values.length){data.from=val[0]&&options.values.indexOf(val[0]);data.to=val[1]&&options.values.indexOf(val[1])}else{data.from=val[0]&&+val[0];data.to=val[1]&&+val[1]}}this.options=$.extend({type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:false,keyboard_step:5,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:" — ",disable:false,onStart:null,onChange:null,onFinish:null,onUpdate:null},options);this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0};this.init()};IonRangeSlider.prototype={init:function init(is_update){this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100);this.target="base";this.toggleInput();this.append();this.setMinMax();if(is_update){this.force_redraw=true;this.calc(true);if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){this.options.onUpdate(this.result)}}else{this.force_redraw=true;this.calc(true);if(this.options.onStart&&typeof this.options.onStart==="function"){this.options.onStart(this.result)}}this.updateScene();this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},append:function append(){var container_html='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(container_html);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(base_html);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(single_html);this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(double_html);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to")}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.cont.removeClass("irs-disabled");this.$cache.input[0].disabled=false;this.bindEvents()}},appendDisableMask:function appendDisableMask(){this.$cache.cont.append(disable_html);this.$cache.cont.addClass("irs-disabled")},remove:function remove(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(is_old_ie){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function bindEvents(){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(is_old_ie){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerMove:function pointerMove(e){if(!this.dragging){return}var x=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;this.coords.x_pointer=x-this.coords.x_gap;this.calc()},pointerUp:function pointerUp(e){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}var is_function=this.options.onFinish&&typeof this.options.onFinish==="function",is_original=$.contains(this.$cache.cont[0],e.target)||this.dragging;if(is_function&&is_original){this.options.onFinish(this.result)}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;this.dragging=false;if(is_old_ie){$("*").prop("unselectable",false)}},pointerDown:function pointerDown(target,e){e.preventDefault();var x=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;if(e.button===2){return}this.current_plugin=this.plugin_count;this.target=target;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=x-this.coords.x_gap;this.calcPointer();switch(target){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.coords.p_gap_right=this.toFixed(this.coords.p_to-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}if(is_old_ie){$("*").prop("unselectable",true)}this.$cache.line.trigger("focus")},pointerClick:function pointerClick(target,e){e.preventDefault();var x=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;if(e.button===2){return}this.current_plugin=this.plugin_count;this.target=target;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(x-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function key(target,e){if(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){return}switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:e.preventDefault();this.moveByKey(true);break}return true},moveByKey:function moveByKey(right){var p=this.coords.p_pointer;if(right){p+=this.options.keyboard_step}else{p-=this.options.keyboard_step}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*p);this.is_key=true;this.calc()},setMinMax:function setMinMax(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min));this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},calc:function calc(update){if(!this.options){return}this.calc_count++;if(this.calc_count===10||update){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}}if(!this.coords.w_rs){return}this.calcPointer();this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);var real_width=100-this.coords.p_handle,real_x=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(this.target==="click"){real_x=this.toFixed(this.coords.p_pointer-this.coords.p_handle/2);this.target=this.chooseHandle(real_x)}if(real_x<0){real_x=0}else if(real_x>real_width){real_x=real_width}switch(this.target){case"base":var w=(this.options.max-this.options.min)/100,f=(this.result.from-this.options.min)/w,t=(this.result.to-this.options.min)/w;this.coords.p_single_real=this.toFixed(f);this.coords.p_from_real=this.toFixed(f);this.coords.p_to_real=this.toFixed(t);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single=this.toFixed(f-this.coords.p_handle/100*f);this.coords.p_from=this.toFixed(f-this.coords.p_handle/100*f);this.coords.p_to=this.toFixed(t-this.coords.p_handle/100*t);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.calcWithStep(real_x/real_width*100);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single=this.toFixed(this.coords.p_single_real/100*real_width);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.calcWithStep(real_x/real_width*100);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*real_width);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.calcWithStep(real_x/real_width*100);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*real_width);break;case"both":real_x=this.toFixed(real_x+this.coords.p_handle*.1);this.coords.p_from_real=this.calcWithStep((real_x-this.coords.p_gap_left)/real_width*100);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*real_width);this.coords.p_to_real=this.calcWithStep((real_x+this.coords.p_gap_right)/real_width*100);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*real_width);break}if(this.options.type==="single"){this.coords.p_bar_x=this.coords.p_handle/2;this.coords.p_bar_w=this.coords.p_single;this.result.from_percent=this.coords.p_single_real;this.result.from=this.calcReal(this.coords.p_single_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from+this.coords.p_handle/2);this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from);this.result.from_percent=this.coords.p_from_real;this.result.from=this.calcReal(this.coords.p_from_real);this.result.to_percent=this.coords.p_to_real;this.result.to=this.calcReal(this.coords.p_to_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointer:function calcPointer(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},chooseHandle:function chooseHandle(real_x){if(this.options.type==="single"){return"single"}else{var m_point=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;if(real_x>=m_point){return"to"}else{return"from"}}},calcMinMax:function calcMinMax(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function calcLabels(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single+this.coords.p_handle/2-this.labels.p_single/2;this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from+this.coords.p_handle/2-this.labels.p_from/2;this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to+this.coords.p_handle/2-this.labels.p_to/2;this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2-this.labels.p_single/2;this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)}},updateScene:function updateScene(){if(!this.options){return}this.drawHandles();this.raf_id=requestAnimationFrame(this.updateScene.bind(this))},drawHandles:function drawHandles(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.s_single[0].style.left=this.coords.p_single+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value);this.$cache.input.data("from",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from);this.$cache.input.data("from",this.result.from)}}else{this.$cache.s_from[0].style.left=this.coords.p_from+"%";this.$cache.s_to[0].style.left=this.coords.p_to+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+";"+this.result.to_value);this.$cache.input.data("from",this.result.from_value);this.$cache.input.data("to",this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+";"+this.result.to);this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}}if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change")}this.old_from=this.result.from;this.old_to=this.result.to;var is_function=this.options.onChange&&typeof this.options.onChange==="function"&&!this.is_resize;if(is_function&&!this.is_update&&!this.is_start){this.options.onChange(this.result)}var is_finish=this.options.onFinish&&typeof this.options.onFinish==="function";if(is_finish&&(this.is_key||this.is_click)){this.options.onFinish(this.result)}this.is_update=false;this.is_resize=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function drawLabels(){if(!this.options){return}var values_num=this.options.values.length,p_values=this.options.p_values,text_single,text_from,text_to;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(values_num){text_single=this.decorate(p_values[this.result.from]);this.$cache.single.html(text_single)}else{text_single=this.decorate(this._prettify(this.result.from),this.result.from);this.$cache.single.html(text_single)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(values_num){if(this.options.decorate_both){text_single=this.decorate(p_values[this.result.from]);text_single+=this.options.values_separator;text_single+=this.decorate(p_values[this.result.to])}else{text_single=this.decorate(p_values[this.result.from]+this.options.values_separator+p_values[this.result.to])}text_from=this.decorate(p_values[this.result.from]);text_to=this.decorate(p_values[this.result.to]);this.$cache.single.html(text_single);this.$cache.from.html(text_from);this.$cache.to.html(text_to)}else{if(this.options.decorate_both){text_single=this.decorate(this._prettify(this.result.from));text_single+=this.options.values_separator;text_single+=this.decorate(this._prettify(this.result.to))}else{text_single=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.from)}text_from=this.decorate(this._prettify(this.result.from),this.result.from);text_to=this.decorate(this._prettify(this.result.to),this.result.to);this.$cache.single.html(text_single);this.$cache.from.html(text_from);this.$cache.to.html(text_to)}this.calcLabels();var min=Math.min(this.labels.p_single_left,this.labels.p_from_left),single_left=this.labels.p_single_left+this.labels.p_single,to_left=this.labels.p_to_left+this.labels.p_to,max=Math.max(single_left,to_left);if(this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){this.$cache.from[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden";max=to_left}else{this.$cache.from[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";max=Math.max(single_left,to_left)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(min<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(max>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function drawShadow(){var o=this.options,c=this.$cache,is_from_min=typeof o.from_min==="number"&&!isNaN(o.from_min),is_from_max=typeof o.from_max==="number"&&!isNaN(o.from_max),is_to_min=typeof o.to_min==="number"&&!isNaN(o.to_min),is_to_max=typeof o.to_max==="number"&&!isNaN(o.to_max),from_min,from_max,to_min,to_max;if(o.type==="single"){if(o.from_shadow&&(is_from_min||is_from_max)){from_min=this.calcPercent(o.from_min||o.min);from_max=this.calcPercent(o.from_max||o.max)-from_min;from_min=this.toFixed(from_min-this.coords.p_handle/100*from_min);from_max=this.toFixed(from_max-this.coords.p_handle/100*from_max);from_min=from_min+this.coords.p_handle/2;c.shad_single[0].style.display="block";c.shad_single[0].style.left=from_min+"%";c.shad_single[0].style.width=from_max+"%"}else{c.shad_single[0].style.display="none"}}else{if(o.from_shadow&&(is_from_min||is_from_max)){from_min=this.calcPercent(o.from_min||o.min);from_max=this.calcPercent(o.from_max||o.max)-from_min;from_min=this.toFixed(from_min-this.coords.p_handle/100*from_min);from_max=this.toFixed(from_max-this.coords.p_handle/100*from_max);from_min=from_min+this.coords.p_handle/2;c.shad_from[0].style.display="block";c.shad_from[0].style.left=from_min+"%";c.shad_from[0].style.width=from_max+"%"}else{c.shad_from[0].style.display="none"}if(o.to_shadow&&(is_to_min||is_to_max)){to_min=this.calcPercent(o.to_min||o.min);to_max=this.calcPercent(o.to_max||o.max)-to_min;to_min=this.toFixed(to_min-this.coords.p_handle/100*to_min);to_max=this.toFixed(to_max-this.coords.p_handle/100*to_max);to_min=to_min+this.coords.p_handle/2;c.shad_to[0].style.display="block";c.shad_to[0].style.left=to_min+"%";c.shad_to[0].style.width=to_max+"%"}else{c.shad_to[0].style.display="none"}}},toggleInput:function toggleInput(){this.$cache.input.toggleClass("irs-hidden-input")},calcPercent:function calcPercent(num){var w=(this.options.max-this.options.min)/100,percent=(num-this.options.min)/w;return this.toFixed(percent)},calcReal:function calcReal(percent){var min=this.options.min,max=this.options.max,abs=0;if(min<0){abs=Math.abs(min);min=min+abs;max=max+abs}var number=(max-min)/100*percent+min,string=this.options.step.toString().split(".")[1];if(string){number=+number.toFixed(string.length)}else{number=number/this.options.step;number=number*this.options.step;number=+number.toFixed(0)}if(abs){number-=abs}if(number<this.options.min){number=this.options.min}else if(number>this.options.max){number=this.options.max}if(string){return+number.toFixed(string.length)}else{return this.toFixed(number)}},calcWithStep:function calcWithStep(percent){var rounded=Math.round(percent/this.coords.p_step)*this.coords.p_step;if(rounded>100){rounded=100}if(percent===100){rounded=100}return this.toFixed(rounded)},checkMinInterval:function checkMinInterval(p_current,p_next,type){var o=this.options,current,next;if(!o.min_interval){return p_current}current=this.calcReal(p_current);next=this.calcReal(p_next);if(type==="from"){if(next-current<o.min_interval){current=next-o.min_interval}}else{if(current-next<o.min_interval){current=next+o.min_interval}}return this.calcPercent(current)},checkMaxInterval:function checkMaxInterval(p_current,p_next,type){var o=this.options,current,next;if(!o.max_interval){return p_current}current=this.calcReal(p_current);next=this.calcReal(p_next);if(type==="from"){if(next-current>o.max_interval){current=next-o.max_interval}}else{if(current-next>o.max_interval){current=next+o.max_interval}}return this.calcPercent(current)},checkDiapason:function checkDiapason(p_num,min,max){var num=this.calcReal(p_num),o=this.options;if(!min||typeof min!=="number"){min=o.min}if(!max||typeof max!=="number"){max=o.max}if(num<min){num=min}if(num>max){num=max}return this.calcPercent(num)},toFixed:function toFixed(num){num=num.toFixed(5);return+num},_prettify:function _prettify(num){if(!this.options.prettify_enabled){return num}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(num)}else{return this.prettify(num)}},prettify:function prettify(num){var n=num.toString();return n.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function checkEdges(left,width){if(!this.options.force_edges){return this.toFixed(left)}if(left<0){left=0}else if(left>100-width){left=100-width}return this.toFixed(left)},validate:function validate(){var o=this.options,r=this.result,v=o.values,vl=v.length,value,i;if(typeof o.min==="string")o.min=+o.min;if(typeof o.max==="string")o.max=+o.max;if(typeof o.from==="string")o.from=+o.from;if(typeof o.to==="string")o.to=+o.to;if(typeof o.step==="string")o.step=+o.step;if(typeof o.from_min==="string")o.from_min=+o.from_min;if(typeof o.from_max==="string")o.from_max=+o.from_max;if(typeof o.to_min==="string")o.to_min=+o.to_min;if(typeof o.to_max==="string")o.to_max=+o.to_max;if(typeof o.keyboard_step==="string")o.keyboard_step=+o.keyboard_step;if(typeof o.grid_num==="string")o.grid_num=+o.grid_num;if(o.max<=o.min){if(o.min){o.max=o.min*2}else{o.max=o.min+1}o.step=1}if(vl){o.p_values=[];o.min=0;o.max=vl-1;o.step=1;o.grid_num=o.max;o.grid_snap=true;for(i=0;i<vl;i++){value=+v[i];if(!isNaN(value)){v[i]=value;value=this._prettify(value)}else{value=v[i]}o.p_values.push(value)}}if(typeof o.from!=="number"||isNaN(o.from)){o.from=o.min}if(typeof o.to!=="number"||isNaN(o.from)){o.to=o.max}if(o.from<o.min||o.from>o.max){o.from=o.min}if(o.to>o.max||o.to<o.min){o.to=o.max}if(o.type==="double"&&o.from>o.to){o.from=o.to}if(typeof o.step!=="number"||isNaN(o.step)||!o.step||o.step<0){o.step=1}if(typeof o.keyboard_step!=="number"||isNaN(o.keyboard_step)||!o.keyboard_step||o.keyboard_step<0){o.keyboard_step=5}if(o.from_min&&o.from<o.from_min){o.from=o.from_min}if(o.from_max&&o.from>o.from_max){o.from=o.from_max}if(o.to_min&&o.to<o.to_min){o.to=o.to_min}if(o.to_max&&o.from>o.to_max){o.to=o.to_max}if(r){if(r.min!==o.min){r.min=o.min}if(r.max!==o.max){r.max=o.max}if(r.from<r.min||r.from>r.max){r.from=o.from}if(r.to<r.min||r.to>r.max){r.to=o.to}}if(typeof o.min_interval!=="number"||isNaN(o.min_interval)||!o.min_interval||o.min_interval<0){o.min_interval=0}if(typeof o.max_interval!=="number"||isNaN(o.max_interval)||!o.max_interval||o.max_interval<0){o.max_interval=0}if(o.min_interval&&o.min_interval>o.max-o.min){o.min_interval=o.max-o.min}if(o.max_interval&&o.max_interval>o.max-o.min){o.max_interval=o.max-o.min}},decorate:function decorate(num,original){var decorated="",o=this.options;if(o.prefix){decorated+=o.prefix}decorated+=num;if(o.max_postfix){if(o.values.length&&num===o.p_values[o.max]){decorated+=o.max_postfix;if(o.postfix){decorated+=" "}}else if(original===o.max){decorated+=o.max_postfix;if(o.postfix){decorated+=" "}}}if(o.postfix){decorated+=o.postfix}return decorated},updateFrom:function updateFrom(){this.result.from=this.options.from;this.result.from_percent=this.calcPercent(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function updateTo(){this.result.to=this.options.to;this.result.to_percent=this.calcPercent(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function updateResult(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function appendGrid(){if(!this.options.grid){return}var o=this.options,i,z,total=o.max-o.min,big_num=o.grid_num,big_p=0,big_w=0,small_max=4,local_small_max,small_p,small_w=0,result,html="";this.calcGridMargin();if(o.grid_snap){big_num=total/o.step;big_p=this.toFixed(o.step/(total/100))}else{big_p=this.toFixed(100/big_num)}if(big_num>4){small_max=3}if(big_num>7){small_max=2}if(big_num>14){small_max=1}if(big_num>28){small_max=0}for(i=0;i<big_num+1;i++){local_small_max=small_max;big_w=this.toFixed(big_p*i);if(big_w>100){big_w=100;local_small_max-=2;if(local_small_max<0){local_small_max=0}}this.coords.big[i]=big_w;small_p=(big_w-big_p*(i-1))/(local_small_max+1);for(z=1;z<=local_small_max;z++){if(big_w===0){break}small_w=this.toFixed(big_w-small_p*z);html+='<span class="irs-grid-pol small" style="left: '+small_w+'%"></span>'}html+='<span class="irs-grid-pol" style="left: '+big_w+'%"></span>';result=this.calcReal(big_w);if(o.values.length){result=o.p_values[result]}else{result=this._prettify(result)}html+='<span class="irs-grid-text js-grid-text-'+i+'" style="left: '+big_w+'%">'+result+"</span>"}this.coords.big_num=Math.ceil(big_num+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(html);this.cacheGridLabels()},cacheGridLabels:function cacheGridLabels(){var $label,i,num=this.coords.big_num;for(i=0;i<num;i++){$label=this.$cache.grid.find(".js-grid-text-"+i);this.$cache.grid_labels.push($label)}this.calcGridLabels()},calcGridLabels:function calcGridLabels(){var i,label,start=[],finish=[],num=this.coords.big_num;for(i=0;i<num;i++){this.coords.big_w[i]=this.$cache.grid_labels[i].outerWidth(false);this.coords.big_p[i]=this.toFixed(this.coords.big_w[i]/this.coords.w_rs*100);this.coords.big_x[i]=this.toFixed(this.coords.big_p[i]/2);start[i]=this.toFixed(this.coords.big[i]-this.coords.big_x[i]);finish[i]=this.toFixed(start[i]+this.coords.big_p[i])}if(this.options.force_edges){if(start[0]<this.coords.grid_gap){start[0]=this.coords.grid_gap;finish[0]=this.toFixed(start[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(finish[num-1]>100-this.coords.grid_gap){finish[num-1]=100-this.coords.grid_gap;start[num-1]=this.toFixed(finish[num-1]-this.coords.big_p[num-1]);this.coords.big_x[num-1]=this.toFixed(this.coords.big_p[num-1]-this.coords.grid_gap)}}this.calcGridCollision(2,start,finish);this.calcGridCollision(4,start,finish);for(i=0;i<num;i++){label=this.$cache.grid_labels[i][0];label.style.marginLeft=-this.coords.big_x[i]+"%"}},calcGridCollision:function calcGridCollision(step,start,finish){var i,next_i,label,num=this.coords.big_num;for(i=0;i<num;i+=step){next_i=i+step/2;if(next_i>=num){break}label=this.$cache.grid_labels[next_i][0];if(finish[i]<=start[next_i]){label.style.visibility="visible"}else{label.style.visibility="hidden"}}},calcGridMargin:function calcGridMargin(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function update(options){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.options=$.extend(this.options,options);this.validate();this.updateResult(options);this.toggleInput();this.remove();this.init(true)},reset:function reset(){if(!this.input){return}this.updateResult();this.update()},destroy:function destroy(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);$.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};$.fn.ionRangeSlider=function(options){return this.each(function(){if(!$.data(this,"ionRangeSlider")){$.data(this,"ionRangeSlider",new IonRangeSlider(this,options,plugin_count++))}})};(function(){var lastTime=0;var vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}})()})(jQuery,document,window,navigator)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function($){$("#range_200a").ionRangeSlider({hide_min_max:true,keyboard:true,min:0,max:20,from:0,to:20,type:"double",grid:true});$("#range_27a").ionRangeSlider({hide_min_max:true,keyboard:true,min:0,max:20,from:0,to:20,type:"double",grid:true});$("#range_28a").ionRangeSlider({hide_min_max:true,keyboard:true,min:0,max:20,from:0,to:20,type:"single",grid:true})}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};window.Whammy=function(){function toWebM(frames,outputAsArray){var info=checkFrames(frames);var CLUSTER_MAX_DURATION=3e4;var EBML=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:doubleToString(info.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:info.width,id:176},{data:info.height,id:186}]}]}]},{id:475249515,data:[]}]}];var segment=EBML[1];var cues=segment.data[2];var frameNumber=0;var clusterTimecode=0;while(frameNumber<frames.length){var cuePoint={id:187,data:[{data:Math.round(clusterTimecode),id:179},{id:183,data:[{data:1,id:247},{data:0,size:8,id:241}]}]};cues.data.push(cuePoint);var clusterFrames=[];var clusterDuration=0;do{clusterFrames.push(frames[frameNumber]);clusterDuration+=frames[frameNumber].duration;frameNumber++}while(frameNumber<frames.length&&clusterDuration<CLUSTER_MAX_DURATION);var clusterCounter=0;var cluster={id:524531317,data:[{data:Math.round(clusterTimecode),id:231}].concat(clusterFrames.map(function(webp){var block=makeSimpleBlock({discardable:0,frame:webp.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(clusterCounter)});clusterCounter+=webp.duration;return{data:block,id:163}}))};segment.data.push(cluster);clusterTimecode+=clusterDuration}var position=0;for(var i=0;i<segment.data.length;i++){if(i>=3){cues.data[i-3].data[1].data[1].data=position}var data=generateEBML([segment.data[i]],outputAsArray);position+=data.size||data.byteLength||data.length;if(i!=2){segment.data[i]=data}}return generateEBML(EBML,outputAsArray)}function checkFrames(frames){var width=frames[0].width,height=frames[0].height,duration=frames[0].duration;for(var i=1;i<frames.length;i++){if(frames[i].width!=width)throw"Frame "+(i+1)+" has a different width";if(frames[i].height!=height)throw"Frame "+(i+1)+" has a different height";if(frames[i].duration<0||frames[i].duration>32767)throw"Frame "+(i+1)+" has a weird duration (must be between 0 and 32767)";duration+=frames[i].duration}return{duration:duration,width:width,height:height}}function numToBuffer(num){var parts=[];while(num>0){parts.push(num&255);num=num>>8}return new Uint8Array(parts.reverse())}function numToFixedBuffer(num,size){var parts=new Uint8Array(size);for(var i=size-1;i>=0;i--){parts[i]=num&255;num=num>>8}return parts}function strToBuffer(str){var arr=new Uint8Array(str.length);for(var i=0;i<str.length;i++){arr[i]=str.charCodeAt(i)}return arr}function bitsToBuffer(bits){var data=[];var pad=bits.length%8?new Array(1+8-bits.length%8).join("0"):"";bits=pad+bits;for(var i=0;i<bits.length;i+=8){data.push(parseInt(bits.substr(i,8),2))}return new Uint8Array(data)}function generateEBML(json,outputAsArray){var ebml=[];for(var i=0;i<json.length;i++){if(!("id"in json[i])){ebml.push(json[i]);continue}var data=json[i].data;if((typeof data==="undefined"?"undefined":_typeof(data))=="object")data=generateEBML(data,outputAsArray);if(typeof data=="number")data="size"in json[i]?numToFixedBuffer(data,json[i].size):bitsToBuffer(data.toString(2));if(typeof data=="string")data=strToBuffer(data);if(data.length){var z=z}var len=data.size||data.byteLength||data.length;var zeroes=Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);var size_str=len.toString(2);var padded=new Array(zeroes*7+7+1-size_str.length).join("0")+size_str;var size=new Array(zeroes).join("0")+"1"+padded;ebml.push(numToBuffer(json[i].id));ebml.push(bitsToBuffer(size));ebml.push(data)}if(outputAsArray){var buffer=toFlatArray(ebml);return new Uint8Array(buffer)}else{return new Blob(ebml,{type:"video/webm"})}}function toFlatArray(arr,outBuffer){if(outBuffer==null){outBuffer=[]}for(var i=0;i<arr.length;i++){if(_typeof(arr[i])=="object"){toFlatArray(arr[i],outBuffer)}else{outBuffer.push(arr[i])}}return outBuffer}function toBinStr_old(bits){var data="";var pad=bits.length%8?new Array(1+8-bits.length%8).join("0"):"";bits=pad+bits;for(var i=0;i<bits.length;i+=8){data+=String.fromCharCode(parseInt(bits.substr(i,8),2))}return data}function generateEBML_old(json){var ebml="";for(var i=0;i<json.length;i++){var data=json[i].data;if((typeof data==="undefined"?"undefined":_typeof(data))=="object")data=generateEBML_old(data);if(typeof data=="number")data=toBinStr_old(data.toString(2));var len=data.length;var zeroes=Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);var size_str=len.toString(2);var padded=new Array(zeroes*7+7+1-size_str.length).join("0")+size_str;var size=new Array(zeroes).join("0")+"1"+padded;ebml+=toBinStr_old(json[i].id.toString(2))+toBinStr_old(size)+data}return ebml}function makeSimpleBlock(data){var flags=0;if(data.keyframe)flags|=128;if(data.invisible)flags|=8;if(data.lacing)flags|=data.lacing<<1;if(data.discardable)flags|=1;if(data.trackNum>127){throw"TrackNumber > 127 not supported"}var out=[data.trackNum|128,data.timecode>>8,data.timecode&255,flags].map(function(e){return String.fromCharCode(e)}).join("")+data.frame;return out}function parseWebP(riff){var VP8=riff.RIFF[0].WEBP[0];var frame_start=VP8.indexOf("*");for(var i=0,c=[];i<4;i++){c[i]=VP8.charCodeAt(frame_start+3+i)}var width,horizontal_scale,height,vertical_scale,tmp;tmp=c[1]<<8|c[0];width=tmp&16383;horizontal_scale=tmp>>14;tmp=c[3]<<8|c[2];height=tmp&16383;vertical_scale=tmp>>14;return{width:width,height:height,data:VP8,riff:riff}}function parseRIFF(string){var offset=0;var chunks={};while(offset<string.length){var id=string.substr(offset,4);chunks[id]=chunks[id]||[];if(id=="RIFF"||id=="LIST"){var len=parseInt(string.substr(offset+4,4).split("").map(function(i){var unpadded=i.charCodeAt(0).toString(2);return new Array(8-unpadded.length+1).join("0")+unpadded}).join(""),2);var data=string.substr(offset+4+4,len);offset+=4+4+len;chunks[id].push(parseRIFF(data))}else if(id=="WEBP"){chunks[id].push(string.substr(offset+8));offset=string.length}else{chunks[id].push(string.substr(offset+4));offset=string.length}}return chunks}function doubleToString(num){return[].slice.call(new Uint8Array(new Float64Array([num]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}function WhammyVideo(speed,quality){this.frames=[];this.duration=1e3/speed;this.quality=quality||.8}WhammyVideo.prototype.add=function(frame,duration){if(typeof duration!="undefined"&&this.duration)throw"you can't pass a duration if the fps is set";if(typeof duration=="undefined"&&!this.duration)throw"if you don't have the fps set, you need to have durations here.";if(frame.canvas){frame=frame.canvas}if(frame.toDataURL){frame=frame.getContext("2d").getImageData(0,0,frame.width,frame.height)}else if(typeof frame!="string"){throw"frame must be a a HTMLCanvasElement, a CanvasRenderingContext2D or a DataURI formatted string"}if(typeof frame==="string"&&!/^data:image\/webp;base64,/gi.test(frame)){throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp"}this.frames.push({image:frame,duration:duration||this.duration})};WhammyVideo.prototype.encodeFrames=function(callback){if(this.frames[0].image instanceof ImageData){var frames=this.frames;var tmpCanvas=document.createElement("canvas");var tmpContext=tmpCanvas.getContext("2d");tmpCanvas.width=this.frames[0].image.width;tmpCanvas.height=this.frames[0].image.height;var encodeFrame=function(index){console.log("encodeFrame",index);var frame=frames[index];tmpContext.putImageData(frame.image,0,0);frame.image=tmpCanvas.toDataURL("image/webp",this.quality);if(index<frames.length-1){setTimeout(function(){encodeFrame(index+1)},1)}else{callback()}}.bind(this);encodeFrame(0)}else{callback()}};WhammyVideo.prototype.compile=function(outputAsArray,callback){this.encodeFrames(function(){var webm=new toWebM(this.frames.map(function(frame){var webp=parseWebP(parseRIFF(atob(frame.image.slice(23))));webp.duration=frame.duration;return webp}),outputAsArray);callback(webm)}.bind(this))};return{Video:WhammyVideo,fromImageArray:function fromImageArray(images,fps,outputAsArray){return toWebM(images.map(function(image){var webp=parseWebP(parseRIFF(atob(image.slice(23))));webp.duration=1e3/fps;return webp}),outputAsArray)},toWebM:toWebM}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var transition_1=__webpack_require__(34);var router_1=__webpack_require__(85);var resolve_1=__webpack_require__(83);var common_1=__webpack_require__(10);function addCoreResolvables(trans){trans.addResolvable(resolve_1.Resolvable.fromData(router_1.UIRouter,trans.router),"");trans.addResolvable(resolve_1.Resolvable.fromData(transition_1.Transition,trans),"");trans.addResolvable(resolve_1.Resolvable.fromData("$transition$",trans),"");trans.addResolvable(resolve_1.Resolvable.fromData("$stateParams",trans.params()),"");trans.entering().forEach(function(state){trans.addResolvable(resolve_1.Resolvable.fromData("$state$",state),state)})}exports.registerAddCoreResolvables=function(transitionService){return transitionService.onCreate({},addCoreResolvables)};var TRANSITION_TOKENS=["$transition$",transition_1.Transition];var isTransition=common_1.inArray(TRANSITION_TOKENS);exports.treeChangesCleanup=function(trans){var nodes=common_1.values(trans.treeChanges()).reduce(common_1.unnestR,[]).reduce(common_1.uniqR,[]);var replaceTransitionWithNull=function replaceTransitionWithNull(r){return isTransition(r.token)?resolve_1.Resolvable.fromData(r.token,null):r};nodes.forEach(function(node){node.resolvables=node.resolvables.map(replaceTransitionWithNull)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var trace_1=__webpack_require__(14);var rejectFactory_1=__webpack_require__(25);function ignoredHook(trans){var ignoredReason=trans._ignoredReason();if(!ignoredReason)return;trace_1.trace.traceTransitionIgnored(trans);var pending=trans.router.globals.transition;if(ignoredReason==="SameAsCurrent"&&pending){pending.abort()}return rejectFactory_1.Rejection.ignored().toPromise()}exports.registerIgnoredTransitionHook=function(transitionService){return transitionService.onBefore({},ignoredHook,{priority:-9999})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function invalidTransitionHook(trans){if(!trans.valid()){throw new Error(trans.error())}}exports.registerInvalidTransitionHook=function(transitionService){return transitionService.onBefore({},invalidTransitionHook,{priority:-1e4})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function makeEnterExitRetainHook(hookName){return function(transition,state){var _state=state.$$state();var hookFn=_state[hookName];return hookFn(transition,state)}}var onExitHook=makeEnterExitRetainHook("onExit");exports.registerOnExitHook=function(transitionService){return transitionService.onExit({exiting:function exiting(state){return!!state.onExit}},onExitHook)};var onRetainHook=makeEnterExitRetainHook("onRetain");exports.registerOnRetainHook=function(transitionService){return transitionService.onRetain({retained:function retained(state){return!!state.onRetain}},onRetainHook)};var onEnterHook=makeEnterExitRetainHook("onEnter");exports.registerOnEnterHook=function(transitionService){return transitionService.onEnter({entering:function entering(state){return!!state.onEnter}},onEnterHook)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var predicates_1=__webpack_require__(3);var coreservices_1=__webpack_require__(8);var targetState_1=__webpack_require__(19);var redirectToHook=function redirectToHook(trans){var redirect=trans.to().redirectTo;if(!redirect)return;var $state=trans.router.stateService;function handleResult(result){if(!result)return;if(result instanceof targetState_1.TargetState)return result;if(predicates_1.isString(result))return $state.target(result,trans.params(),trans.options());if(result["state"]||result["params"])return $state.target(result["state"]||trans.to(),result["params"]||trans.params(),trans.options())}if(predicates_1.isFunction(redirect)){return coreservices_1.services.$q.when(redirect(trans)).then(handleResult)}return handleResult(redirect)};exports.registerRedirectToHook=function(transitionService){return transitionService.onStart({to:function to(state){return!!state.redirectTo}},redirectToHook)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var resolveContext_1=__webpack_require__(33);var hof_1=__webpack_require__(4);exports.RESOLVE_HOOK_PRIORITY=1e3;var eagerResolvePath=function eagerResolvePath(trans){return new resolveContext_1.ResolveContext(trans.treeChanges().to).resolvePath("EAGER",trans).then(common_1.noop)};exports.registerEagerResolvePath=function(transitionService){return transitionService.onStart({},eagerResolvePath,{priority:exports.RESOLVE_HOOK_PRIORITY})};var lazyResolveState=function lazyResolveState(trans,state){return new resolveContext_1.ResolveContext(trans.treeChanges().to).subContext(state.$$state()).resolvePath("LAZY",trans).then(common_1.noop)};exports.registerLazyResolveState=function(transitionService){return transitionService.onEnter({entering:hof_1.val(true)},lazyResolveState,{priority:exports.RESOLVE_HOOK_PRIORITY})};var resolveRemaining=function resolveRemaining(trans){return new resolveContext_1.ResolveContext(trans.treeChanges().to).resolvePath("LAZY",trans).then(common_1.noop)};exports.registerResolveRemaining=function(transitionService){return transitionService.onFinish({},resolveRemaining,{priority:exports.RESOLVE_HOOK_PRIORITY})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var updateGlobalState=function updateGlobalState(trans){var globals=trans.router.globals;var transitionSuccessful=function transitionSuccessful(){globals.successfulTransitions.enqueue(trans);globals.$current=trans.$to();globals.current=globals.$current.self;common_1.copy(trans.params(),globals.params)};var clearCurrentTransition=function clearCurrentTransition(){if(globals.transition===trans)globals.transition=null};trans.onSuccess({},transitionSuccessful,{priority:1e4});trans.promise.then(clearCurrentTransition,clearCurrentTransition)};exports.registerUpdateGlobalState=function(transitionService){return transitionService.onCreate({},updateGlobalState)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var updateUrl=function updateUrl(transition){var options=transition.options();var $state=transition.router.stateService;var $urlRouter=transition.router.urlRouter;if(options.source!=="url"&&options.location&&$state.$current.navigable){var urlOptions={replace:options.location==="replace"};$urlRouter.push($state.$current.navigable.url,$state.params,urlOptions)}$urlRouter.update(true)};exports.registerUpdateUrl=function(transitionService){return transitionService.onSuccess({},updateUrl,{priority:9999})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var common_1=__webpack_require__(1);var coreservices_1=__webpack_require__(8);var loadEnteringViews=function loadEnteringViews(transition){var $q=coreservices_1.services.$q;var enteringViews=transition.views("entering");if(!enteringViews.length)return;return $q.all(enteringViews.map(function(view){return $q.when(view.load())})).then(common_1.noop)};exports.registerLoadEnteringViews=function(transitionService){return transitionService.onFinish({},loadEnteringViews)};var activateViews=function activateViews(transition){var enteringViews=transition.views("entering");var exitingViews=transition.views("exiting");if(!enteringViews.length&&!exitingViews.length)return;var $view=transition.router.viewService;exitingViews.forEach(function(vc){return $view.deactivateViewConfig(vc)});enteringViews.forEach(function(vc){return $view.activateViewConfig(vc)});$view.sync()};exports.registerActivateViews=function(transitionService){return transitionService.onSuccess({},activateViews)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var UIRouterPluginBase=function(){function UIRouterPluginBase(){}UIRouterPluginBase.prototype.dispose=function(router){};return UIRouterPluginBase}();exports.UIRouterPluginBase=UIRouterPluginBase},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(18));__export(__webpack_require__(81));__export(__webpack_require__(82));__export(__webpack_require__(50))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(51));__export(__webpack_require__(32))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(86));__export(__webpack_require__(52));__export(__webpack_require__(87));__export(__webpack_require__(88));__export(__webpack_require__(89));__export(__webpack_require__(90));__export(__webpack_require__(19))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(20));__export(__webpack_require__(91));__export(__webpack_require__(53));__export(__webpack_require__(25));__export(__webpack_require__(34));__export(__webpack_require__(26));__export(__webpack_require__(92));__export(__webpack_require__(54))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(35));__export(__webpack_require__(93));__export(__webpack_require__(94));__export(__webpack_require__(95));__export(__webpack_require__(96))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(195))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(103));__export(__webpack_require__(99));__export(__webpack_require__(36));__export(__webpack_require__(98));__export(__webpack_require__(101));__export(__webpack_require__(102));__export(__webpack_require__(100));__export(__webpack_require__(97));__export(__webpack_require__(55));__export(__webpack_require__(196))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var browserLocationConfig_1=__webpack_require__(97);var hashLocationService_1=__webpack_require__(98);var utils_1=__webpack_require__(55);var pushStateLocationService_1=__webpack_require__(102);var memoryLocationService_1=__webpack_require__(101);var memoryLocationConfig_1=__webpack_require__(100);var injector_1=__webpack_require__(99);var q_1=__webpack_require__(103);var coreservices_1=__webpack_require__(8);function servicesPlugin(router){coreservices_1.services.$injector=injector_1.$injector;coreservices_1.services.$q=q_1.$q;return{name:"vanilla.services",$q:q_1.$q,$injector:injector_1.$injector,dispose:function dispose(){return null}}}exports.servicesPlugin=servicesPlugin;exports.hashLocationPlugin=utils_1.locationPluginFactory("vanilla.hashBangLocation",false,hashLocationService_1.HashLocationService,browserLocationConfig_1.BrowserLocationConfig);exports.pushStateLocationPlugin=utils_1.locationPluginFactory("vanilla.pushStateLocation",true,pushStateLocationService_1.PushStateLocationService,browserLocationConfig_1.BrowserLocationConfig);exports.memoryLocationPlugin=utils_1.locationPluginFactory("vanilla.memoryLocation",false,memoryLocationService_1.MemoryLocationService,memoryLocationConfig_1.MemoryLocationConfig)},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(104))},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(t,e){"object"==(false?"undefined":_typeof(exports))&&"undefined"!=typeof module?e(exports,__webpack_require__(13)):true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(13)],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):e(t["@uirouter/angularjs-state-events"]={},t.angular)}(undefined,function(t,e){"use strict";var r=angular,n=e&&e.module?e:r;!function(){var t=n.isFunction,e=n.isString;function r(t,r){var n,o;if(Array.isArray(r)&&(n=r[0],o=r[1]),!e(n))throw new Error("invalid parameters to applyPairs");return t[n]=o,t}function o(t){if(t.options().notify&&t.valid()&&!t.ignored()){var e=t.injector(),r=e.get("$stateEvents"),n=e.get("$rootScope"),o=e.get("$state"),a=e.get("$urlRouter"),s=r.provider.enabled(),i=t.params("to"),u=t.params("from");if(s.$stateChangeSuccess){if(n.$broadcast("$stateChangeStart",t.to(),i,t.from(),u,t.options(),t).defaultPrevented)return s.$stateChangeCancel&&n.$broadcast("$stateChangeCancel",t.to(),i,t.from(),u,t.options(),t),null==o.transition&&a.update(),!1;t.onSuccess({},function(){n.$broadcast("$stateChangeSuccess",t.to(),i,t.from(),u,t.options(),t)},{priority:9999})}s.$stateChangeError&&t.promise.catch(function(e){(!e||2!==e.type&&3!==e.type)&&(n.$broadcast("$stateChangeError",t.to(),i,t.from(),u,e,t.options(),t).defaultPrevented||a.update())})}}function a(e,r,n){var o=n.get("$state"),a=n.get("$rootScope"),s=n.get("$urlRouter"),i={to:e.identifier(),toParams:e.params(),options:e.options()},u=a.$broadcast("$stateNotFound",i,r.state(),r.params());function c(){return o.target(i.to,i.toParams,i.options)}return(u.defaultPrevented||u.retry)&&s.update(),!u.defaultPrevented&&(u.retry||o.get(i.to)?u.retry&&t(u.retry.then)?u.retry.then(c):c():void 0)}function s(t){s.prototype.instance=this;var e=!1,n=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"],i=n.map(function(t){return[t,!0]}).reduce(r,{});function u(){if(e)throw new Error("Cannot enable events at runtime (use $stateEventsProvider")}function c(r){return e=!0,i.$stateNotFound&&t.onInvalid(a),i.$stateChangeStart&&r.onBefore({},o,{priority:1e3}),{provider:s.prototype.instance}}this.enable=function(){for(var t=[],e=0;e<arguments.length;e++){t[e]=arguments[e]}u(),t&&t.length||(t=n),t.forEach(function(t){return i[t]=!0})},this.disable=function(){for(var t=[],e=0;e<arguments.length;e++){t[e]=arguments[e]}u(),t&&t.length||(t=n),t.forEach(function(t){return delete i[t]})},this.enabled=function(){return i},this.$get=c,c.$inject=["$transitions"]}a.$inject=["$to$","$from$","$state","$rootScope","$urlRouter"],s.$inject=["$stateProvider"],n.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",s).run(["$stateEvents",function(t){}])}(),t.$stateChangeStart=void 0,t.$stateChangeCancel=void 0,t.$stateChangeSuccess=void 0,t.$stateChangeError=void 0,t.$stateNotFound=void 0,Object.defineProperty(t,"__esModule",{value:!0})})},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(global,factory){(false?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?factory(exports,__webpack_require__(13),__webpack_require__(80)):true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(13),__webpack_require__(80)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):factory(global["@uirouter/angularjs"]={},global.angular,global["@uirouter/core"])})(undefined,function(exports,ng_from_import,core){"use strict";var ng_from_global=angular;var ng=ng_from_import&&ng_from_import.module?ng_from_import:ng_from_global;function getNg1ViewConfigFactory(){var templateFactory=null;return function(path,view){templateFactory=templateFactory||core.services.$injector.get("$templateFactory");return[new Ng1ViewConfig(path,view,templateFactory)]}}var hasAnyKey=function hasAnyKey(keys,obj){return keys.reduce(function(acc,key){return acc||core.isDefined(obj[key])},false)};function ng1ViewsBuilder(state){if(!state.parent)return{};var tplKeys=["templateProvider","templateUrl","template","notify","async"],ctrlKeys=["controller","controllerProvider","controllerAs","resolveAs"],compKeys=["component","bindings","componentProvider"],nonCompKeys=tplKeys.concat(ctrlKeys),allViewKeys=compKeys.concat(nonCompKeys);if(core.isDefined(state.views)&&hasAnyKey(allViewKeys,state)){throw new Error("State '"+state.name+"' has a 'views' object. "+'It cannot also have "view properties" at the state level.  '+"Move the following properties into a view (in the 'views' object): "+(" "+allViewKeys.filter(function(key){return core.isDefined(state[key])}).join(", ")))}var views={},viewsObject=state.views||{$default:core.pick(state,allViewKeys)};core.forEach(viewsObject,function(config,name){name=name||"$default";if(core.isString(config))config={component:config};config=core.extend({},config);if(hasAnyKey(compKeys,config)&&hasAnyKey(nonCompKeys,config)){throw new Error("Cannot combine: "+compKeys.join("|")+" with: "+nonCompKeys.join("|")+" in stateview: '"+name+"@"+state.name+"'")}config.resolveAs=config.resolveAs||"$resolve";config.$type="ng1";config.$context=state;config.$name=name;var normalized=core.ViewService.normalizeUIViewTarget(config.$context,config.$name);config.$uiViewName=normalized.uiViewName;config.$uiViewContextAnchor=normalized.uiViewContextAnchor;views[name]=config});return views}var id=0;var Ng1ViewConfig=function(){function Ng1ViewConfig(path,viewDecl,factory){var _this=this;this.path=path;this.viewDecl=viewDecl;this.factory=factory;this.$id=id++;this.loaded=false;this.getTemplate=function(uiView,context){return _this.component?_this.factory.makeComponentTemplate(uiView,context,_this.component,_this.viewDecl.bindings):_this.template}}Ng1ViewConfig.prototype.load=function(){var _this=this;var $q=core.services.$q;var context=new core.ResolveContext(this.path);var params=this.path.reduce(function(acc,node){return core.extend(acc,node.paramValues)},{});var promises={template:$q.when(this.factory.fromConfig(this.viewDecl,params,context)),controller:$q.when(this.getController(context))};return $q.all(promises).then(function(results){core.trace.traceViewServiceEvent("Loaded",_this);_this.controller=results.controller;core.extend(_this,results.template);return _this})};Ng1ViewConfig.prototype.getController=function(context){var provider=this.viewDecl.controllerProvider;if(!core.isInjectable(provider))return this.viewDecl.controller;var deps=core.services.$injector.annotate(provider);var providerFn=core.isArray(provider)?core.tail(provider):provider;var resolvable=new core.Resolvable("",providerFn,deps);return resolvable.get(context)};return Ng1ViewConfig}();var TemplateFactory=function(){function TemplateFactory(){var _this=this;this._useHttp=ng.version.minor<3;this.$get=["$http","$templateCache","$injector",function($http,$templateCache,$injector){_this.$templateRequest=$injector.has&&$injector.has("$templateRequest")&&$injector.get("$templateRequest");_this.$http=$http;_this.$templateCache=$templateCache;return _this}]}TemplateFactory.prototype.useHttpService=function(value){this._useHttp=value};TemplateFactory.prototype.fromConfig=function(config,params,context){var defaultTemplate="<ui-view></ui-view>";var asTemplate=function asTemplate(result){return core.services.$q.when(result).then(function(str){return{template:str}})};var asComponent=function asComponent(result){return core.services.$q.when(result).then(function(str){return{component:str}})};return core.isDefined(config.template)?asTemplate(this.fromString(config.template,params)):core.isDefined(config.templateUrl)?asTemplate(this.fromUrl(config.templateUrl,params)):core.isDefined(config.templateProvider)?asTemplate(this.fromProvider(config.templateProvider,params,context)):core.isDefined(config.component)?asComponent(config.component):core.isDefined(config.componentProvider)?asComponent(this.fromComponentProvider(config.componentProvider,params,context)):asTemplate(defaultTemplate)};TemplateFactory.prototype.fromString=function(template,params){return core.isFunction(template)?template(params):template};TemplateFactory.prototype.fromUrl=function(url,params){if(core.isFunction(url))url=url(params);if(url==null)return null;if(this._useHttp){return this.$http.get(url,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data})}return this.$templateRequest(url)};TemplateFactory.prototype.fromProvider=function(provider,params,context){var deps=core.services.$injector.annotate(provider);var providerFn=core.isArray(provider)?core.tail(provider):provider;var resolvable=new core.Resolvable("",providerFn,deps);return resolvable.get(context)};TemplateFactory.prototype.fromComponentProvider=function(provider,params,context){var deps=core.services.$injector.annotate(provider);var providerFn=core.isArray(provider)?core.tail(provider):provider;var resolvable=new core.Resolvable("",providerFn,deps);return resolvable.get(context)};TemplateFactory.prototype.makeComponentTemplate=function(uiView,context,component,bindings){bindings=bindings||{};var prefix=ng.version.minor>=3?"::":"";var kebob=function kebob(camelCase){var kebobed=core.kebobString(camelCase);return/^(x|data)-/.exec(kebobed)?"x-"+kebobed:kebobed};var attributeTpl=function attributeTpl(input){var name=input.name,type=input.type;var attrName=kebob(name);if(uiView.attr(attrName)&&!bindings[name])return attrName+"='"+uiView.attr(attrName)+"'";var resolveName=bindings[name]||name;if(type==="@")return attrName+"='{{"+prefix+"$resolve."+resolveName+"}}'";if(type==="&"){var res=context.getResolvable(resolveName);var fn=res&&res.data;var args=fn&&core.services.$injector.annotate(fn)||[];var arrayIdxStr=core.isArray(fn)?"["+(fn.length-1)+"]":"";return attrName+"='$resolve."+resolveName+arrayIdxStr+"("+args.join(",")+")'"}return attrName+"='"+prefix+"$resolve."+resolveName+"'"};var attrs=getComponentBindings(component).map(attributeTpl).join(" ");var kebobName=kebob(component);return"<"+kebobName+" "+attrs+"></"+kebobName+">"};return TemplateFactory}();function getComponentBindings(name){var cmpDefs=core.services.$injector.get(name+"Directive");if(!cmpDefs||!cmpDefs.length)throw new Error("Unable to find component named '"+name+"'");return cmpDefs.map(getBindings).reduce(core.unnestR,[])}var getBindings=function getBindings(def){if(core.isObject(def.bindToController))return scopeBindings(def.bindToController);return scopeBindings(def.scope)};var scopeBindings=function scopeBindings(bindingsObj){return Object.keys(bindingsObj||{}).map(function(key){return[key,/^([=<@&])[?]?(.*)/.exec(bindingsObj[key])]}).filter(function(tuple){return core.isDefined(tuple)&&core.isArray(tuple[1])}).map(function(tuple){return{name:tuple[1][2]||tuple[0],type:tuple[1][1]}})};var StateProvider=function(){function StateProvider(stateRegistry,stateService){this.stateRegistry=stateRegistry;this.stateService=stateService;core.createProxyFunctions(core.val(StateProvider.prototype),this,core.val(this))}StateProvider.prototype.decorator=function(name,func){return this.stateRegistry.decorator(name,func)||this};StateProvider.prototype.state=function(name,definition){if(core.isObject(name)){definition=name}else{definition.name=name}this.stateRegistry.register(definition);return this};StateProvider.prototype.onInvalid=function(callback){return this.stateService.onInvalid(callback)};return StateProvider}();var getStateHookBuilder=function getStateHookBuilder(hookName){return function stateHookBuilder(stateObject,parentFn){var hook=stateObject[hookName];var pathname=hookName==="onExit"?"from":"to";function decoratedNg1Hook(trans,state){var resolveContext=new core.ResolveContext(trans.treeChanges(pathname));var subContext=resolveContext.subContext(state.$$state());var locals=core.extend(getLocals(subContext),{$state$:state,$transition$:trans});return core.services.$injector.invoke(hook,this,locals)}return hook?decoratedNg1Hook:undefined}};var Ng1LocationServices=function(){function Ng1LocationServices($locationProvider){this._urlListeners=[];this.$locationProvider=$locationProvider;var _lp=core.val($locationProvider);core.createProxyFunctions(_lp,this,_lp,["hashPrefix"])}Ng1LocationServices.monkeyPatchPathParameterType=function(router){var pathType=router.urlMatcherFactory.type("path");pathType.encode=function(x){return x!=null?x.toString().replace(/(~|\/)/g,function(m){return{"~":"~~","/":"~2F"}[m]}):x};pathType.decode=function(x){return x!=null?x.toString().replace(/(~~|~2F)/g,function(m){return{"~~":"~","~2F":"/"}[m]}):x}};Ng1LocationServices.prototype.dispose=function(){};Ng1LocationServices.prototype.onChange=function(callback){var _this=this;this._urlListeners.push(callback);return function(){return core.removeFrom(_this._urlListeners)(callback)}};Ng1LocationServices.prototype.html5Mode=function(){var html5Mode=this.$locationProvider.html5Mode();html5Mode=core.isObject(html5Mode)?html5Mode.enabled:html5Mode;return html5Mode&&this.$sniffer.history};Ng1LocationServices.prototype.url=function(newUrl,replace,state){if(replace===void 0){replace=false}if(core.isDefined(newUrl))this.$location.url(newUrl);if(replace)this.$location.replace();if(state)this.$location.state(state);return this.$location.url()};Ng1LocationServices.prototype._runtimeServices=function($rootScope,$location,$sniffer,$browser){var _this=this;this.$location=$location;this.$sniffer=$sniffer;$rootScope.$on("$locationChangeSuccess",function(evt){return _this._urlListeners.forEach(function(fn){return fn(evt)})});var _loc=core.val($location);var _browser=core.val($browser);core.createProxyFunctions(_loc,this,_loc,["replace","path","search","hash"]);core.createProxyFunctions(_loc,this,_loc,["port","protocol","host"]);core.createProxyFunctions(_browser,this,_browser,["baseHref"])};return Ng1LocationServices}();var UrlRouterProvider=function(){function UrlRouterProvider(router){this._router=router;this._urlRouter=router.urlRouter}UrlRouterProvider.injectableHandler=function(router,handler){return function(match){return core.services.$injector.invoke(handler,null,{$match:match,$stateParams:router.globals.params})}};UrlRouterProvider.prototype.$get=function(){var urlRouter=this._urlRouter;urlRouter.update(true);if(!urlRouter.interceptDeferred)urlRouter.listen();return urlRouter};UrlRouterProvider.prototype.rule=function(ruleFn){var _this=this;if(!core.isFunction(ruleFn))throw new Error("'rule' must be a function");var match=function match(){return ruleFn(core.services.$injector,_this._router.locationService)};var rule=new core.BaseUrlRule(match,core.identity);this._urlRouter.rule(rule);return this};UrlRouterProvider.prototype.otherwise=function(rule){var _this=this;var urlRouter=this._urlRouter;if(core.isString(rule)){urlRouter.otherwise(rule)}else if(core.isFunction(rule)){urlRouter.otherwise(function(){return rule(core.services.$injector,_this._router.locationService)})}else{throw new Error("'rule' must be a string or function")}return this};UrlRouterProvider.prototype.when=function(what,handler){if(core.isArray(handler)||core.isFunction(handler)){handler=UrlRouterProvider.injectableHandler(this._router,handler)}this._urlRouter.when(what,handler);return this};UrlRouterProvider.prototype.deferIntercept=function(defer){this._urlRouter.deferIntercept(defer)};return UrlRouterProvider}();ng.module("ui.router.angular1",[]);var mod_init=ng.module("ui.router.init",[]);var mod_util=ng.module("ui.router.util",["ng","ui.router.init"]);var mod_rtr=ng.module("ui.router.router",["ui.router.util"]);var mod_state=ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]);var mod_main=ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]);var mod_cmpt=ng.module("ui.router.compat",["ui.router"]);var router=null;$uiRouterProvider.$inject=["$locationProvider"];function $uiRouterProvider($locationProvider){router=this.router=new core.UIRouter;router.stateProvider=new StateProvider(router.stateRegistry,router.stateService);router.stateRegistry.decorator("views",ng1ViewsBuilder);router.stateRegistry.decorator("onExit",getStateHookBuilder("onExit"));router.stateRegistry.decorator("onRetain",getStateHookBuilder("onRetain"));router.stateRegistry.decorator("onEnter",getStateHookBuilder("onEnter"));router.viewService._pluginapi._viewConfigFactory("ng1",getNg1ViewConfigFactory());var ng1LocationService=router.locationService=router.locationConfig=new Ng1LocationServices($locationProvider);Ng1LocationServices.monkeyPatchPathParameterType(router);router["router"]=router;router["$get"]=$get;$get.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"];function $get($location,$browser,$sniffer,$rootScope,$http,$templateCache){ng1LocationService._runtimeServices($rootScope,$location,$sniffer,$browser);delete router["router"];delete router["$get"];return router}return router}var getProviderFor=function getProviderFor(serviceName){return["$uiRouterProvider",function($urp){var service=$urp.router[serviceName];service["$get"]=function(){return service};return service}]};runBlock.$inject=["$injector","$q","$uiRouter"];function runBlock($injector,$q,$uiRouter){core.services.$injector=$injector;core.services.$q=$q;$uiRouter.stateRegistry.get().map(function(x){return x.$$state().resolvables}).reduce(core.unnestR,[]).filter(function(x){return x.deps==="deferred"}).forEach(function(resolvable){return resolvable.deps=$injector.annotate(resolvable.resolveFn,$injector.strictDi)})}var getUrlRouterProvider=function getUrlRouterProvider(uiRouter){return uiRouter.urlRouterProvider=new UrlRouterProvider(uiRouter)};var getStateProvider=function getStateProvider(){return core.extend(router.stateProvider,{$get:function $get(){return router.stateService}})};watchDigests.$inject=["$rootScope"];function watchDigests($rootScope){$rootScope.$watch(function(){core.trace.approximateDigests++})}mod_init.provider("$uiRouter",$uiRouterProvider);mod_rtr.provider("$urlRouter",["$uiRouterProvider",getUrlRouterProvider]);mod_util.provider("$urlService",getProviderFor("urlService"));mod_util.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return router.urlMatcherFactory}]);mod_util.provider("$templateFactory",function(){return new TemplateFactory});mod_state.provider("$stateRegistry",getProviderFor("stateRegistry"));mod_state.provider("$uiRouterGlobals",getProviderFor("globals"));mod_state.provider("$transitions",getProviderFor("transitionService"));mod_state.provider("$state",["$uiRouterProvider",getStateProvider]);mod_state.factory("$stateParams",["$uiRouter",function($uiRouter){return $uiRouter.globals.params}]);mod_main.factory("$view",function(){return router.viewService});mod_main.service("$trace",function(){return core.trace});mod_main.run(watchDigests);mod_util.run(["$urlMatcherFactory",function($urlMatcherFactory){}]);mod_state.run(["$state",function($state){}]);mod_rtr.run(["$urlRouter",function($urlRouter){}]);mod_init.run(runBlock);var getLocals=function getLocals(ctx){var tokens=ctx.getTokens().filter(core.isString);var tuples=tokens.map(function(key){var resolvable=ctx.getResolvable(key);var waitPolicy=ctx.getPolicy(resolvable).async;return[key,waitPolicy==="NOWAIT"?resolvable.promise:resolvable.data]});return tuples.reduce(core.applyPairs,{})};function parseStateRef(ref){var parsed;var paramsOnly=ref.match(/^\s*({[^}]*})\s*$/);if(paramsOnly)ref="("+paramsOnly[1]+")";parsed=ref.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/);if(!parsed||parsed.length!==4)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1]||null,paramExpr:parsed[3]||null}}function stateContext(el){var $uiView=el.parent().inheritedData("$uiView");var path=core.parse("$cfg.path")($uiView);return path?core.tail(path).state.name:undefined}function processedDef($state,$element,def){var uiState=def.uiState||$state.current.name;var uiStateOpts=core.extend(defaultOpts($element,$state),def.uiStateOpts||{});var href=$state.href(uiState,def.uiStateParams,uiStateOpts);return{uiState:uiState,uiStateParams:def.uiStateParams,uiStateOpts:uiStateOpts,href:href}}function getTypeInfo(el){var isSvg=Object.prototype.toString.call(el.prop("href"))==="[object SVGAnimatedString]";var isForm=el[0].nodeName==="FORM";return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:el.prop("tagName").toUpperCase()==="A",clickable:!isForm}}function clickHook(el,$state,$timeout,type,getDef){return function(e){var button=e.which||e.button,target=getDef();if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition_1=$timeout(function(){$state.go(target.uiState,target.uiStateParams,target.uiStateOpts)});e.preventDefault();var ignorePreventDefaultCount_1=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){if(ignorePreventDefaultCount_1--<=0)$timeout.cancel(transition_1)}}}}function defaultOpts(el,$state){return{relative:stateContext(el)||$state.$current,inherit:true,source:"sref"}}function bindEvents(element,scope,hookFn,uiStateOpts){var events;if(uiStateOpts){events=uiStateOpts.events}if(!core.isArray(events)){events=["click"]}var on=element.on?"on":"bind";for(var _i=0,events_1=events;_i<events_1.length;_i++){var event_1=events_1[_i];element[on](event_1,hookFn)}scope.$on("$destroy",function(){var off=element.off?"off":"unbind";for(var _i=0,events_2=events;_i<events_2.length;_i++){var event_2=events_2[_i];element[off](event_2,hookFn)}})}var uiSrefDirective;uiSrefDirective=["$uiRouter","$timeout",function $StateRefDirective($uiRouter,$timeout){var $state=$uiRouter.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function link(scope,element,attrs,uiSrefActive){var type=getTypeInfo(element);var active=uiSrefActive[1]||uiSrefActive[0];var unlinkInfoFn=null;var hookFn;var rawDef={};var getDef=function getDef(){return processedDef($state,element,rawDef)};var ref=parseStateRef(attrs.uiSref);rawDef.uiState=ref.state;rawDef.uiStateOpts=attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{};function update(){var def=getDef();if(unlinkInfoFn)unlinkInfoFn();if(active)unlinkInfoFn=active.$$addStateInfo(def.uiState,def.uiStateParams);if(def.href!=null)attrs.$set(type.attr,def.href)}if(ref.paramExpr){scope.$watch(ref.paramExpr,function(val){rawDef.uiStateParams=core.extend({},val);update()},true);rawDef.uiStateParams=core.extend({},scope.$eval(ref.paramExpr))}update();scope.$on("$destroy",$uiRouter.stateRegistry.onStatesChanged(update));scope.$on("$destroy",$uiRouter.transitionService.onSuccess({},update));if(!type.clickable)return;hookFn=clickHook(element,$state,$timeout,type,getDef);bindEvents(element,scope,hookFn,rawDef.uiStateOpts)}}}];var uiStateDirective;uiStateDirective=["$uiRouter","$timeout",function $StateRefDynamicDirective($uiRouter,$timeout){var $state=$uiRouter.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function link(scope,element,attrs,uiSrefActive){var type=getTypeInfo(element);var active=uiSrefActive[1]||uiSrefActive[0];var unlinkInfoFn=null;var hookFn;var rawDef={};var getDef=function getDef(){return processedDef($state,element,rawDef)};var inputAttrs=["uiState","uiStateParams","uiStateOpts"];var watchDeregFns=inputAttrs.reduce(function(acc,attr){return acc[attr]=core.noop,acc},{});function update(){var def=getDef();if(unlinkInfoFn)unlinkInfoFn();if(active)unlinkInfoFn=active.$$addStateInfo(def.uiState,def.uiStateParams);if(def.href!=null)attrs.$set(type.attr,def.href)}inputAttrs.forEach(function(field){rawDef[field]=attrs[field]?scope.$eval(attrs[field]):null;attrs.$observe(field,function(expr){watchDeregFns[field]();watchDeregFns[field]=scope.$watch(expr,function(newval){rawDef[field]=newval;update()},true)})});update();scope.$on("$destroy",$uiRouter.stateRegistry.onStatesChanged(update));scope.$on("$destroy",$uiRouter.transitionService.onSuccess({},update));if(!type.clickable)return;hookFn=clickHook(element,$state,$timeout,type,getDef);bindEvents(element,scope,hookFn,rawDef.uiStateOpts)}}}];var uiSrefActiveDirective;uiSrefActiveDirective=["$state","$stateParams","$interpolate","$uiRouter",function $StateRefActiveDirective($state,$stateParams,$interpolate,$uiRouter){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){var states=[];var activeEqClass;var uiSrefActive;activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",false)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",false)($scope);setStatesFromDefinitionObject(uiSrefActive);this.$$addStateInfo=function(newState,newParams){if(core.isObject(uiSrefActive)&&states.length>0){return}var deregister=addState(newState,newParams,uiSrefActive);update();return deregister};function updateAfterTransition(trans){trans.promise.then(update,core.noop)}$scope.$on("$destroy",setupEventListeners());if($uiRouter.globals.transition){updateAfterTransition($uiRouter.globals.transition)}function setupEventListeners(){var deregisterStatesChangedListener=$uiRouter.stateRegistry.onStatesChanged(handleStatesChanged);var deregisterOnStartListener=$uiRouter.transitionService.onStart({},updateAfterTransition);var deregisterStateChangeSuccessListener=$scope.$on("$stateChangeSuccess",update);return function cleanUp(){deregisterStatesChangedListener();deregisterOnStartListener();deregisterStateChangeSuccessListener()}}function handleStatesChanged(){setStatesFromDefinitionObject(uiSrefActive)}function setStatesFromDefinitionObject(statesDefinition){if(core.isObject(statesDefinition)){states=[];core.forEach(statesDefinition,function(stateOrName,activeClass){var addStateForClass=function addStateForClass(stateOrName,activeClass){var ref=parseStateRef(stateOrName);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)};if(core.isString(stateOrName)){addStateForClass(stateOrName,activeClass)}else if(core.isArray(stateOrName)){core.forEach(stateOrName,function(stateOrName){addStateForClass(stateOrName,activeClass)})}})}}function addState(stateName,stateParams,activeClass){var state=$state.get(stateName,stateContext($element));var stateInfo={state:state||{name:stateName},params:stateParams,activeClass:activeClass};states.push(stateInfo);return function removeState(){core.removeFrom(states)(stateInfo)}}function update(){var splitClasses=function splitClasses(str){return str.split(/\s/).filter(core.identity)};var getClasses=function getClasses(stateList){return stateList.map(function(x){return x.activeClass}).map(splitClasses).reduce(core.unnestR,[])};var allClasses=getClasses(states).concat(splitClasses(activeEqClass)).reduce(core.uniqR,[]);var fuzzyClasses=getClasses(states.filter(function(x){return $state.includes(x.state.name,x.params)}));var exactlyMatchesAny=!!states.filter(function(x){return $state.is(x.state.name,x.params)}).length;var exactClasses=exactlyMatchesAny?splitClasses(activeEqClass):[];var addClasses=fuzzyClasses.concat(exactClasses).reduce(core.uniqR,[]);var removeClasses=allClasses.filter(function(cls){return!core.inArray(addClasses,cls)});$scope.$evalAsync(function(){addClasses.forEach(function(className){return $element.addClass(className)});removeClasses.forEach(function(className){return $element.removeClass(className)})})}update()}]}}];ng.module("ui.router.state").directive("uiSref",uiSrefDirective).directive("uiSrefActive",uiSrefActiveDirective).directive("uiSrefActiveEq",uiSrefActiveDirective).directive("uiState",uiStateDirective);$IsStateFilter.$inject=["$state"];function $IsStateFilter($state){var isFilter=function isFilter(state,params,options){return $state.is(state,params,options)};isFilter.$stateful=true;return isFilter}$IncludedByStateFilter.$inject=["$state"];function $IncludedByStateFilter($state){var includesFilter=function includesFilter(state,params,options){return $state.includes(state,params,options)};includesFilter.$stateful=true;return includesFilter}ng.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter);var uiView;uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function $ViewDirective($view,$animate,$uiViewScroll,$interpolate,$q){function getRenderer(attrs,scope){return{enter:function enter(element,target,cb){if(ng.version.minor>2){$animate.enter(element,null,target).then(cb)}else{$animate.enter(element,null,target,cb)}},leave:function leave(element,cb){if(ng.version.minor>2){$animate.leave(element).then(cb)}else{$animate.leave(element,cb)}}}}function configsEqual(config1,config2){return config1===config2}var rootData={$cfg:{viewDecl:{$context:$view._pluginapi._rootViewContext()}},$uiView:{}};var directive={count:0,restrict:"ECA",terminal:true,priority:400,transclude:"element",compile:function compile(tElement,tAttrs,$transclude){return function(scope,$element,attrs){var onloadExp=attrs["onload"]||"",autoScrollExp=attrs["autoscroll"],renderer=getRenderer(attrs,scope),inherited=$element.inheritedData("$uiView")||rootData,name=$interpolate(attrs["uiView"]||attrs["name"]||"")(scope)||"$default";var previousEl,currentEl,currentScope,viewConfig,unregister;var activeUIView={$type:"ng1",id:directive.count++,name:name,fqn:inherited.$uiView.fqn?inherited.$uiView.fqn+"."+name:name,config:null,configUpdated:configUpdatedCallback,get creationContext(){var fromParentTagConfig=core.parse("$cfg.viewDecl.$context")(inherited);var fromParentTag=core.parse("$uiView.creationContext")(inherited);return fromParentTagConfig||fromParentTag}};core.trace.traceUIViewEvent("Linking",activeUIView);function configUpdatedCallback(config){if(config&&!(config instanceof Ng1ViewConfig))return;if(configsEqual(viewConfig,config))return;core.trace.traceUIViewConfigUpdated(activeUIView,config&&config.viewDecl&&config.viewDecl.$context);viewConfig=config;updateView(config)}$element.data("$uiView",{$uiView:activeUIView});updateView();unregister=$view.registerUIView(activeUIView);scope.$on("$destroy",function(){core.trace.traceUIViewEvent("Destroying/Unregistering",activeUIView);unregister()});function cleanupLastView(){if(previousEl){core.trace.traceUIViewEvent("Removing (previous) el",previousEl.data("$uiView"));previousEl.remove();previousEl=null}if(currentScope){core.trace.traceUIViewEvent("Destroying scope",activeUIView);currentScope.$destroy();currentScope=null}if(currentEl){var _viewData_1=currentEl.data("$uiViewAnim");core.trace.traceUIViewEvent("Animate out",_viewData_1);renderer.leave(currentEl,function(){_viewData_1.$$animLeave.resolve();previousEl=null});previousEl=currentEl;currentEl=null}}function updateView(config){var newScope=scope.$new();var animEnter=$q.defer(),animLeave=$q.defer();var $uiViewData={$cfg:config,$uiView:activeUIView};var $uiViewAnim={$animEnter:animEnter.promise,$animLeave:animLeave.promise,$$animLeave:animLeave};newScope.$emit("$viewContentLoading",name);var cloned=$transclude(newScope,function(clone){clone.data("$uiViewAnim",$uiViewAnim);clone.data("$uiView",$uiViewData);renderer.enter(clone,$element,function onUIViewEnter(){animEnter.resolve();if(currentScope)currentScope.$emit("$viewContentAnimationEnded");if(core.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp)){$uiViewScroll(clone)}});cleanupLastView()});currentEl=cloned;currentScope=newScope;currentScope.$emit("$viewContentLoaded",config||viewConfig);currentScope.$eval(onloadExp)}}}};return directive}];$ViewDirectiveFill.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];function $ViewDirectiveFill($compile,$controller,$transitions,$view,$q,$timeout){var getControllerAs=core.parse("viewDecl.controllerAs");var getResolveAs=core.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function compile(tElement){var initial=tElement.html();tElement.empty();return function(scope,$element){var data=$element.data("$uiView");if(!data){$element.html(initial);$compile($element.contents())(scope);return}var cfg=data.$cfg||{viewDecl:{},getTemplate:core.noop};var resolveCtx=cfg.path&&new core.ResolveContext(cfg.path);$element.html(cfg.getTemplate($element,resolveCtx)||initial);core.trace.traceUIViewFill(data.$uiView,$element.html());var link=$compile($element.contents());var controller=cfg.controller;var controllerAs=getControllerAs(cfg);var resolveAs=getResolveAs(cfg);var locals=resolveCtx&&getLocals(resolveCtx);scope[resolveAs]=locals;if(controller){var controllerInstance=$controller(controller,core.extend({},locals,{$scope:scope,$element:$element}));if(controllerAs){scope[controllerAs]=controllerInstance;scope[controllerAs][resolveAs]=locals}$element.data("$ngControllerController",controllerInstance);$element.children().data("$ngControllerController",controllerInstance);registerControllerCallbacks($q,$transitions,controllerInstance,scope,cfg)}if(core.isString(cfg.viewDecl.component)){var cmp_1=cfg.viewDecl.component;var kebobName=core.kebobString(cmp_1);var tagRegexp_1=new RegExp("^(x-|data-)?"+kebobName+"$","i");var getComponentController=function getComponentController(){var directiveEl=[].slice.call($element[0].children).filter(function(el){return el&&el.tagName&&tagRegexp_1.exec(el.tagName)});return directiveEl&&ng.element(directiveEl).data("$"+cmp_1+"Controller")};var deregisterWatch_1=scope.$watch(getComponentController,function(ctrlInstance){if(!ctrlInstance)return;registerControllerCallbacks($q,$transitions,ctrlInstance,scope,cfg);deregisterWatch_1()})}link(scope)}}}}var hasComponentImpl=typeof ng.module("ui.router")["component"]==="function";var _uiCanExitId=0;function registerControllerCallbacks($q,$transitions,controllerInstance,$scope,cfg){if(core.isFunction(controllerInstance.$onInit)&&!(cfg.viewDecl.component&&hasComponentImpl)){controllerInstance.$onInit()}var viewState=core.tail(cfg.path).state.self;var hookOptions={bind:controllerInstance};if(core.isFunction(controllerInstance.uiOnParamsChanged)){var resolveContext=new core.ResolveContext(cfg.path);var viewCreationTrans_1=resolveContext.getResolvable("$transition$").data;var paramsUpdated=function paramsUpdated($transition$){if($transition$===viewCreationTrans_1||$transition$.exiting().indexOf(viewState)!==-1)return;var toParams=$transition$.params("to");var fromParams=$transition$.params("from");var toSchema=$transition$.treeChanges().to.map(function(node){return node.paramSchema}).reduce(core.unnestR,[]);var fromSchema=$transition$.treeChanges().from.map(function(node){return node.paramSchema}).reduce(core.unnestR,[]);var changedToParams=toSchema.filter(function(param){var idx=fromSchema.indexOf(param);return idx===-1||!fromSchema[idx].type.equals(toParams[param.id],fromParams[param.id])});if(changedToParams.length){var changedKeys_1=changedToParams.map(function(x){return x.id});var newValues=core.filter(toParams,function(val,key){return changedKeys_1.indexOf(key)!==-1});controllerInstance.uiOnParamsChanged(newValues,$transition$)}};$scope.$on("$destroy",$transitions.onSuccess({},paramsUpdated,hookOptions))}if(core.isFunction(controllerInstance.uiCanExit)){var id_1=_uiCanExitId++;var cacheProp_1="_uiCanExitIds";var prevTruthyAnswer_1=function prevTruthyAnswer_1(trans){return!!trans&&(trans[cacheProp_1]&&trans[cacheProp_1][id_1]===true||prevTruthyAnswer_1(trans.redirectedFrom()))};var wrappedHook=function wrappedHook(trans){var promise;var ids=trans[cacheProp_1]=trans[cacheProp_1]||{};if(!prevTruthyAnswer_1(trans)){promise=$q.when(controllerInstance.uiCanExit(trans));promise.then(function(val){return ids[id_1]=val!==false})}return promise};var criteria={exiting:viewState.name};$scope.$on("$destroy",$transitions.onBefore(criteria,wrappedHook,hookOptions))}}ng.module("ui.router.state").directive("uiView",uiView);ng.module("ui.router.state").directive("uiView",$ViewDirectiveFill);function $ViewScrollProvider(){var useAnchorScroll=false;this.useAnchorScroll=function(){useAnchorScroll=true};this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){if(useAnchorScroll){return $anchorScroll}return function($element){return $timeout(function(){$element[0].scrollIntoView()},0,false)}}]}ng.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider);var index="ui.router";Object.keys(core).forEach(function(key){exports[key]=core[key]});exports.core=core;exports.default=index;exports.watchDigests=watchDigests;exports.getLocals=getLocals;exports.getNg1ViewConfigFactory=getNg1ViewConfigFactory;exports.ng1ViewsBuilder=ng1ViewsBuilder;exports.Ng1ViewConfig=Ng1ViewConfig;exports.StateProvider=StateProvider;exports.UrlRouterProvider=UrlRouterProvider;Object.defineProperty(exports,"__esModule",{value:true})})},function(module,exports,__webpack_require__){"use strict";!function(e){function n(e,n){return"all"==n?e:e.filter(function(e){return-1!=n.toLowerCase().indexOf(e)})}var a="application/x-dnd",r="application/json",t="Text",d=["move","copy","link"];e.directive("dndDraggable",["$parse","$timeout",function(e,i){return function(l,f,c){f.attr("draggable","true"),c.dndDisableIf&&l.$watch(c.dndDisableIf,function(e){f.attr("draggable",!e)}),f.on("dragstart",function(s){if(s=s.originalEvent||s,"false"==f.attr("draggable"))return!0;o.isDragging=!0,o.itemType=c.dndType&&l.$eval(c.dndType).toLowerCase(),o.dropEffect="none",o.effectAllowed=c.dndEffectAllowed||d[0],s.dataTransfer.effectAllowed=o.effectAllowed;var g=l.$eval(c.dndDraggable),u=a+(o.itemType?"-"+o.itemType:"");try{s.dataTransfer.setData(u,angular.toJson(g))}catch(p){var v=angular.toJson({item:g,type:o.itemType});try{s.dataTransfer.setData(r,v)}catch(p){var D=n(d,o.effectAllowed);s.dataTransfer.effectAllowed=D[0],s.dataTransfer.setData(t,v)}}if(f.addClass("dndDragging"),i(function(){f.addClass("dndDraggingSource")},0),s._dndHandle&&s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(f[0],0,0),e(c.dndDragstart)(l,{event:s}),c.dndCallback){var y=e(c.dndCallback);o.callback=function(e){return y(l,e||{})}}s.stopPropagation()}),f.on("dragend",function(n){n=n.originalEvent||n,l.$apply(function(){var a=o.dropEffect,r={copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"};e(c[r[a]])(l,{event:n}),e(c.dndDragend)(l,{event:n,dropEffect:a})}),o.isDragging=!1,o.callback=void 0,f.removeClass("dndDragging"),f.removeClass("dndDraggingSource"),n.stopPropagation(),i(function(){f.removeClass("dndDraggingSource")},0)}),f.on("click",function(n){c.dndSelected&&(n=n.originalEvent||n,l.$apply(function(){e(c.dndSelected)(l,{event:n})}),n.stopPropagation())}),f.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),e.directive("dndList",["$parse",function(e){return function(i,l,f){function c(e){if(!e)return t;for(var n=0;n<e.length;n++){if(e[n]==t||e[n]==r||e[n].substr(0,a.length)==a)return e[n]}return null}function s(e){return o.isDragging?o.itemType||void 0:e==t||e==r?null:e&&e.substr(a.length+1)||void 0}function g(e){return E.disabled?!1:E.externalSources||o.isDragging?E.allowedTypes&&null!==e?e&&-1!=E.allowedTypes.indexOf(e):!0:!1}function u(e,a){var r=d;return a||(r=n(r,e.dataTransfer.effectAllowed)),o.isDragging&&(r=n(r,o.effectAllowed)),f.dndEffectAllowed&&(r=n(r,f.dndEffectAllowed)),r.length?e.ctrlKey&&-1!=r.indexOf("copy")?"copy":e.altKey&&-1!=r.indexOf("link")?"link":r[0]:"none"}function p(){return T.remove(),l.removeClass("dndDragover"),!0}function v(n,a,r,t,d,l){return e(n)(i,{callback:o.callback,dropEffect:r,event:a,external:!o.isDragging,index:void 0!==d?d:D(),item:l||void 0,type:t})}function D(){return Array.prototype.indexOf.call(m.children,h)}function y(){var e;return angular.forEach(l.children(),function(n){var a=angular.element(n);a.hasClass("dndPlaceholder")&&(e=a)}),e||angular.element("<li class='dndPlaceholder'></li>")}var T=y();T.remove();var h=T[0],m=l[0],E={};l.on("dragenter",function(e){e=e.originalEvent||e;var n=f.dndAllowedTypes&&i.$eval(f.dndAllowedTypes);E={allowedTypes:angular.isArray(n)&&n.join("|").toLowerCase().split("|"),disabled:f.dndDisableIf&&i.$eval(f.dndDisableIf),externalSources:f.dndExternalSources&&i.$eval(f.dndExternalSources),horizontal:f.dndHorizontalList&&i.$eval(f.dndHorizontalList)};var a=c(e.dataTransfer.types);return a&&g(s(a))?void e.preventDefault():!0}),l.on("dragover",function(e){e=e.originalEvent||e;var n=c(e.dataTransfer.types),a=s(n);if(!n||!g(a))return!0;if(h.parentNode!=m&&l.append(T),e.target!=m){for(var r=e.target;r.parentNode!=m&&r.parentNode;){r=r.parentNode}if(r.parentNode==m&&r!=h){var d=r.getBoundingClientRect();if(E.horizontal)var o=e.clientX<d.left+d.width/2;else var o=e.clientY<d.top+d.height/2;m.insertBefore(h,o?r:r.nextSibling)}}var i=n==t,D=u(e,i);return"none"==D?p():f.dndDragover&&!v(f.dndDragover,e,D,a)?p():(e.preventDefault(),i||(e.dataTransfer.dropEffect=D),l.addClass("dndDragover"),e.stopPropagation(),!1)}),l.on("drop",function(e){e=e.originalEvent||e;var n=c(e.dataTransfer.types),a=s(n);if(!n||!g(a))return!0;e.preventDefault();try{var d=JSON.parse(e.dataTransfer.getData(n))}catch(l){return p()}if((n==t||n==r)&&(a=d.type||void 0,d=d.item,!g(a)))return p();var y=n==t,T=u(e,y);if("none"==T)return p();var h=D();return f.dndDrop&&(d=v(f.dndDrop,e,T,a,h,d),!d)?p():(o.dropEffect=T,y||(e.dataTransfer.dropEffect=T),d!==!0&&i.$apply(function(){i.$eval(f.dndList).splice(h,0,d)}),v(f.dndInserted,e,T,a,h,d),p(),e.stopPropagation(),!1)}),l.on("dragleave",function(e){e=e.originalEvent||e;var n=document.elementFromPoint(e.clientX,e.clientY);m.contains(n)&&!e._dndPhShown?e._dndPhShown=!0:p()})}}]),e.directive("dndNodrag",function(){return function(e,n,a){n.attr("draggable","true"),n.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),n.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}),e.directive("dndHandle",function(){return function(e,n,a){n.attr("draggable","true"),n.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}});var o={}}(angular.module("dndLists",[]))},function(module,exports,__webpack_require__){"use strict";!function(a,b,c){"use strict";function d(a){return E(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)==-1}function g(a,b){function c(a,b,c){for(var d=0;b+d<=a.length;){if(a.charAt(b+d)==c)return d;d++}return-1}for(var d=0,e=0;e<=b.length;e++){var f=c(a,d,b.charAt(e));if(f==-1)return!1;d+=f+1}return!0}function h(a,b,c){var d=0;return a.filter(function(a){var e=y(c)?d<b&&c(a):d<b;return d=e?d+1:d,e})}function i(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(D(a[d])&&!E(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return a<b}}function o(){return function(a,b){return a<=b}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=D(b)?d(b):b,!(!E(b)||z(c))&&b.some(function(b){return B(c)&&D(b)||A(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:E(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return!z(b)&&a.some(function(a){return I(a,b)})}if(b=D(b)?d(b):b,!E(b))return b;var f=[],g=a(c);return z(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return!e(f,b)&&(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}function x(){return function(a){return B(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}var y=b.isDefined,z=b.isUndefined,A=b.isFunction,B=b.isString,C=b.isNumber,D=b.isObject,E=b.isArray,F=b.forEach,G=b.extend,H=b.copy,I=b.equals;String.prototype.contains||(String.prototype.contains=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=D(a)?d(a):a,!E(a)||z(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(c===-1?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=D(a)?d(a):a,E(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=D(a)?d(a):a,!E(a)||z(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,c===-1?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=D(a)?d(a):a,E(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(b,c,d){function e(a,b){for(var c=[];a--;){c[a]=b}return c}function f(a,b,c){return E(a)?a.map(function(a,d,f){return d*=b,a=f.slice(d,d+b),!z(c)&&a.length<b?a.concat(e(b-a.length,c)):a}).slice(0,Math.ceil(a.length/b)):a}return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,f(b,c,d))}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(z(b))return a;if(E(a))return D(b)?a.concat(d(b)):a.concat(b);if(D(a)){var c=d(a);return D(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=D(b)?d(b):b,!E(b)||z(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=D(b)?d(b):b,!E(b)||!D(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;z(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!(E(b)&&!z(c))||b.every(function(b){return D(b)||A(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f,g){var h;return f=B(f)||C(f)?String(f).toLowerCase():c,b=D(b)?d(b):b,!E(b)||z(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(/\s+/g,"").split("+");h=d.map(function(c){return a(c)(b)}).join(" ")}else h=a(c)(b);return!(!B(h)&&!C(h))&&(h=String(h).toLowerCase(),g?h===f:h.contains(f))})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=D(b)?d(b):b,E(b)?(g=Array.prototype.slice.call(arguments,1),e=C(g[0])?g[0]:1,f=C(g[0])?C(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=D(a)?d(a):a,E(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=D(b)?d(b):b,!E(b)||z(c)||z(e)?b:(i=a(c),b.filter(function(a){return h=i(a),!!B(h)&&(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1)}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],!!d||!!B(c)&&(c=f?c:c.toLowerCase(),d=g(c,b)!==!1)}).length}var f=c||!1;return a=D(a)?d(a):a,!E(a)||z(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return B(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):!!D(a)&&e(a,b)}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return F(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}return!D(c)||z(d)?c:b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,a(d)))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return D(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return z(a)||!E(a)?a:(z(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=H(b);return i=D(i)?d(i):i,E(i)?(g=Array.prototype.slice.call(arguments,1),e=C(g[0])?g[0]:1,f=C(g[0])?C(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b,c,d,e){c=c||0,d=d||1;for(var f=0;f<parseInt(b);f++){var g=c+f*d;a.push(A(e)?e(g):g)}return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return z(b)?a:(a=D(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=D(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return E(a)?a.filter(function(a){return!b.some(function(b){return I(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=D(a)?d(a):a,B(a)?a.split("").reverse().join(""):E(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=D(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return E(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),G(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return D(a)?b?Object.keys(a).map(function(b){return G(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return z(b)?a:(a=D(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?I(d(a),d(b)):I(a,b)})}return e=e||!1,b=D(b)?d(b):b,c=D(c)?d(c):c,E(b)&&E(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.abs",[]).filter("abs",function(){return function(a){return Math.abs(a)}}),b.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var a=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(b,c){a.push({str:b,val:1024*a[c].val})}),function(b,c){if(C(c)&&isFinite(c)&&c%1===0&&c>=0&&C(b)&&isFinite(b)){for(var d=0;d<a.length-1&&b>=a[d].val;){d++}return b/=d>0?a[d-1].val:1,i(b,c)+" "+a[d].str}return"NaN"}}),b.module("a8m.math.degrees",[]).filter("degrees",function(){return function(a,b){if(C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)){var c=180*a/Math.PI;return Math.round(c*Math.pow(10,b))/Math.pow(10,b)}return"NaN"}}),b.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var a=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(b,c){a.push({str:b,val:1024*a[c].val})}),function(b,c){if(C(c)&&isFinite(c)&&c%1===0&&c>=0&&C(b)&&isFinite(b)){for(var d=0;d<a.length-1&&b>=a[d].val;){d++}return b/=d>0?a[d-1].val:1,i(b,c)+" "+a[d].str}return"NaN"}}),b.module("a8m.math.max",[]).filter("max",["$parse",function(a){function b(b,c){var d=b.map(function(b){return a(c)(b)});return d.indexOf(Math.max.apply(Math,d))}return function(a,c){return E(a)?z(c)?Math.max.apply(Math,a):a[b(a,c)]:a}}]),b.module("a8m.math.min",[]).filter("min",["$parse",function(a){function b(b,c){var d=b.map(function(b){return a(c)(b)});return d.indexOf(Math.min.apply(Math,d))}return function(a,c){return E(a)?z(c)?Math.min.apply(Math,a):a[b(a,c)]:a}}]),b.module("a8m.math.percent",[]).filter("percent",function(){return function(a,b,c){var d=B(a)?Number(a):a;return b=b||100,c=c||!1,!C(d)||isNaN(d)?a:c?Math.round(d/b*100):d/b*100}}),b.module("a8m.math.radians",[]).filter("radians",function(){return function(a,b){if(C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)){var c=3.14159265359*a/180;return Math.round(c*Math.pow(10,b))/Math.pow(10,b)}return"NaN"}}),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return C(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(a,b){return C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)?a<1e3?""+a:a<1e6?i(a/1e3,b)+" K":a<1e9?i(a/1e6,b)+" M":i(a/1e9,b)+" B":"NaN"}}),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return E(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!B(a)||z(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,a.indexOf(e?b:b.toLowerCase(),d)!==-1)}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],c={},d=0;d<b.length;d++){for(var e=b[d].letters.split(""),f=0;f<e.length;f++){c[e[f]]=b[d].base}}return function(b){return B(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return B(a)?a.match(d):null}}),b.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(a){return a+="","("+a.slice(0,3)+") "+a.slice(3,6)+"-"+a.slice(6)}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return B(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=z(b)?"-":b;return B(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.split",[]).filter("split",function(){function a(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}return function(b,c,d){var f,g,h,i;return z(b)||!B(b)?null:(z(c)&&(c=""),isNaN(d)&&(d=0),f=new RegExp(a(c),"g"),g=b.match(f),e(g)||d>=g.length?[b]:0===d?b.split(c):(h=b.split(c),i=h.splice(0,d+1),h.unshift(i.join(c)),h))}}),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!B(a)||z(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return z(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return B(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return B(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=z(b)?a.length:b,d=d||!1,c=c||"",!B(a)||a.length<=b?a:a.substring(0,d?a.indexOf(" ",b)===-1?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter({ucfirst:x,titleize:x}),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return B(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return B(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return B(a)&&y(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,b){function c(b,c){function d(){var b=[];return function(c,d){if(D(d)&&!e(d)){if(~b.indexOf(d))return"[Circular]";b.push(d)}return a==d?"$WINDOW":a.document==d?"$DOCUMENT":k(d)?"$SCOPE":d}}return[b,JSON.stringify(c,d())].join("#").replace(/"/g,"")}function d(a){var b=a.targetScope.$id;F(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){b.$$phase||(j={})},2e3)}function g(a,b){var c=a.$id;return z(l[c])&&(a.$on("$destroy",d),l[c]=[]),l[c].push(b)}function h(a,b){var d=c(a,b);return j[d]}function i(a,b,d,e){var h=c(a,b);return j[h]=e,k(d)?g(d,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular)},,,function(module,exports,__webpack_require__){"use strict";(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isDefined=angular.isDefined;lowercase=angular.lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=toMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=toMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,toMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,toMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=toMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=toMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function toMap(str,lowercaseKeys){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function start(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(">")}},end:function end(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function chars(_chars){if(!ignoreCurrentElement){out(encodeEntities(_chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.6.9"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(204);module.exports="ngSanitize"},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function($animate,$q,$parse,$injector){var $animateCss=$injector.has("$animateCss")?$injector.get("$animateCss"):null;return{link:function link(scope,element,attrs){var expandingExpr=$parse(attrs.expanding),expandedExpr=$parse(attrs.expanded),collapsingExpr=$parse(attrs.collapsing),collapsedExpr=$parse(attrs.collapsed),horizontal=false,css={},cssTo={};init();function init(){horizontal=!!("horizontal"in attrs);if(horizontal){css={width:""};cssTo={width:"0"}}else{css={height:""};cssTo={height:"0"}}if(!scope.$eval(attrs.uibCollapse)){element.addClass("in").addClass("collapse").attr("aria-expanded",true).attr("aria-hidden",false).css(css)}}function getScrollFromElement(element){if(horizontal){return{width:element.scrollWidth+"px"}}return{height:element.scrollHeight+"px"}}function expand(){if(element.hasClass("collapse")&&element.hasClass("in")){return}$q.resolve(expandingExpr(scope)).then(function(){element.removeClass("collapse").addClass("collapsing").attr("aria-expanded",true).attr("aria-hidden",false);if($animateCss){$animateCss(element,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:getScrollFromElement(element[0])}).start()["finally"](expandDone)}else{$animate.addClass(element,"in",{css:{overflow:"hidden"},to:getScrollFromElement(element[0])}).then(expandDone)}},angular.noop)}function expandDone(){element.removeClass("collapsing").addClass("collapse").css(css);expandedExpr(scope)}function collapse(){if(!element.hasClass("collapse")&&!element.hasClass("in")){return collapseDone()}$q.resolve(collapsingExpr(scope)).then(function(){element.css(getScrollFromElement(element[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",false).attr("aria-hidden",true);if($animateCss){$animateCss(element,{removeClass:"in",to:cssTo}).start()["finally"](collapseDone)}else{$animate.removeClass(element,"in",{to:cssTo}).then(collapseDone)}},angular.noop)}function collapseDone(){element.css(cssTo);element.removeClass("collapsing").addClass("collapse");collapsedExpr(scope)}scope.$watch(attrs.uibCollapse,function(shouldCollapse){if(shouldCollapse){collapse()}else{expand()}})}}}]);angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function link(scope,elem,attrs){attrs.$observe("disabled",function(disabled){attrs.$set("tabindex",disabled?-1:null)})}}});angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:true}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function($scope,$attrs,accordionConfig){this.groups=[];this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;if(closeOthers){angular.forEach(this.groups,function(group){if(group!==openGroup){group.isOpen=false}})}};this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope);groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})};this.removeGroup=function(group){var index=this.groups.indexOf(group);if(index!==-1){this.groups.splice(index,1)}}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:true,templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:true,restrict:"A",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function controller(){this.setHeading=function(element){this.heading=element}},link:function link(scope,element,attrs,accordionCtrl){element.addClass("panel");accordionCtrl.addGroup(scope);scope.openClass=attrs.openClass||"panel-open";scope.panelClass=attrs.panelClass||"panel-default";scope.$watch("isOpen",function(value){element.toggleClass(scope.openClass,!!value);if(value){accordionCtrl.closeOthers(scope)}});scope.toggleOpen=function($event){if(!scope.isDisabled){if(!$event||$event.which===32){scope.isOpen=!scope.isOpen}}};var id="accordiongroup-"+scope.$id+"-"+Math.floor(Math.random()*1e4);scope.headingId=id+"-tab";scope.panelId=id+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:true,template:"",replace:true,require:"^uibAccordionGroup",link:function link(scope,element,attrs,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function link(scope,element,attrs,controller){scope.$watch(function(){return controller[attrs.uibAccordionTransclude]},function(heading){if(heading){var elem=angular.element(element[0].querySelector(getHeaderSelectors()));elem.html("");elem.append(heading)}})}};function getHeaderSelectors(){return"uib-accordion-header,"+"data-uib-accordion-header,"+"x-uib-accordion-header,"+"uib\\:accordion-header,"+"[uib-accordion-header],"+"[data-uib-accordion-header],"+"[x-uib-accordion-header]"}});angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function($scope,$element,$attrs,$interpolate,$timeout){$scope.closeable=!!$attrs.close;$element.addClass("alert");$attrs.$set("role","alert");if($scope.closeable){$element.addClass("alert-dismissible")}var dismissOnTimeout=angular.isDefined($attrs.dismissOnTimeout)?$interpolate($attrs.dismissOnTimeout)($scope.$parent):null;if(dismissOnTimeout){$timeout(function(){$scope.close()},parseInt(dismissOnTimeout,10))}}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/alert/alert.html"},transclude:true,scope:{close:"&"}}});angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active";this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function($parse){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function link(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];var uncheckableExpr=$parse(attrs.uibUncheckable);element.find("input").css({display:"none"});ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.uibBtnRadio)))};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return}var isActive=element.hasClass(buttonsCtrl.activeClass);if(!isActive||angular.isDefined(attrs.uncheckable)){scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.uibBtnRadio));ngModelCtrl.$render()})}});if(attrs.uibUncheckable){scope.$watch(uncheckableExpr,function(uncheckable){attrs.$set("uncheckable",uncheckable?"":undefined)})}}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function link(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];element.find("input").css({display:"none"});function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,true)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,false)}function getCheckboxValue(attribute,defaultValue){return angular.isDefined(attribute)?scope.$eval(attribute):defaultValue}ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return}scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue());ngModelCtrl.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function($scope,$element,$interval,$timeout,$animate){var self=this,slides=self.slides=$scope.slides=[],SLIDE_DIRECTION="uib-slideDirection",currentIndex=$scope.active,currentInterval,isPlaying;var destroyed=false;$element.addClass("carousel");self.addSlide=function(slide,element){slides.push({slide:slide,element:element});slides.sort(function(a,b){return+a.slide.index-+b.slide.index});if(slide.index===$scope.active||slides.length===1&&!angular.isNumber($scope.active)){if($scope.$currentTransition){$scope.$currentTransition=null}currentIndex=slide.index;$scope.active=slide.index;setActive(currentIndex);self.select(slides[findSlideIndex(slide)]);if(slides.length===1){$scope.play()}}};self.getCurrentIndex=function(){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===currentIndex){return i}}};self.next=$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;if(newIndex===0&&$scope.noWrap()){$scope.pause();return}return self.select(slides[newIndex],"next")};self.prev=$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;if($scope.noWrap()&&newIndex===slides.length-1){$scope.pause();return}return self.select(slides[newIndex],"prev")};self.removeSlide=function(slide){var index=findSlideIndex(slide);slides.splice(index,1);if(slides.length>0&&currentIndex===index){if(index>=slides.length){currentIndex=slides.length-1;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[slides.length-1])}else{currentIndex=index;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[index])}}else if(currentIndex>index){currentIndex--;$scope.active=currentIndex}if(slides.length===0){currentIndex=null;$scope.active=null}};self.select=$scope.select=function(nextSlide,direction){var nextIndex=findSlideIndex(nextSlide.slide);if(direction===undefined){direction=nextIndex>self.getCurrentIndex()?"next":"prev"}if(nextSlide.slide.index!==currentIndex&&!$scope.$currentTransition){goNext(nextSlide.slide,nextIndex,direction)}};$scope.indexOfSlide=function(slide){return+slide.slide.index};$scope.isActive=function(slide){return $scope.active===slide.slide.index};$scope.isPrevDisabled=function(){return $scope.active===0&&$scope.noWrap()};$scope.isNextDisabled=function(){return $scope.active===slides.length-1&&$scope.noWrap()};$scope.pause=function(){if(!$scope.noPause){isPlaying=false;resetTimer()}};$scope.play=function(){if(!isPlaying){isPlaying=true;restartTimer()}};$element.on("mouseenter",$scope.pause);$element.on("mouseleave",$scope.play);$scope.$on("$destroy",function(){destroyed=true;resetTimer()});$scope.$watch("noTransition",function(noTransition){$animate.enabled($element,!noTransition)});$scope.$watch("interval",restartTimer);$scope.$watchCollection("slides",resetTransition);$scope.$watch("active",function(index){if(angular.isNumber(index)&&currentIndex!==index){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===index){index=i;break}}var slide=slides[index];if(slide){setActive(index);self.select(slides[index]);currentIndex=index}}});function getSlideByIndex(index){for(var i=0,l=slides.length;i<l;++i){if(slides[i].index===index){return slides[i]}}}function setActive(index){for(var i=0;i<slides.length;i++){slides[i].slide.active=i===index}}function goNext(slide,index,direction){if(destroyed){return}angular.extend(slide,{direction:direction});angular.extend(slides[currentIndex].slide||{},{direction:direction});if($animate.enabled($element)&&!$scope.$currentTransition&&slides[index].element&&self.slides.length>1){slides[index].element.data(SLIDE_DIRECTION,slide.direction);var currentIdx=self.getCurrentIndex();if(angular.isNumber(currentIdx)&&slides[currentIdx].element){slides[currentIdx].element.data(SLIDE_DIRECTION,slide.direction)}$scope.$currentTransition=true;$animate.on("addClass",slides[index].element,function(element,phase){if(phase==="close"){$scope.$currentTransition=null;$animate.off("addClass",element)}})}$scope.active=slide.index;currentIndex=slide.index;setActive(index);restartTimer()}function findSlideIndex(slide){for(var i=0;i<slides.length;i++){if(slides[i].slide===slide){return i}}}function resetTimer(){if(currentInterval){$interval.cancel(currentInterval);currentInterval=null}}function resetTransition(slides){if(!slides.length){$scope.$currentTransition=null}}function restartTimer(){resetTimer();var interval=+$scope.interval;if(!isNaN(interval)&&interval>0){currentInterval=$interval(timerFn,interval)}}function timerFn(){var interval=+$scope.interval;if(isPlaying&&!isNaN(interval)&&interval>0&&slides.length){$scope.next()}else{$scope.pause()}}}]).directive("uibCarousel",function(){return{transclude:true,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function($animate){return{require:"^uibCarousel",restrict:"A",transclude:true,templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function link(scope,element,attrs,carouselCtrl){element.addClass("item");carouselCtrl.addSlide(scope,element);scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)});scope.$watch("active",function(active){$animate[active?"addClass":"removeClass"](element,"active")})}}}]).animation(".item",["$animateCss",function($animateCss){var SLIDE_DIRECTION="uib-slideDirection";function removeClass(element,className,callback){element.removeClass(className);if(callback){callback()}}return{beforeAddClass:function beforeAddClass(element,className,done){if(className==="active"){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==="next"?"left":"right";var removeClassFn=removeClass.bind(this,element,directionClass+" "+direction,done);element.addClass(direction);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true}}done()},beforeRemoveClass:function beforeRemoveClass(element,className,done){if(className==="active"){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==="next"?"left":"right";var removeClassFn=removeClass.bind(this,element,directionClass,done);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true}}done()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function($log,$locale,dateFilter,orderByFilter,filterFilter){var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var localeId;var formatCodeToRegex;this.init=function(){localeId=$locale.id;this.parsers={};this.formatters={};formatCodeToRegex=[{key:"yyyy",regex:"\\d{4}",apply:function apply(value){this.year=+value},formatter:function formatter(date){var _date=new Date;_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function apply(value){value=+value;this.year=value<69?value+2e3:value+1900},formatter:function formatter(date){var _date=new Date;_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function apply(value){this.year=+value},formatter:function formatter(date){var _date=new Date;_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function apply(value){this.month=value-1},formatter:function formatter(date){var value=date.getMonth();if(/^[0-9]$/.test(value)){return dateFilter(date,"MM")}return dateFilter(date,"M")}},{key:"MMMM",regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function apply(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)},formatter:function formatter(date){return dateFilter(date,"MMMM")}},{key:"MMM",regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function apply(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)},formatter:function formatter(date){return dateFilter(date,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function apply(value){this.month=value-1},formatter:function formatter(date){return dateFilter(date,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function apply(value){this.month=value-1},formatter:function formatter(date){return dateFilter(date,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function apply(value){this.date=+value},formatter:function formatter(date){var value=date.getDate();if(/^[1-9]$/.test(value)){return dateFilter(date,"dd")}return dateFilter(date,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function apply(value){this.date=+value},formatter:function formatter(date){return dateFilter(date,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function apply(value){this.date=+value},formatter:function formatter(date){return dateFilter(date,"d")}},{key:"EEEE",regex:$locale.DATETIME_FORMATS.DAY.join("|"),formatter:function formatter(date){return dateFilter(date,"EEEE")}},{key:"EEE",regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function formatter(date){return dateFilter(date,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function apply(value){this.hours=+value},formatter:function formatter(date){return dateFilter(date,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function apply(value){this.hours=+value},formatter:function formatter(date){return dateFilter(date,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function apply(value){this.hours=+value},formatter:function formatter(date){return dateFilter(date,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function apply(value){this.hours=+value},formatter:function formatter(date){return dateFilter(date,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function apply(value){this.minutes=+value},formatter:function formatter(date){return dateFilter(date,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function apply(value){this.minutes=+value},formatter:function formatter(date){return dateFilter(date,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function apply(value){this.milliseconds=+value},formatter:function formatter(date){return dateFilter(date,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function apply(value){this.seconds=+value},formatter:function formatter(date){return dateFilter(date,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function apply(value){this.seconds=+value},formatter:function formatter(date){return dateFilter(date,"s")}},{key:"a",regex:$locale.DATETIME_FORMATS.AMPMS.join("|"),apply:function apply(value){if(this.hours===12){this.hours=0}if(value==="PM"){this.hours+=12}},formatter:function formatter(date){return dateFilter(date,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function apply(value){var matches=value.match(/([+-])(\d{2})(\d{2})/),sign=matches[1],hours=matches[2],minutes=matches[3];this.hours+=toInt(sign+hours);this.minutes+=toInt(sign+minutes)},formatter:function formatter(date){return dateFilter(date,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function formatter(date){return dateFilter(date,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function formatter(date){return dateFilter(date,"w")}},{key:"GGGG",regex:$locale.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function formatter(date){return dateFilter(date,"GGGG")}},{key:"GGG",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function formatter(date){return dateFilter(date,"GGG")}},{key:"GG",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function formatter(date){return dateFilter(date,"GG")}},{key:"G",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function formatter(date){return dateFilter(date,"G")}}];if(angular.version.major>=1&&angular.version.minor>4){formatCodeToRegex.push({key:"LLLL",regex:$locale.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function apply(value){this.month=$locale.DATETIME_FORMATS.STANDALONEMONTH.indexOf(value)},formatter:function formatter(date){return dateFilter(date,"LLLL")}})}};this.init();function getFormatCodeToRegex(key){return filterFilter(formatCodeToRegex,{key:key},true)[0]}this.getParser=function(key){var f=getFormatCodeToRegex(key);return f&&f.apply||null};this.overrideParser=function(key,parser){var f=getFormatCodeToRegex(key);if(f&&angular.isFunction(parser)){this.parsers={};f.apply=parser}}.bind(this);function createParser(format){var map=[],regex=format.split("");var quoteIndex=format.indexOf("'");if(quoteIndex>-1){var inLiteral=false;format=format.split("");for(var i=quoteIndex;i<format.length;i++){if(inLiteral){if(format[i]==="'"){if(i+1<format.length&&format[i+1]==="'"){format[i+1]="$";regex[i+1]=""}else{regex[i]="";inLiteral=false}}format[i]="$"}else{if(format[i]==="'"){format[i]="$";regex[i]="";inLiteral=true}}}format=format.join("")}angular.forEach(formatCodeToRegex,function(data){var index=format.indexOf(data.key);if(index>-1){format=format.split("");regex[index]="("+data.regex+")";format[index]="$";for(var i=index+1,n=index+data.key.length;i<n;i++){regex[i]="";format[i]="$"}format=format.join("");map.push({index:index,key:data.key,apply:data.apply,matcher:data.regex})}});return{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function createFormatter(format){var formatters=[];var i=0;var formatter,literalIdx;while(i<format.length){if(angular.isNumber(literalIdx)){if(format.charAt(i)==="'"){if(i+1>=format.length||format.charAt(i+1)!=="'"){formatters.push(constructLiteralFormatter(format,literalIdx,i));literalIdx=null}}else if(i===format.length){while(literalIdx<format.length){formatter=constructFormatterFromIdx(format,literalIdx);formatters.push(formatter);literalIdx=formatter.endIdx}}i++;continue}if(format.charAt(i)==="'"){literalIdx=i;i++;continue}formatter=constructFormatterFromIdx(format,i);formatters.push(formatter.parser);i=formatter.endIdx}return formatters}function constructLiteralFormatter(format,literalIdx,endIdx){return function(){return format.substr(literalIdx+1,endIdx-literalIdx-1)}}function constructFormatterFromIdx(format,i){var currentPosStr=format.substr(i);for(var j=0;j<formatCodeToRegex.length;j++){if(new RegExp("^"+formatCodeToRegex[j].key).test(currentPosStr)){var data=formatCodeToRegex[j];return{endIdx:i+data.key.length,parser:data.formatter}}}return{endIdx:i+1,parser:function parser(){return currentPosStr.charAt(0)}}}this.filter=function(date,format){if(!angular.isDate(date)||isNaN(date)||!format){return""}format=$locale.DATETIME_FORMATS[format]||format;if($locale.id!==localeId){this.init()}if(!this.formatters[format]){this.formatters[format]=createFormatter(format)}var formatters=this.formatters[format];return formatters.reduce(function(str,formatter){return str+formatter(date)},"")};this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format){return input}format=$locale.DATETIME_FORMATS[format]||format;format=format.replace(SPECIAL_CHARACTERS_REGEXP,"\\$&");if($locale.id!==localeId){this.init()}if(!this.parsers[format]){this.parsers[format]=createParser(format,"apply")}var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex),tzOffset=false;if(results&&results.length){var fields,dt;if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())){fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()}}else{if(baseDate){$log.warn("dateparser:","baseDate is not a valid date")}fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}}for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];if(mapper.matcher==="Z"){tzOffset=true}if(mapper.apply){mapper.apply.call(fields,results[i])}}var datesetter=tzOffset?Date.prototype.setUTCFullYear:Date.prototype.setFullYear;var timesetter=tzOffset?Date.prototype.setUTCHours:Date.prototype.setHours;if(isValid(fields.year,fields.month,fields.date)){if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())&&!tzOffset){dt=new Date(baseDate);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours,fields.minutes,fields.seconds,fields.milliseconds)}else{dt=new Date(0);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours||0,fields.minutes||0,fields.seconds||0,fields.milliseconds||0)}}return dt}};function isValid(year,month,date){if(date<1){return false}if(month===1&&date>28){return date===29&&(year%4===0&&year%100!==0||year%400===0)}if(month===3||month===5||month===8||month===10){return date<31}return true}function toInt(str){return parseInt(str,10)}this.toTimezone=toTimezone;this.fromTimezone=fromTimezone;this.timezoneToOffset=timezoneToOffset;this.addDateMinutes=addDateMinutes;this.convertTimezoneToLocal=convertTimezoneToLocal;function toTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone):date}function fromTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone,true):date}function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}}]);angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function($animate){var ON_REGEXP=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/;var IS_REGEXP=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;var dataPerTracked={};return{restrict:"A",compile:function compile(tElement,tAttrs){var linkedScopes=[];var instances=[];var expToData={};var lastActivated=null;var onExpMatches=tAttrs.uibIsClass.match(ON_REGEXP);var onExp=onExpMatches[2];var expsStr=onExpMatches[1];var exps=expsStr.split(",");return linkFn;function linkFn(scope,element,attrs){linkedScopes.push(scope);instances.push({scope:scope,element:element});exps.forEach(function(exp,k){addForExp(exp,scope)});scope.$on("$destroy",removeScope)}function addForExp(exp,scope){var matches=exp.match(IS_REGEXP);var clazz=scope.$eval(matches[1]);var compareWithExp=matches[2];var data=expToData[exp];if(!data){var watchFn=function watchFn(compareWithVal){var newActivated=null;instances.some(function(instance){var thisVal=instance.scope.$eval(onExp);if(thisVal===compareWithVal){newActivated=instance;return true}});if(data.lastActivated!==newActivated){if(data.lastActivated){$animate.removeClass(data.lastActivated.element,clazz)}if(newActivated){$animate.addClass(newActivated.element,clazz)}data.lastActivated=newActivated}};expToData[exp]=data={lastActivated:null,scope:scope,watchFn:watchFn,compareWithExp:compareWithExp,watcher:scope.$watch(compareWithExp,watchFn)}}data.watchFn(scope.$eval(compareWithExp))}function removeScope(e){var removedScope=e.targetScope;var index=linkedScopes.indexOf(removedScope);linkedScopes.splice(index,1);instances.splice(index,1);if(linkedScopes.length){var newWatchScope=linkedScopes[0];angular.forEach(expToData,function(data){if(data.scope===removedScope){data.watcher=newWatchScope.$watch(data.compareWithExp,data.watchFn);data.scope=newWatchScope}})}else{expToData={}}}}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",false).value("$datepickerLiteralWarning",true).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:false,showWeeks:true,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function($scope,$element,$attrs,$parse,$interpolate,$locale,$log,dateFilter,datepickerConfig,$datepickerLiteralWarning,$datepickerSuppressError,dateParser){var self=this,ngModelCtrl={$setViewValue:angular.noop},ngModelOptions={},watchListeners=[];$element.addClass("uib-datepicker");$attrs.$set("role","application");if(!$scope.datepickerOptions){$scope.datepickerOptions={}}this.modes=["day","month","year"];["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(key){switch(key){case"customClass":case"dateDisabled":$scope[key]=$scope.datepickerOptions[key]||angular.noop;break;case"datepickerMode":$scope.datepickerMode=angular.isDefined($scope.datepickerOptions.datepickerMode)?$scope.datepickerOptions.datepickerMode:datepickerConfig.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":self[key]=angular.isDefined($scope.datepickerOptions[key])?$interpolate($scope.datepickerOptions[key])($scope.$parent):datepickerConfig[key];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":self[key]=angular.isDefined($scope.datepickerOptions[key])?$scope.datepickerOptions[key]:datepickerConfig[key];break;case"startingDay":if(angular.isDefined($scope.datepickerOptions.startingDay)){self.startingDay=$scope.datepickerOptions.startingDay}else if(angular.isNumber(datepickerConfig.startingDay)){self.startingDay=datepickerConfig.startingDay}else{self.startingDay=($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7}break;case"maxDate":case"minDate":$scope.$watch("datepickerOptions."+key,function(value){if(value){if(angular.isDate(value)){self[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.getOption("timezone"))}else{if($datepickerLiteralWarning){$log.warn("Literal date support has been deprecated, please switch to date object usage")}self[key]=new Date(dateFilter(value,"medium"))}}else{self[key]=datepickerConfig[key]?dateParser.fromTimezone(new Date(datepickerConfig[key]),ngModelOptions.getOption("timezone")):null}self.refreshView()});break;case"maxMode":case"minMode":if($scope.datepickerOptions[key]){$scope.$watch(function(){return $scope.datepickerOptions[key]},function(value){self[key]=$scope[key]=angular.isDefined(value)?value:$scope.datepickerOptions[key];if(key==="minMode"&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)<self.modes.indexOf(self[key])||key==="maxMode"&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)>self.modes.indexOf(self[key])){$scope.datepickerMode=self[key];$scope.datepickerOptions.datepickerMode=self[key]}})}else{self[key]=$scope[key]=datepickerConfig[key]||null}break}});$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(Math.random()*1e4);$scope.disabled=angular.isDefined($attrs.disabled)||false;if(angular.isDefined($attrs.ngDisabled)){watchListeners.push($scope.$parent.$watch($attrs.ngDisabled,function(disabled){$scope.disabled=disabled;self.refreshView()}))}$scope.isActive=function(dateObject){if(self.compare(dateObject.date,self.activeDate)===0){$scope.activeDateId=dateObject.uid;return true}return false};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelOptions=extractOptions(ngModelCtrl);if($scope.datepickerOptions.initDate){self.activeDate=dateParser.fromTimezone($scope.datepickerOptions.initDate,ngModelOptions.getOption("timezone"))||new Date;$scope.$watch("datepickerOptions.initDate",function(initDate){if(initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)){self.activeDate=dateParser.fromTimezone(initDate,ngModelOptions.getOption("timezone"));self.refreshView()}})}else{self.activeDate=new Date}var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date;this.activeDate=!isNaN(date)?dateParser.fromTimezone(date,ngModelOptions.getOption("timezone")):dateParser.fromTimezone(new Date,ngModelOptions.getOption("timezone"));ngModelCtrl.$render=function(){self.render()}};this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);if(isValid){this.activeDate=dateParser.fromTimezone(date,ngModelOptions.getOption("timezone"))}else if(!$datepickerSuppressError){$log.error('Datepicker directive: "ng-model" value must be a Date object')}}this.refreshView()};this.refreshView=function(){if(this.element){$scope.selectedDt=null;this._refreshView();if($scope.activeDt){$scope.activeDateId=$scope.activeDt.uid}var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;date=dateParser.fromTimezone(date,ngModelOptions.getOption("timezone"));ngModelCtrl.$setValidity("dateDisabled",!date||this.element&&!this.isDisabled(date))}};this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;model=dateParser.fromTimezone(model,ngModelOptions.getOption("timezone"));var today=new Date;today=dateParser.fromTimezone(today,ngModelOptions.getOption("timezone"));var time=this.compare(date,today);var dt={date:date,label:dateParser.filter(date,format),selected:model&&this.compare(date,model)===0,disabled:this.isDisabled(date),past:time<0,current:time===0,future:time>0,customClass:this.customClass(date)||null};if(model&&this.compare(date,model)===0){$scope.selectedDt=dt}if(self.activeDate&&this.compare(dt.date,self.activeDate)===0){$scope.activeDt=dt}return dt};this.isDisabled=function(date){return $scope.disabled||this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})};this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode})};this.split=function(arr,size){var arrays=[];while(arr.length>0){arrays.push(arr.splice(0,size))}return arrays};$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue),ngModelOptions.getOption("timezone")):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());dt=dateParser.toTimezone(dt,ngModelOptions.getOption("timezone"));ngModelCtrl.$setViewValue(dt);ngModelCtrl.$render()}else{self.activeDate=date;setMode(self.modes[self.modes.indexOf($scope.datepickerMode)-1]);$scope.$emit("uib:datepicker.mode")}$scope.$broadcast("uib:datepicker.focus")};$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1);self.refreshView()};$scope.toggleMode=function(direction){direction=direction||1;if($scope.datepickerMode===self.maxMode&&direction===1||$scope.datepickerMode===self.minMode&&direction===-1){return}setMode(self.modes[self.modes.indexOf($scope.datepickerMode)+direction]);$scope.$emit("uib:datepicker.mode")};$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function focusElement(){self.element[0].focus()};$scope.$on("uib:datepicker.focus",focusElement);$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(!key||evt.shiftKey||evt.altKey||$scope.disabled){return}evt.preventDefault();if(!self.shortcutPropagation){evt.stopPropagation()}if(key==="enter"||key==="space"){if(self.isDisabled(self.activeDate)){return}$scope.select(self.activeDate)}else if(evt.ctrlKey&&(key==="up"||key==="down")){$scope.toggleMode(key==="up"?1:-1)}else{self.handleKeyDown(key,evt);self.refreshView()}};$element.on("keydown",function(evt){$scope.$apply(function(){$scope.keydown(evt)})});$scope.$on("$destroy",function(){while(watchListeners.length){watchListeners.shift()()}});function setMode(mode){$scope.datepickerMode=mode;$scope.datepickerOptions.datepickerMode=mode}function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||$scope.datepickerOptions.ngModelOptions||datepickerConfig.ngModelOptions||{};ngModelOptions.getOption=function(key){return ngModelOptions[key]}}else{var timezone=ngModelCtrl.$options.getOption("timezone")||($scope.datepickerOptions.ngModelOptions?$scope.datepickerOptions.ngModelOptions.timezone:null)||(datepickerConfig.ngModelOptions?datepickerConfig.ngModelOptions.timezone:null);ngModelOptions=ngModelCtrl.$options.createChild(datepickerConfig.ngModelOptions).createChild($scope.datepickerOptions.ngModelOptions).createChild(ngModelCtrl.$options).createChild({timezone:timezone})}return ngModelOptions}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=$element;function getDaysInMonth(year,month){return month===1&&year%4===0&&(year%100!==0||year%400===0)?29:DAYS_IN_MONTH[month]}this.init=function(ctrl){angular.extend(ctrl,this);scope.showWeeks=ctrl.showWeeks;ctrl.refreshView()};this.getDates=function(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0,date;while(i<n){date=new Date(current);dates[i++]=date;current.setDate(current.getDate()+1)}return dates};this._refreshView=function(){var year=this.activeDate.getFullYear(),month=this.activeDate.getMonth(),firstDayOfMonth=new Date(this.activeDate);firstDayOfMonth.setFullYear(year,month,1);var difference=this.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);if(numDisplayedFromPreviousMonth>0){firstDate.setDate(-numDisplayedFromPreviousMonth+1)}var days=this.getDates(firstDate,42);for(var i=0;i<42;i++){days[i]=angular.extend(this.createDateObject(days[i],this.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i})}scope.labels=new Array(7);for(var j=0;j<7;j++){scope.labels[j]={abbr:dateFilter(days[j].date,this.formatDayHeader),full:dateFilter(days[j].date,"EEEE")}}scope.title=dateFilter(this.activeDate,this.formatDayTitle);scope.rows=this.split(days,7);if(scope.showWeeks){scope.weekNumbers=[];var thursdayIndex=(4+7-this.startingDay)%7,numWeeks=scope.rows.length;for(var curWeek=0;curWeek<numWeeks;curWeek++){scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))}}};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth(),date1.getDate());var _date2=new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2};function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/864e5)/7)+1}this.handleKeyDown=function(key,evt){var date=this.activeDate.getDate();if(key==="left"){date=date-1}else if(key==="up"){date=date-7}else if(key==="right"){date=date+1}else if(key==="down"){date=date+7}else if(key==="pageup"||key==="pagedown"){var month=this.activeDate.getMonth()+(key==="pageup"?-1:1);this.activeDate.setMonth(month,1);date=Math.min(getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth()),date)}else if(key==="home"){date=1}else if(key==="end"){date=getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth())}this.activeDate.setDate(date)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){this.step={years:1};this.element=$element;this.init=function(ctrl){angular.extend(ctrl,this);ctrl.refreshView()};this._refreshView=function(){var months=new Array(12),year=this.activeDate.getFullYear(),date;for(var i=0;i<12;i++){date=new Date(this.activeDate);date.setFullYear(year,i,1);months[i]=angular.extend(this.createDateObject(date,this.formatMonth),{uid:scope.uniqueId+"-"+i})}scope.title=dateFilter(this.activeDate,this.formatMonthTitle);scope.rows=this.split(months,this.monthColumns);scope.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth());var _date2=new Date(date2.getFullYear(),date2.getMonth());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2};this.handleKeyDown=function(key,evt){var date=this.activeDate.getMonth();if(key==="left"){date=date-1}else if(key==="up"){date=date-this.monthColumns}else if(key==="right"){date=date+1}else if(key==="down"){date=date+this.monthColumns}else if(key==="pageup"||key==="pagedown"){var year=this.activeDate.getFullYear()+(key==="pageup"?-1:1);this.activeDate.setFullYear(year)}else if(key==="home"){date=0}else if(key==="end"){date=11}this.activeDate.setMonth(date)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){var columns,range;this.element=$element;function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}this.yearpickerInit=function(){columns=this.yearColumns;range=this.yearRows*columns;this.step={years:range}};this._refreshView=function(){var years=new Array(range),date;for(var i=0,start=getStartingYear(this.activeDate.getFullYear());i<range;i++){date=new Date(this.activeDate);date.setFullYear(start+i,0,1);years[i]=angular.extend(this.createDateObject(date,this.formatYear),{uid:scope.uniqueId+"-"+i})}scope.title=[years[0].label,years[range-1].label].join(" - ");scope.rows=this.split(years,columns);scope.columns=columns};this.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()};this.handleKeyDown=function(key,evt){var date=this.activeDate.getFullYear();if(key==="left"){date=date-1}else if(key==="up"){date=date-columns}else if(key==="right"){date=date+1}else if(key==="down"){date=date+columns}else if(key==="pageup"||key==="pagedown"){date+=(key==="pageup"?-1:1)*range}else if(key==="home"){date=getStartingYear(this.activeDate.getFullYear())}else if(key==="end"){date=getStartingYear(this.activeDate.getFullYear())+range-1}this.activeDate.setFullYear(date)}}]).directive("uibDatepicker",function(){return{templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function link(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datepickerCtrl.init(ngModelCtrl)}}}).directive("uibDaypicker",function(){return{templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function link(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],daypickerCtrl=ctrls[1];daypickerCtrl.init(datepickerCtrl)}}}).directive("uibMonthpicker",function(){return{templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function link(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],monthpickerCtrl=ctrls[1];monthpickerCtrl.init(datepickerCtrl)}}}).directive("uibYearpicker",function(){return{templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function link(scope,element,attrs,ctrls){var ctrl=ctrls[0];angular.extend(ctrl,ctrls[1]);ctrl.yearpickerInit();ctrl.refreshView()}}});angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function($document,$window){var SCROLLBAR_WIDTH;var BODY_SCROLLBAR_WIDTH;var OVERFLOW_REGEX={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/};var PLACEMENT_REGEX={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};var BODY_REGEX=/(HTML|BODY)/;return{getRawNode:function getRawNode(elem){return elem.nodeName?elem:elem[0]||elem},parseStyle:function parseStyle(value){value=parseFloat(value);return isFinite(value)?value:0},offsetParent:function offsetParent(elem){elem=this.getRawNode(elem);var offsetParent=elem.offsetParent||$document[0].documentElement;function isStaticPositioned(el){return($window.getComputedStyle(el).position||"static")==="static"}while(offsetParent&&offsetParent!==$document[0].documentElement&&isStaticPositioned(offsetParent)){offsetParent=offsetParent.offsetParent}return offsetParent||$document[0].documentElement},scrollbarWidth:function scrollbarWidth(isBody){if(isBody){if(angular.isUndefined(BODY_SCROLLBAR_WIDTH)){var bodyElem=$document.find("body");bodyElem.addClass("uib-position-body-scrollbar-measure");BODY_SCROLLBAR_WIDTH=$window.innerWidth-bodyElem[0].clientWidth;BODY_SCROLLBAR_WIDTH=isFinite(BODY_SCROLLBAR_WIDTH)?BODY_SCROLLBAR_WIDTH:0;bodyElem.removeClass("uib-position-body-scrollbar-measure")}return BODY_SCROLLBAR_WIDTH}if(angular.isUndefined(SCROLLBAR_WIDTH)){var scrollElem=angular.element('<div class="uib-position-scrollbar-measure"></div>');$document.find("body").append(scrollElem);SCROLLBAR_WIDTH=scrollElem[0].offsetWidth-scrollElem[0].clientWidth;SCROLLBAR_WIDTH=isFinite(SCROLLBAR_WIDTH)?SCROLLBAR_WIDTH:0;scrollElem.remove()}return SCROLLBAR_WIDTH},scrollbarPadding:function scrollbarPadding(elem){elem=this.getRawNode(elem);var elemStyle=$window.getComputedStyle(elem);var paddingRight=this.parseStyle(elemStyle.paddingRight);var paddingBottom=this.parseStyle(elemStyle.paddingBottom);var scrollParent=this.scrollParent(elem,false,true);var scrollbarWidth=this.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName));return{scrollbarWidth:scrollbarWidth,widthOverflow:scrollParent.scrollWidth>scrollParent.clientWidth,right:paddingRight+scrollbarWidth,originalRight:paddingRight,heightOverflow:scrollParent.scrollHeight>scrollParent.clientHeight,bottom:paddingBottom+scrollbarWidth,originalBottom:paddingBottom}},isScrollable:function isScrollable(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var elemStyle=$window.getComputedStyle(elem);return overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)},scrollParent:function scrollParent(elem,includeHidden,includeSelf){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var documentEl=$document[0].documentElement;var elemStyle=$window.getComputedStyle(elem);if(includeSelf&&overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)){return elem}var excludeStatic=elemStyle.position==="absolute";var scrollParent=elem.parentElement||documentEl;if(scrollParent===documentEl||elemStyle.position==="fixed"){return documentEl}while(scrollParent.parentElement&&scrollParent!==documentEl){var spStyle=$window.getComputedStyle(scrollParent);if(excludeStatic&&spStyle.position!=="static"){excludeStatic=false}if(!excludeStatic&&overflowRegex.test(spStyle.overflow+spStyle.overflowY+spStyle.overflowX)){break}scrollParent=scrollParent.parentElement}return scrollParent},position:function position(elem,includeMagins){elem=this.getRawNode(elem);var elemOffset=this.offset(elem);if(includeMagins){var elemStyle=$window.getComputedStyle(elem);elemOffset.top-=this.parseStyle(elemStyle.marginTop);elemOffset.left-=this.parseStyle(elemStyle.marginLeft)}var parent=this.offsetParent(elem);var parentOffset={top:0,left:0};if(parent!==$document[0].documentElement){parentOffset=this.offset(parent);parentOffset.top+=parent.clientTop-parent.scrollTop;parentOffset.left+=parent.clientLeft-parent.scrollLeft}return{width:Math.round(angular.isNumber(elemOffset.width)?elemOffset.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemOffset.height)?elemOffset.height:elem.offsetHeight),top:Math.round(elemOffset.top-parentOffset.top),left:Math.round(elemOffset.left-parentOffset.left)}},offset:function offset(elem){elem=this.getRawNode(elem);var elemBCR=elem.getBoundingClientRect();return{width:Math.round(angular.isNumber(elemBCR.width)?elemBCR.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemBCR.height)?elemBCR.height:elem.offsetHeight),top:Math.round(elemBCR.top+($window.pageYOffset||$document[0].documentElement.scrollTop)),left:Math.round(elemBCR.left+($window.pageXOffset||$document[0].documentElement.scrollLeft))}},viewportOffset:function viewportOffset(elem,useDocument,includePadding){elem=this.getRawNode(elem);includePadding=includePadding!==false?true:false;var elemBCR=elem.getBoundingClientRect();var offsetBCR={top:0,left:0,bottom:0,right:0};var offsetParent=useDocument?$document[0].documentElement:this.scrollParent(elem);var offsetParentBCR=offsetParent.getBoundingClientRect();offsetBCR.top=offsetParentBCR.top+offsetParent.clientTop;offsetBCR.left=offsetParentBCR.left+offsetParent.clientLeft;if(offsetParent===$document[0].documentElement){offsetBCR.top+=$window.pageYOffset;offsetBCR.left+=$window.pageXOffset}offsetBCR.bottom=offsetBCR.top+offsetParent.clientHeight;offsetBCR.right=offsetBCR.left+offsetParent.clientWidth;if(includePadding){var offsetParentStyle=$window.getComputedStyle(offsetParent);offsetBCR.top+=this.parseStyle(offsetParentStyle.paddingTop);offsetBCR.bottom-=this.parseStyle(offsetParentStyle.paddingBottom);offsetBCR.left+=this.parseStyle(offsetParentStyle.paddingLeft);offsetBCR.right-=this.parseStyle(offsetParentStyle.paddingRight)}return{top:Math.round(elemBCR.top-offsetBCR.top),bottom:Math.round(offsetBCR.bottom-elemBCR.bottom),left:Math.round(elemBCR.left-offsetBCR.left),right:Math.round(offsetBCR.right-elemBCR.right)}},parsePlacement:function parsePlacement(placement){var autoPlace=PLACEMENT_REGEX.auto.test(placement);if(autoPlace){placement=placement.replace(PLACEMENT_REGEX.auto,"")}placement=placement.split("-");placement[0]=placement[0]||"top";if(!PLACEMENT_REGEX.primary.test(placement[0])){placement[0]="top"}placement[1]=placement[1]||"center";if(!PLACEMENT_REGEX.secondary.test(placement[1])){placement[1]="center"}if(autoPlace){placement[2]=true}else{placement[2]=false}return placement},positionElements:function positionElements(hostElem,targetElem,placement,appendToBody){hostElem=this.getRawNode(hostElem);targetElem=this.getRawNode(targetElem);var targetWidth=angular.isDefined(targetElem.offsetWidth)?targetElem.offsetWidth:targetElem.prop("offsetWidth");var targetHeight=angular.isDefined(targetElem.offsetHeight)?targetElem.offsetHeight:targetElem.prop("offsetHeight");placement=this.parsePlacement(placement);var hostElemPos=appendToBody?this.offset(hostElem):this.position(hostElem);var targetElemPos={top:0,left:0,placement:""};if(placement[2]){var viewportOffset=this.viewportOffset(hostElem,appendToBody);var targetElemStyle=$window.getComputedStyle(targetElem);var adjustedSize={width:targetWidth+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft)+this.parseStyle(targetElemStyle.marginRight))),height:targetHeight+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop)+this.parseStyle(targetElemStyle.marginBottom)))};placement[0]=placement[0]==="top"&&adjustedSize.height>viewportOffset.top&&adjustedSize.height<=viewportOffset.bottom?"bottom":placement[0]==="bottom"&&adjustedSize.height>viewportOffset.bottom&&adjustedSize.height<=viewportOffset.top?"top":placement[0]==="left"&&adjustedSize.width>viewportOffset.left&&adjustedSize.width<=viewportOffset.right?"right":placement[0]==="right"&&adjustedSize.width>viewportOffset.right&&adjustedSize.width<=viewportOffset.left?"left":placement[0];placement[1]=placement[1]==="top"&&adjustedSize.height-hostElemPos.height>viewportOffset.bottom&&adjustedSize.height-hostElemPos.height<=viewportOffset.top?"bottom":placement[1]==="bottom"&&adjustedSize.height-hostElemPos.height>viewportOffset.top&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?"top":placement[1]==="left"&&adjustedSize.width-hostElemPos.width>viewportOffset.right&&adjustedSize.width-hostElemPos.width<=viewportOffset.left?"right":placement[1]==="right"&&adjustedSize.width-hostElemPos.width>viewportOffset.left&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?"left":placement[1];if(placement[1]==="center"){if(PLACEMENT_REGEX.vertical.test(placement[0])){var xOverflow=hostElemPos.width/2-targetWidth/2;if(viewportOffset.left+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.right){placement[1]="left"}else if(viewportOffset.right+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.left){placement[1]="right"}}else{var yOverflow=hostElemPos.height/2-adjustedSize.height/2;if(viewportOffset.top+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom){placement[1]="top"}else if(viewportOffset.bottom+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.top){placement[1]="bottom"}}}}switch(placement[0]){case"top":targetElemPos.top=hostElemPos.top-targetHeight;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height;break;case"left":targetElemPos.left=hostElemPos.left-targetWidth;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width;break}switch(placement[1]){case"top":targetElemPos.top=hostElemPos.top;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height-targetHeight;break;case"left":targetElemPos.left=hostElemPos.left;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width-targetWidth;break;case"center":if(PLACEMENT_REGEX.vertical.test(placement[0])){targetElemPos.left=hostElemPos.left+hostElemPos.width/2-targetWidth/2}else{targetElemPos.top=hostElemPos.top+hostElemPos.height/2-targetHeight/2}break}targetElemPos.top=Math.round(targetElemPos.top);targetElemPos.left=Math.round(targetElemPos.left);targetElemPos.placement=placement[1]==="center"?placement[0]:placement[0]+"-"+placement[1];return targetElemPos},adjustTop:function adjustTop(placementClasses,containerPosition,initialHeight,currentHeight){if(placementClasses.indexOf("top")!==-1&&initialHeight!==currentHeight){return{top:containerPosition.top-currentHeight+"px"}}},positionArrow:function positionArrow(elem,placement){elem=this.getRawNode(elem);var innerElem=elem.querySelector(".tooltip-inner, .popover-inner");if(!innerElem){return}var isTooltip=angular.element(innerElem).hasClass("tooltip-inner");var arrowElem=isTooltip?elem.querySelector(".tooltip-arrow"):elem.querySelector(".arrow");if(!arrowElem){return}var arrowCss={top:"",bottom:"",left:"",right:""};placement=this.parsePlacement(placement);if(placement[1]==="center"){angular.element(arrowElem).css(arrowCss);return}var borderProp="border-"+placement[0]+"-width";var borderWidth=$window.getComputedStyle(arrowElem)[borderProp];var borderRadiusProp="border-";if(PLACEMENT_REGEX.vertical.test(placement[0])){borderRadiusProp+=placement[0]+"-"+placement[1]}else{borderRadiusProp+=placement[1]+"-"+placement[0]}borderRadiusProp+="-radius";var borderRadius=$window.getComputedStyle(isTooltip?innerElem:elem)[borderRadiusProp];switch(placement[0]){case"top":arrowCss.bottom=isTooltip?"0":"-"+borderWidth;break;case"bottom":arrowCss.top=isTooltip?"0":"-"+borderWidth;break;case"left":arrowCss.right=isTooltip?"0":"-"+borderWidth;break;case"right":arrowCss.left=isTooltip?"0":"-"+borderWidth;break}arrowCss[placement[1]]=borderRadius;angular.element(arrowElem).css(arrowCss)}}}]);angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",true).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:false,clearText:"Clear",closeOnDateSelection:true,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:true,showButtonBar:true,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function($scope,$element,$attrs,$compile,$log,$parse,$window,$document,$rootScope,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout,datepickerConfig,$datepickerPopupLiteralWarning){var cache={},isHtml5DateInput=false;var dateFormat,closeOnDateSelection,appendToBody,onOpenFocus,datepickerPopupTemplateUrl,datepickerTemplateUrl,popupEl,datepickerEl,scrollParentEl,ngModel,ngModelOptions,$popup,altInputFormats,watchListeners=[];this.init=function(_ngModel_){ngModel=_ngModel_;ngModelOptions=extractOptions(ngModel);closeOnDateSelection=angular.isDefined($attrs.closeOnDateSelection)?$scope.$parent.$eval($attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection;appendToBody=angular.isDefined($attrs.datepickerAppendToBody)?$scope.$parent.$eval($attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;onOpenFocus=angular.isDefined($attrs.onOpenFocus)?$scope.$parent.$eval($attrs.onOpenFocus):datepickerPopupConfig.onOpenFocus;datepickerPopupTemplateUrl=angular.isDefined($attrs.datepickerPopupTemplateUrl)?$attrs.datepickerPopupTemplateUrl:datepickerPopupConfig.datepickerPopupTemplateUrl;datepickerTemplateUrl=angular.isDefined($attrs.datepickerTemplateUrl)?$attrs.datepickerTemplateUrl:datepickerPopupConfig.datepickerTemplateUrl;altInputFormats=angular.isDefined($attrs.altInputFormats)?$scope.$parent.$eval($attrs.altInputFormats):datepickerPopupConfig.altInputFormats;$scope.showButtonBar=angular.isDefined($attrs.showButtonBar)?$scope.$parent.$eval($attrs.showButtonBar):datepickerPopupConfig.showButtonBar;if(datepickerPopupConfig.html5Types[$attrs.type]){dateFormat=datepickerPopupConfig.html5Types[$attrs.type];isHtml5DateInput=true}else{dateFormat=$attrs.uibDatepickerPopup||datepickerPopupConfig.datepickerPopup;$attrs.$observe("uibDatepickerPopup",function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat){dateFormat=newDateFormat;ngModel.$modelValue=null;if(!dateFormat){throw new Error("uibDatepickerPopup must have a date format specified.")}}})}if(!dateFormat){throw new Error("uibDatepickerPopup must have a date format specified.")}if(isHtml5DateInput&&$attrs.uibDatepickerPopup){throw new Error("HTML5 date input types do not support custom formats.")}popupEl=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":datepickerPopupTemplateUrl});datepickerEl=angular.element(popupEl.children()[0]);datepickerEl.attr("template-url",datepickerTemplateUrl);if(!$scope.datepickerOptions){$scope.datepickerOptions={}}if(isHtml5DateInput){if($attrs.type==="month"){$scope.datepickerOptions.datepickerMode="month";$scope.datepickerOptions.minMode="month"}}datepickerEl.attr("datepicker-options","datepickerOptions");if(!isHtml5DateInput){ngModel.$$parserName="date";ngModel.$validators.date=validator;ngModel.$parsers.unshift(parseDate);ngModel.$formatters.push(function(value){if(ngModel.$isEmpty(value)){$scope.date=value;return value}if(angular.isNumber(value)){value=new Date(value)}$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption("timezone"));return dateParser.filter($scope.date,dateFormat)})}else{ngModel.$formatters.push(function(value){$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption("timezone"));return value})}ngModel.$viewChangeListeners.push(function(){$scope.date=parseDateString(ngModel.$viewValue)});$element.on("keydown",inputKeydownBind);$popup=$compile(popupEl)($scope);popupEl.remove();if(appendToBody){$document.find("body").append($popup)}else{$element.after($popup)}$scope.$on("$destroy",function(){if($scope.isOpen===true){if(!$rootScope.$$phase){$scope.$apply(function(){$scope.isOpen=false})}}$popup.remove();$element.off("keydown",inputKeydownBind);$document.off("click",documentClickBind);if(scrollParentEl){scrollParentEl.off("scroll",positionPopup)}angular.element($window).off("resize",positionPopup);while(watchListeners.length){watchListeners.shift()()}})};$scope.getText=function(key){return $scope[key+"Text"]||datepickerPopupConfig[key+"Text"]};$scope.isDisabled=function(date){if(date==="today"){date=dateParser.fromTimezone(new Date,ngModelOptions.getOption("timezone"))}var dates={};angular.forEach(["minDate","maxDate"],function(key){if(!$scope.datepickerOptions[key]){dates[key]=null}else if(angular.isDate($scope.datepickerOptions[key])){dates[key]=new Date($scope.datepickerOptions[key])}else{if($datepickerPopupLiteralWarning){$log.warn("Literal date support has been deprecated, please switch to date object usage")}dates[key]=new Date(dateFilter($scope.datepickerOptions[key],"medium"))}});return $scope.datepickerOptions&&dates.minDate&&$scope.compare(date,dates.minDate)<0||dates.maxDate&&$scope.compare(date,dates.maxDate)>0};$scope.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())};$scope.dateSelection=function(dt){$scope.date=dt;var date=$scope.date?dateParser.filter($scope.date,dateFormat):null;$element.val(date);ngModel.$setViewValue(date);if(closeOnDateSelection){$scope.isOpen=false;$element[0].focus()}};$scope.keydown=function(evt){if(evt.which===27){evt.stopPropagation();$scope.isOpen=false;$element[0].focus()}};$scope.select=function(date,evt){evt.stopPropagation();if(date==="today"){var today=new Date;if(angular.isDate($scope.date)){date=new Date($scope.date);date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())}else{date=dateParser.fromTimezone(today,ngModelOptions.getOption("timezone"));date.setHours(0,0,0,0)}}$scope.dateSelection(date)};$scope.close=function(evt){evt.stopPropagation();$scope.isOpen=false;$element[0].focus()};$scope.disabled=angular.isDefined($attrs.disabled)||false;if($attrs.ngDisabled){watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(disabled){$scope.disabled=disabled}))}$scope.$watch("isOpen",function(value){if(value){if(!$scope.disabled){$timeout(function(){positionPopup();if(onOpenFocus){$scope.$broadcast("uib:datepicker.focus")}$document.on("click",documentClickBind);var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;if(appendToBody||$position.parsePlacement(placement)[2]){scrollParentEl=scrollParentEl||angular.element($position.scrollParent($element));if(scrollParentEl){scrollParentEl.on("scroll",positionPopup)}}else{scrollParentEl=null}angular.element($window).on("resize",positionPopup)},0,false)}else{$scope.isOpen=false}}else{$document.off("click",documentClickBind);if(scrollParentEl){scrollParentEl.off("scroll",positionPopup)}angular.element($window).off("resize",positionPopup)}});function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDateString(viewValue){var date=dateParser.parse(viewValue,dateFormat,$scope.date);if(isNaN(date)){for(var i=0;i<altInputFormats.length;i++){date=dateParser.parse(viewValue,altInputFormats[i],$scope.date);if(!isNaN(date)){return date}}}return date}function parseDate(viewValue){if(angular.isNumber(viewValue)){viewValue=new Date(viewValue)}if(!viewValue){return null}if(angular.isDate(viewValue)&&!isNaN(viewValue)){return viewValue}if(angular.isString(viewValue)){var date=parseDateString(viewValue);if(!isNaN(date)){return dateParser.toTimezone(date,ngModelOptions.getOption("timezone"))}}return ngModelOptions.getOption("allowInvalid")?viewValue:undefined}function validator(modelValue,viewValue){var value=modelValue||viewValue;if(!$attrs.ngRequired&&!value){return true}if(angular.isNumber(value)){value=new Date(value)}if(!value){return true}if(angular.isDate(value)&&!isNaN(value)){return true}if(angular.isString(value)){return!isNaN(parseDateString(value))}return false}function documentClickBind(event){if(!$scope.isOpen&&$scope.disabled){return}var popup=$popup[0];var dpContainsTarget=$element[0].contains(event.target);var popupContainsTarget=popup.contains!==undefined&&popup.contains(event.target);if($scope.isOpen&&!(dpContainsTarget||popupContainsTarget)){$scope.$apply(function(){$scope.isOpen=false})}}function inputKeydownBind(evt){if(evt.which===27&&$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=false});$element[0].focus()}else if(evt.which===40&&!$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=true})}}function positionPopup(){if($scope.isOpen){var dpElement=angular.element($popup[0].querySelector(".uib-datepicker-popup"));var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;var position=$position.positionElements($element,dpElement,placement,appendToBody);dpElement.css({top:position.top+"px",left:position.left+"px"});if(dpElement.hasClass("uib-position-measure")){dpElement.removeClass("uib-position-measure")}}}function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=angular.isObject(ngModelCtrl.$options)?ngModelCtrl.$options:{timezone:null};ngModelOptions.getOption=function(key){return ngModelOptions[key]}}else{ngModelOptions=ngModelCtrl.$options}return ngModelOptions}$scope.$on("uib:datepicker.mode",function(){$timeout(positionPopup,0,false)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function link(scope,element,attrs,ctrls){var ngModel=ctrls[0],ctrl=ctrls[1];ctrl.init(ngModel)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:true,templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/datepickerPopup/popup.html"}}});angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise)}timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]);angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function createNew(){var map={};return{entries:function entries(){return Object.keys(map).map(function(key){return{key:key,value:map[key]}})},get:function get(key){return map[key]},hasKey:function hasKey(key){return!!map[key]},keys:function keys(){return Object.keys(map)},put:function put(key,value){if(!map[key]){map[key]=[]}map[key].push(value)},remove:function remove(key,value){var values=map[key];if(!values){return}var idx=values.indexOf(value);if(idx!==-1){values.splice(idx,1)}if(!values.length){delete map[key]}}}}}});angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function($document,$rootScope,$$multiMap){var openScope=null;var openedContainers=$$multiMap.createNew();this.isOnlyOpen=function(dropdownScope,appendTo){var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openDropdown=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown}return toClose},{});if(openDropdown){return openedDropdowns.length===1}}return false};this.open=function(dropdownScope,element,appendTo){if(!openScope){$document.on("click",closeDropdown)}if(openScope&&openScope!==dropdownScope){openScope.isOpen=false}openScope=dropdownScope;if(!appendTo){return}var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openedScopes=openedDropdowns.map(function(dropdown){return dropdown.scope});if(openedScopes.indexOf(dropdownScope)===-1){openedContainers.put(appendTo,{scope:dropdownScope})}}else{openedContainers.put(appendTo,{scope:dropdownScope})}};this.close=function(dropdownScope,element,appendTo){if(openScope===dropdownScope){$document.off("click",closeDropdown);$document.off("keydown",this.keybindFilter);openScope=null}if(!appendTo){return}var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var dropdownToClose=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown}return toClose},{});if(dropdownToClose){openedContainers.remove(appendTo,dropdownToClose)}}};var closeDropdown=function closeDropdown(evt){if(!openScope||!openScope.isOpen){return}if(evt&&openScope.getAutoClose()==="disabled"){return}if(evt&&evt.which===3){return}var toggleElement=openScope.getToggleElement();if(evt&&toggleElement&&toggleElement[0].contains(evt.target)){return}var dropdownElement=openScope.getDropdownElement();if(evt&&openScope.getAutoClose()==="outsideClick"&&dropdownElement&&dropdownElement[0].contains(evt.target)){return}openScope.focusToggleElement();openScope.isOpen=false;if(!$rootScope.$$phase){openScope.$apply()}};this.keybindFilter=function(evt){if(!openScope){return}var dropdownElement=openScope.getDropdownElement();var toggleElement=openScope.getToggleElement();var dropdownElementTargeted=dropdownElement&&dropdownElement[0].contains(evt.target);var toggleElementTargeted=toggleElement&&toggleElement[0].contains(evt.target);if(evt.which===27){evt.stopPropagation();openScope.focusToggleElement();closeDropdown()}else if(openScope.isKeynavEnabled()&&[38,40].indexOf(evt.which)!==-1&&openScope.isOpen&&(dropdownElementTargeted||toggleElementTargeted)){evt.preventDefault();evt.stopPropagation();openScope.focusDropdownEntry(evt.which)}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function($scope,$element,$attrs,$parse,dropdownConfig,uibDropdownService,$animate,$position,$document,$compile,$templateRequest){var self=this,scope=$scope.$new(),templateScope,appendToOpenClass=dropdownConfig.appendToOpenClass,openClass=dropdownConfig.openClass,getIsOpen,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,keynavEnabled=false,selectedOption=null,body=$document.find("body");$element.addClass("dropdown");this.init=function(){if($attrs.isOpen){getIsOpen=$parse($attrs.isOpen);setIsOpen=getIsOpen.assign;$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value})}keynavEnabled=angular.isDefined($attrs.keyboardNav)};this.toggle=function(open){scope.isOpen=arguments.length?!!open:!scope.isOpen;if(angular.isFunction(setIsOpen)){setIsOpen(scope,scope.isOpen)}return scope.isOpen};this.isOpen=function(){return scope.isOpen};scope.getToggleElement=function(){return self.toggleElement};scope.getAutoClose=function(){return $attrs.autoClose||"always"};scope.getElement=function(){return $element};scope.isKeynavEnabled=function(){return keynavEnabled};scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find("a"):$element.find("ul").eq(0).find("a");switch(keyCode){case 40:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=0}else{self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1}break}case 38:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=elems.length-1}else{self.selectedOption=self.selectedOption===0?0:self.selectedOption-1}break}}elems[self.selectedOption].focus()};scope.getDropdownElement=function(){return self.dropdownMenu};scope.focusToggleElement=function(){if(self.toggleElement){self.toggleElement[0].focus()}};function removeDropdownMenu(){$element.append(self.dropdownMenu)}scope.$watch("isOpen",function(isOpen,wasOpen){var appendTo=null,appendToBody=false;if(angular.isDefined($attrs.dropdownAppendTo)){var appendToEl=$parse($attrs.dropdownAppendTo)(scope);if(appendToEl){appendTo=angular.element(appendToEl)}}if(angular.isDefined($attrs.dropdownAppendToBody)){var appendToBodyValue=$parse($attrs.dropdownAppendToBody)(scope);if(appendToBodyValue!==false){appendToBody=true}}if(appendToBody&&!appendTo){appendTo=body}if(appendTo&&self.dropdownMenu){if(isOpen){appendTo.append(self.dropdownMenu);$element.on("$destroy",removeDropdownMenu)}else{$element.off("$destroy",removeDropdownMenu);removeDropdownMenu()}}if(appendTo&&self.dropdownMenu){var pos=$position.positionElements($element,self.dropdownMenu,"bottom-left",true),css,rightalign,scrollbarPadding,scrollbarWidth=0;css={top:pos.top+"px",display:isOpen?"block":"none"};rightalign=self.dropdownMenu.hasClass("dropdown-menu-right");if(!rightalign){css.left=pos.left+"px";css.right="auto"}else{css.left="auto";scrollbarPadding=$position.scrollbarPadding(appendTo);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){scrollbarWidth=scrollbarPadding.scrollbarWidth}css.right=window.innerWidth-scrollbarWidth-(pos.left+$element.prop("offsetWidth"))+"px"}if(!appendToBody){var appendOffset=$position.offset(appendTo);css.top=pos.top-appendOffset.top+"px";if(!rightalign){css.left=pos.left-appendOffset.left+"px"}else{css.right=window.innerWidth-(pos.left-appendOffset.left+$element.prop("offsetWidth"))+"px"}}self.dropdownMenu.css(css)}var openContainer=appendTo?appendTo:$element;var dropdownOpenClass=appendTo?appendToOpenClass:openClass;var hasOpenClass=openContainer.hasClass(dropdownOpenClass);var isOnlyOpen=uibDropdownService.isOnlyOpen($scope,appendTo);if(hasOpenClass===!isOpen){var toggleClass;if(appendTo){toggleClass=!isOnlyOpen?"addClass":"removeClass"}else{toggleClass=isOpen?"addClass":"removeClass"}$animate[toggleClass](openContainer,dropdownOpenClass).then(function(){if(angular.isDefined(isOpen)&&isOpen!==wasOpen){toggleInvoker($scope,{open:!!isOpen})}})}if(isOpen){if(self.dropdownMenuTemplateUrl){$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new();$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl;$document.on("keydown",uibDropdownService.keybindFilter)})})}else{$document.on("keydown",uibDropdownService.keybindFilter)}scope.focusToggleElement();uibDropdownService.open(scope,$element,appendTo)}else{uibDropdownService.close(scope,$element,appendTo);if(self.dropdownMenuTemplateUrl){if(templateScope){templateScope.$destroy()}var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl}self.selectedOption=null}if(angular.isFunction(setIsOpen)){setIsOpen($scope,isOpen)}})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function link(scope,element,attrs,dropdownCtrl){dropdownCtrl.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function link(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl||angular.isDefined(attrs.dropdownNested)){return}element.addClass("dropdown-menu");var tplUrl=attrs.templateUrl;if(tplUrl){dropdownCtrl.dropdownMenuTemplateUrl=tplUrl}if(!dropdownCtrl.dropdownMenu){dropdownCtrl.dropdownMenu=element}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function link(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl){return}element.addClass("dropdown-toggle");dropdownCtrl.toggleElement=element;var toggleDropdown=function toggleDropdown(event){event.preventDefault();if(!element.hasClass("disabled")&&!attrs.disabled){scope.$apply(function(){dropdownCtrl.toggle()})}};element.on("click",toggleDropdown);element.attr({"aria-haspopup":true,"aria-expanded":false});scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)});scope.$on("$destroy",function(){element.off("click",toggleDropdown)})}}});angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function createNew(){var stack=[];return{add:function add(key,value){stack.push({key:key,value:value})},get:function get(key){for(var i=0;i<stack.length;i++){if(key===stack[i].key){return stack[i]}}},keys:function keys(){var keys=[];for(var i=0;i<stack.length;i++){keys.push(stack[i].key)}return keys},top:function top(){return stack[stack.length-1]},remove:function remove(key){var idx=-1;for(var i=0;i<stack.length;i++){if(key===stack[i].key){idx=i;break}}return stack.splice(idx,1)[0]},removeTop:function removeTop(){return stack.pop()},length:function length(){return stack.length}}}}});angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var resolve=this;this.resolver=null;this.setResolver=function(resolver){this.resolver=resolver};this.$get=["$injector","$q",function($injector,$q){var resolver=resolve.resolver?$injector.get(resolve.resolver):null;return{resolve:function resolve(invocables,locals,parent,self){if(resolver){return resolver.resolve(invocables,locals,parent,self)}var promises=[];angular.forEach(invocables,function(value){if(angular.isFunction(value)||angular.isArray(value)){promises.push($q.resolve($injector.invoke(value)))}else if(angular.isString(value)){promises.push($q.resolve($injector.get(value)))}else{promises.push($q.resolve(value))}});return $q.all(promises).then(function(resolves){var resolveObj={};var resolveIter=0;angular.forEach(invocables,function(value,key){resolveObj[key]=resolves[resolveIter++]});return resolveObj})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function($animate,$injector,$modalStack){return{restrict:"A",compile:function compile(tElement,tAttrs){tElement.addClass(tAttrs.backdropClass);return linkFn}};function linkFn(scope,element,attrs){if(attrs.modalInClass){$animate.addClass(element,attrs.modalInClass);scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();if(scope.modalOptions.animation){$animate.removeClass(element,attrs.modalInClass).then(done)}else{done()}})}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function($modalStack,$q,$animateCss,$document){return{scope:{index:"@"},restrict:"A",transclude:true,templateUrl:function templateUrl(tElement,tAttrs){return tAttrs.templateUrl||"uib/template/modal/window.html"},link:function link(scope,element,attrs){element.addClass(attrs.windowTopClass||"");scope.size=attrs.size;scope.close=function(evt){var modal=$modalStack.getTop();if(modal&&modal.value.backdrop&&modal.value.backdrop!=="static"&&evt.target===evt.currentTarget){evt.preventDefault();evt.stopPropagation();$modalStack.dismiss(modal.key,"backdrop click")}};element.on("click",scope.close);scope.$isRendered=true;var modalRenderDeferObj=$q.defer();scope.$$postDigest(function(){modalRenderDeferObj.resolve()});modalRenderDeferObj.promise.then(function(){var animationPromise=null;if(attrs.modalInClass){animationPromise=$animateCss(element,{addClass:attrs.modalInClass}).start();scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done)})}$q.when(animationPromise).then(function(){var modal=$modalStack.getTop();if(modal){$modalStack.modalRendered(modal.key)}if(!($document[0].activeElement&&element[0].contains($document[0].activeElement))){var inputWithAutofocus=element[0].querySelector("[autofocus]");if(inputWithAutofocus){inputWithAutofocus.focus()}else{element[0].focus()}}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function compile(tElement,tAttrs){if(tAttrs.modalAnimation){tElement.addClass(tAttrs.uibModalAnimationClass)}}}}).directive("uibModalTransclude",["$animate",function($animate){return{link:function link(scope,element,attrs,controller,transclude){transclude(scope.$parent,function(clone){element.empty();$animate.enter(clone,element)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function($animate,$animateCss,$document,$compile,$rootScope,$q,$$multiMap,$$stackedMap,$uibPosition){var OPENED_MODAL_CLASS="modal-open";var backdropDomEl,backdropScope;var openedWindows=$$stackedMap.createNew();var openedClasses=$$multiMap.createNew();var $modalStack={NOW_CLOSING_EVENT:"modal.stack.now-closing"};var topModalIndex=0;var previousTopOpenedModal=null;var ARIA_HIDDEN_ATTRIBUTE_NAME="data-bootstrap-modal-aria-hidden-count";var tabbableSelector="a[href], area[href], input:not([disabled]):not([tabindex='-1']), "+"button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), "+"iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";var scrollbarPadding;var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name){var separator="-";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function isVisible(element){return!!(element.offsetWidth||element.offsetHeight||element.getClientRects().length)}function backdropIndex(){var topBackdropIndex=-1;var opened=openedWindows.keys();for(var i=0;i<opened.length;i++){if(openedWindows.get(opened[i]).value.backdrop){topBackdropIndex=i}}if(topBackdropIndex>-1&&topBackdropIndex<topModalIndex){topBackdropIndex=topModalIndex}return topBackdropIndex}$rootScope.$watch(backdropIndex,function(newBackdropIndex){if(backdropScope){backdropScope.index=newBackdropIndex}});function removeModalWindow(modalInstance,elementToReceiveFocus){var modalWindow=openedWindows.get(modalInstance).value;var appendToElement=modalWindow.appendTo;openedWindows.remove(modalInstance);previousTopOpenedModal=openedWindows.top();if(previousTopOpenedModal){topModalIndex=parseInt(previousTopOpenedModal.value.modalDomEl.attr("index"),10)}removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){var modalBodyClass=modalWindow.openedClass||OPENED_MODAL_CLASS;openedClasses.remove(modalBodyClass,modalInstance);var areAnyOpen=openedClasses.hasKey(modalBodyClass);appendToElement.toggleClass(modalBodyClass,areAnyOpen);if(!areAnyOpen&&scrollbarPadding&&scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){if(scrollbarPadding.originalRight){appendToElement.css({paddingRight:scrollbarPadding.originalRight+"px"})}else{appendToElement.css({paddingRight:""})}scrollbarPadding=null}toggleTopWindowClass(true)},modalWindow.closedDeferred);checkRemoveBackdrop();if(elementToReceiveFocus&&elementToReceiveFocus.focus){elementToReceiveFocus.focus()}else if(appendToElement.focus){appendToElement.focus()}}function toggleTopWindowClass(toggleSwitch){var modalWindow;if(openedWindows.length()>0){modalWindow=openedWindows.top().value;modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass||"",toggleSwitch)}}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()===-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null});backdropDomEl=undefined;backdropScope=undefined}}function removeAfterAnimate(domEl,scope,done,closedDeferred){var asyncDeferred;var asyncPromise=null;var setIsAsync=function setIsAsync(){if(!asyncDeferred){asyncDeferred=$q.defer();asyncPromise=asyncDeferred.promise}return function asyncDone(){asyncDeferred.resolve()}};scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync);return $q.when(asyncPromise).then(afterAnimating);function afterAnimating(){if(afterAnimating.done){return}afterAnimating.done=true;$animate.leave(domEl).then(function(){if(done){done()}domEl.remove();if(closedDeferred){closedDeferred.resolve()}});scope.$destroy()}}$document.on("keydown",keydownListener);$rootScope.$on("$destroy",function(){$document.off("keydown",keydownListener)});function keydownListener(evt){if(evt.isDefaultPrevented()){return evt}var modal=openedWindows.top();if(modal){switch(evt.which){case 27:{if(modal.value.keyboard){evt.preventDefault();$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")})}break}case 9:{var list=$modalStack.loadFocusElementList(modal);var focusChanged=false;if(evt.shiftKey){if($modalStack.isFocusInFirstItem(evt,list)||$modalStack.isModalFocused(evt,modal)){focusChanged=$modalStack.focusLastFocusableElement(list)}}else{if($modalStack.isFocusInLastItem(evt,list)){focusChanged=$modalStack.focusFirstFocusableElement(list)}}if(focusChanged){evt.preventDefault();evt.stopPropagation()}break}}}}$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement,modalBodyClass=modal.openedClass||OPENED_MODAL_CLASS;toggleTopWindowClass(false);previousTopOpenedModal=openedWindows.top();openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,closedDeferred:modal.closedDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard,openedClass:modal.openedClass,windowTopClass:modal.windowTopClass,animation:modal.animation,appendTo:modal.appendTo});openedClasses.put(modalBodyClass,modalInstance);var appendToElement=modal.appendTo,currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(true);backdropScope.modalOptions=modal;backdropScope.index=currBackdropIndex;backdropDomEl=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');backdropDomEl.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"});if(modal.backdropClass){backdropDomEl.addClass(modal.backdropClass)}if(modal.animation){backdropDomEl.attr("modal-animation","true")}$compile(backdropDomEl)(backdropScope);$animate.enter(backdropDomEl,appendToElement);if($uibPosition.isScrollable(appendToElement)){scrollbarPadding=$uibPosition.scrollbarPadding(appendToElement);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){appendToElement.css({paddingRight:scrollbarPadding.right+"px"})}}}var content;if(modal.component){content=document.createElement(snake_case(modal.component.name));content=angular.element(content);content.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})}else{content=modal.content}topModalIndex=previousTopOpenedModal?parseInt(previousTopOpenedModal.value.modalDomEl.attr("index"),10)+1:0;var angularDomEl=angular.element('<div uib-modal-window="modal-window"></div>');angularDomEl.attr({class:"modal","template-url":modal.windowTemplateUrl,"window-top-class":modal.windowTopClass,role:"dialog","aria-labelledby":modal.ariaLabelledBy,"aria-describedby":modal.ariaDescribedBy,size:modal.size,index:topModalIndex,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(content);if(modal.windowClass){angularDomEl.addClass(modal.windowClass)}if(modal.animation){angularDomEl.attr("modal-animation","true")}appendToElement.addClass(modalBodyClass);if(modal.scope){modal.scope.$$topModalIndex=topModalIndex}$animate.enter($compile(angularDomEl)(modal.scope),appendToElement);openedWindows.top().value.modalDomEl=angularDomEl;openedWindows.top().value.modalOpener=modalOpener;applyAriaHidden(angularDomEl);function applyAriaHidden(el){if(!el||el[0].tagName==="BODY"){return}getSiblings(el).forEach(function(sibling){var elemIsAlreadyHidden=sibling.getAttribute("aria-hidden")==="true",ariaHiddenCount=parseInt(sibling.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10);if(!ariaHiddenCount){ariaHiddenCount=elemIsAlreadyHidden?1:0}sibling.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,ariaHiddenCount+1);sibling.setAttribute("aria-hidden","true")});return applyAriaHidden(el.parent());function getSiblings(el){var children=el.parent()?el.parent().children():[];return Array.prototype.filter.call(children,function(child){return child!==el[0]})}}};function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast("modal.closing",resultOrReason,closing).defaultPrevented}function unhideBackgroundElements(){Array.prototype.forEach.call(document.querySelectorAll("["+ARIA_HIDDEN_ATTRIBUTE_NAME+"]"),function(hiddenEl){var ariaHiddenCount=parseInt(hiddenEl.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10),newHiddenCount=ariaHiddenCount-1;hiddenEl.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,newHiddenCount);if(!newHiddenCount){hiddenEl.removeAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME);hiddenEl.removeAttribute("aria-hidden")}})}$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,result,true)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.resolve(result);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true}return!modalWindow};$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,reason,false)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.reject(reason);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true}return!modalWindow};$modalStack.dismissAll=function(reason){var topModal=this.getTop();while(topModal&&this.dismiss(topModal.key,reason)){topModal=this.getTop()}};$modalStack.getTop=function(){return openedWindows.top()};$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);if(modalWindow){modalWindow.value.renderDeferred.resolve()}};$modalStack.focusFirstFocusableElement=function(list){if(list.length>0){list[0].focus();return true}return false};$modalStack.focusLastFocusableElement=function(list){if(list.length>0){list[list.length-1].focus();return true}return false};$modalStack.isModalFocused=function(evt,modalWindow){if(evt&&modalWindow){var modalDomEl=modalWindow.value.modalDomEl;if(modalDomEl&&modalDomEl.length){return(evt.target||evt.srcElement)===modalDomEl[0]}}return false};$modalStack.isFocusInFirstItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[0]}return false};$modalStack.isFocusInLastItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[list.length-1]}return false};$modalStack.loadFocusElementList=function(modalWindow){if(modalWindow){var modalDomE1=modalWindow.value.modalDomEl;if(modalDomE1&&modalDomE1.length){var elements=modalDomE1[0].querySelectorAll(tabbableSelector);return elements?Array.prototype.filter.call(elements,function(element){return isVisible(element)}):elements}}};return $modalStack}]).provider("$uibModal",function(){var $modalProvider={options:{animation:true,backdrop:true,keyboard:true},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function($rootScope,$q,$document,$templateRequest,$controller,$uibResolve,$modalStack){var $modal={};function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl)}var promiseChain=null;$modal.getPromiseChain=function(){return promiseChain};$modal.open=function(modalOptions){var modalResultDeferred=$q.defer();var modalOpenedDeferred=$q.defer();var modalClosedDeferred=$q.defer();var modalRenderDeferred=$q.defer();var modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,closed:modalClosedDeferred.promise,rendered:modalRenderDeferred.promise,close:function close(result){return $modalStack.close(modalInstance,result)},dismiss:function dismiss(reason){return $modalStack.dismiss(modalInstance,reason)}};modalOptions=angular.extend({},$modalProvider.options,modalOptions);modalOptions.resolve=modalOptions.resolve||{};modalOptions.appendTo=modalOptions.appendTo||$document.find("body").eq(0);if(!modalOptions.appendTo.length){throw new Error("appendTo element not found. Make sure that the element passed is in DOM.")}if(!modalOptions.component&&!modalOptions.template&&!modalOptions.templateUrl){throw new Error("One of component or template or templateUrl options is required.")}var templateAndResolvePromise;if(modalOptions.component){templateAndResolvePromise=$q.when($uibResolve.resolve(modalOptions.resolve,{},null,null))}else{templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions),$uibResolve.resolve(modalOptions.resolve,{},null,null)])}function resolveWithTemplate(){return templateAndResolvePromise}var samePromise;samePromise=promiseChain=$q.all([promiseChain]).then(resolveWithTemplate,resolveWithTemplate).then(function resolveSuccess(tplAndVars){var providedScope=modalOptions.scope||$rootScope;var modalScope=providedScope.$new();modalScope.$close=modalInstance.close;modalScope.$dismiss=modalInstance.dismiss;modalScope.$on("$destroy",function(){if(!modalScope.$$uibDestructionScheduled){modalScope.$dismiss("$uibUnscheduledDestruction")}});var modal={scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,closedDeferred:modalClosedDeferred,animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowTopClass:modalOptions.windowTopClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,ariaLabelledBy:modalOptions.ariaLabelledBy,ariaDescribedBy:modalOptions.ariaDescribedBy,size:modalOptions.size,openedClass:modalOptions.openedClass,appendTo:modalOptions.appendTo};var component={};var ctrlInstance,ctrlInstantiate,ctrlLocals={};if(modalOptions.component){constructLocals(component,false,true,false);component.name=modalOptions.component;modal.component=component}else if(modalOptions.controller){constructLocals(ctrlLocals,true,false,true);ctrlInstantiate=$controller(modalOptions.controller,ctrlLocals,true,modalOptions.controllerAs);if(modalOptions.controllerAs&&modalOptions.bindToController){ctrlInstance=ctrlInstantiate.instance;ctrlInstance.$close=modalScope.$close;ctrlInstance.$dismiss=modalScope.$dismiss;angular.extend(ctrlInstance,{$resolve:ctrlLocals.$scope.$resolve},providedScope)}ctrlInstance=ctrlInstantiate();if(angular.isFunction(ctrlInstance.$onInit)){ctrlInstance.$onInit()}}if(!modalOptions.component){modal.content=tplAndVars[0]}$modalStack.open(modalInstance,modal);modalOpenedDeferred.resolve(true);function constructLocals(obj,template,instanceOnScope,injectable){obj.$scope=modalScope;obj.$scope.$resolve={};if(instanceOnScope){obj.$scope.$uibModalInstance=modalInstance}else{obj.$uibModalInstance=modalInstance}var resolves=template?tplAndVars[1]:tplAndVars;angular.forEach(resolves,function(value,key){if(injectable){obj[key]=value}obj.$scope.$resolve[key]=value})}},function resolveError(reason){modalOpenedDeferred.reject(reason);modalResultDeferred.reject(reason)})["finally"](function(){if(promiseChain===samePromise){promiseChain=null}});return modalInstance};return $modal}]};return $modalProvider});angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function($parse){return{create:function create(ctrl,$scope,$attrs){ctrl.setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;ctrl.ngModelCtrl={$setViewValue:angular.noop};ctrl._watchers=[];ctrl.init=function(ngModelCtrl,config){ctrl.ngModelCtrl=ngModelCtrl;ctrl.config=config;ngModelCtrl.$render=function(){ctrl.render()};if($attrs.itemsPerPage){ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage,function(value){ctrl.itemsPerPage=parseInt(value,10);$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage()}))}else{ctrl.itemsPerPage=config.itemsPerPage}$scope.$watch("totalItems",function(newTotal,oldTotal){if(angular.isDefined(newTotal)||newTotal!==oldTotal){$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage()}})};ctrl.calculateTotalPages=function(){var totalPages=ctrl.itemsPerPage<1?1:Math.ceil($scope.totalItems/ctrl.itemsPerPage);return Math.max(totalPages||0,1)};ctrl.render=function(){$scope.page=parseInt(ctrl.ngModelCtrl.$viewValue,10)||1};$scope.selectPage=function(page,evt){if(evt){evt.preventDefault()}var clickAllowed=!$scope.ngDisabled||!evt;if(clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages){if(evt&&evt.target){evt.target.blur()}ctrl.ngModelCtrl.$setViewValue(page);ctrl.ngModelCtrl.$render()}};$scope.getText=function(key){return $scope[key+"Text"]||ctrl.config[key+"Text"]};$scope.noPrevious=function(){return $scope.page===1};$scope.noNext=function(){return $scope.page===$scope.totalPages};ctrl.updatePage=function(){ctrl.setNumPages($scope.$parent,$scope.totalPages);if($scope.page>$scope.totalPages){$scope.selectPage($scope.totalPages)}else{ctrl.ngModelCtrl.$render()}};$scope.$on("$destroy",function(){while(ctrl._watchers.length){ctrl._watchers.shift()()}})}}}]);angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function($scope,$attrs,uibPaging,uibPagerConfig){$scope.align=angular.isDefined($attrs.align)?$scope.$parent.$eval($attrs.align):uibPagerConfig.align;uibPaging.create(this,$scope,$attrs)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:true}).directive("uibPager",["uibPagerConfig",function(uibPagerConfig){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/pager/pager.html"},link:function link(scope,element,attrs,ctrls){element.addClass("pager");var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return}paginationCtrl.init(ngModelCtrl,uibPagerConfig)}}}]);angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function($scope,$attrs,$parse,uibPaging,uibPaginationConfig){var ctrl=this;var maxSize=angular.isDefined($attrs.maxSize)?$scope.$parent.$eval($attrs.maxSize):uibPaginationConfig.maxSize,rotate=angular.isDefined($attrs.rotate)?$scope.$parent.$eval($attrs.rotate):uibPaginationConfig.rotate,forceEllipses=angular.isDefined($attrs.forceEllipses)?$scope.$parent.$eval($attrs.forceEllipses):uibPaginationConfig.forceEllipses,boundaryLinkNumbers=angular.isDefined($attrs.boundaryLinkNumbers)?$scope.$parent.$eval($attrs.boundaryLinkNumbers):uibPaginationConfig.boundaryLinkNumbers,pageLabel=angular.isDefined($attrs.pageLabel)?function(idx){return $scope.$parent.$eval($attrs.pageLabel,{$page:idx})}:angular.identity;$scope.boundaryLinks=angular.isDefined($attrs.boundaryLinks)?$scope.$parent.$eval($attrs.boundaryLinks):uibPaginationConfig.boundaryLinks;$scope.directionLinks=angular.isDefined($attrs.directionLinks)?$scope.$parent.$eval($attrs.directionLinks):uibPaginationConfig.directionLinks;$attrs.$set("role","menu");uibPaging.create(this,$scope,$attrs);if($attrs.maxSize){ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize),function(value){maxSize=parseInt(value,10);ctrl.render()}))}function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[];var startPage=1,endPage=totalPages;var isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;if(isMaxSized){if(rotate){startPage=Math.max(currentPage-Math.floor(maxSize/2),1);endPage=startPage+maxSize-1;if(endPage>totalPages){endPage=totalPages;startPage=endPage-maxSize+1}}else{startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1;endPage=Math.min(startPage+maxSize-1,totalPages)}}for(var number=startPage;number<=endPage;number++){var page=makePage(number,pageLabel(number),number===currentPage);pages.push(page)}if(isMaxSized&&maxSize>0&&(!rotate||forceEllipses||boundaryLinkNumbers)){if(startPage>1){if(!boundaryLinkNumbers||startPage>3){var previousPageSet=makePage(startPage-1,"...",false);pages.unshift(previousPageSet)}if(boundaryLinkNumbers){if(startPage===3){var secondPageLink=makePage(2,"2",false);pages.unshift(secondPageLink)}var firstPageLink=makePage(1,"1",false);pages.unshift(firstPageLink)}}if(endPage<totalPages){if(!boundaryLinkNumbers||endPage<totalPages-2){var nextPageSet=makePage(endPage+1,"...",false);pages.push(nextPageSet)}if(boundaryLinkNumbers){if(endPage===totalPages-2){var secondToLastPageLink=makePage(totalPages-1,totalPages-1,false);pages.push(secondToLastPageLink)}var lastPageLink=makePage(totalPages,totalPages,false);pages.push(lastPageLink)}}}return pages}var originalRender=this.render;this.render=function(){originalRender();if($scope.page>0&&$scope.page<=$scope.totalPages){$scope.pages=getPages($scope.page,$scope.totalPages)}}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:false,boundaryLinkNumbers:false,directionLinks:true,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:true,forceEllipses:false}).directive("uibPagination",["$parse","uibPaginationConfig",function($parse,uibPaginationConfig){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/pagination/pagination.html"},link:function link(scope,element,attrs,ctrls){element.addClass("pagination");var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return}paginationCtrl.init(ngModelCtrl,uibPaginationConfig)}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var defaultOptions={placement:"top",placementClassPrefix:"",animation:true,popupDelay:0,popupCloseDelay:0,useContentExp:false};var triggerMap={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""};var globalOptions={};this.options=function(value){angular.extend(globalOptions,value)};this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers)};function snake_case(name){var regexp=/[A-Z]/g;var separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope,$parse,$$stackedMap){var openedTooltips=$$stackedMap.createNew();$document.on("keyup",keypressListener);$rootScope.$on("$destroy",function(){$document.off("keyup",keypressListener)});function keypressListener(e){if(e.which===27){var last=openedTooltips.top();if(last){last.value.close();last=null}}}return function $tooltip(ttType,prefix,defaultTriggerShow,options){options=angular.extend({},defaultOptions,globalOptions,options);function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(" ");var hide=show.map(function(trigger){return triggerMap[trigger]||trigger});return{show:show,hide:hide}}var directiveName=snake_case(ttType);var startSym=$interpolate.startSymbol();var endSym=$interpolate.endSymbol();var template="<div "+directiveName+"-popup "+'uib-title="'+startSym+"title"+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+"content"+endSym+'" ')+'origin-scope="origScope" '+'class="uib-position-measure '+prefix+'" '+'tooltip-animation-class="fade"'+"uib-tooltip-classes "+'ng-class="{ in: isOpen }" '+">"+"</div>";return{compile:function compile(tElem,tAttrs){var tooltipLinker=$compile(template);return function link(scope,element,attrs,tooltipCtrl){var tooltip;var tooltipLinkedScope;var transitionTimeout;var showTimeout;var hideTimeout;var positionTimeout;var adjustmentTimeout;var appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:false;var triggers=getTriggers(undefined);var hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]);var ttScope=scope.$new(true);var repositionScheduled=false;var isOpenParse=angular.isDefined(attrs[prefix+"IsOpen"])?$parse(attrs[prefix+"IsOpen"]):false;var contentParse=options.useContentExp?$parse(attrs[ttType]):false;var observers=[];var lastPlacement;var positionTooltip=function positionTooltip(){if(!tooltip||!tooltip.html()){return}if(!positionTimeout){positionTimeout=$timeout(function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);var initialHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop("offsetHeight");var elementPos=appendToBody?$position.offset(element):$position.position(element);tooltip.css({top:ttPosition.top+"px",left:ttPosition.left+"px"});var placementClasses=ttPosition.placement.split("-");if(!tooltip.hasClass(placementClasses[0])){tooltip.removeClass(lastPlacement.split("-")[0]);tooltip.addClass(placementClasses[0])}if(!tooltip.hasClass(options.placementClassPrefix+ttPosition.placement)){tooltip.removeClass(options.placementClassPrefix+lastPlacement);tooltip.addClass(options.placementClassPrefix+ttPosition.placement)}adjustmentTimeout=$timeout(function(){var currentHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop("offsetHeight");var adjustment=$position.adjustTop(placementClasses,elementPos,initialHeight,currentHeight);if(adjustment){tooltip.css(adjustment)}adjustmentTimeout=null},0,false);if(tooltip.hasClass("uib-position-measure")){$position.positionArrow(tooltip,ttPosition.placement);tooltip.removeClass("uib-position-measure")}else if(lastPlacement!==ttPosition.placement){$position.positionArrow(tooltip,ttPosition.placement)}lastPlacement=ttPosition.placement;positionTimeout=null},0,false)}};ttScope.origScope=scope;ttScope.isOpen=false;function toggleTooltipBind(){if(!ttScope.isOpen){showTooltipBind()}else{hideTooltipBind()}}function showTooltipBind(){if(hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])){return}cancelHide();prepareTooltip();if(ttScope.popupDelay){if(!showTimeout){showTimeout=$timeout(show,ttScope.popupDelay,false)}}else{show()}}function hideTooltipBind(){cancelShow();if(ttScope.popupCloseDelay){if(!hideTimeout){hideTimeout=$timeout(hide,ttScope.popupCloseDelay,false)}}else{hide()}}function show(){cancelShow();cancelHide();if(!ttScope.content){return angular.noop}createTooltip();ttScope.$evalAsync(function(){ttScope.isOpen=true;assignIsOpen(true);positionTooltip()})}function cancelShow(){if(showTimeout){$timeout.cancel(showTimeout);showTimeout=null}if(positionTimeout){$timeout.cancel(positionTimeout);positionTimeout=null}}function hide(){if(!ttScope){return}ttScope.$evalAsync(function(){if(ttScope){ttScope.isOpen=false;assignIsOpen(false);if(ttScope.animation){if(!transitionTimeout){transitionTimeout=$timeout(removeTooltip,150,false)}}else{removeTooltip()}}})}function cancelHide(){if(hideTimeout){$timeout.cancel(hideTimeout);hideTimeout=null}if(transitionTimeout){$timeout.cancel(transitionTimeout);transitionTimeout=null}}function createTooltip(){if(tooltip){return}tooltipLinkedScope=ttScope.$new();tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){if(appendToBody){$document.find("body").append(tooltip)}else{element.after(tooltip)}});openedTooltips.add(ttScope,{close:hide});prepObservers()}function removeTooltip(){cancelShow();cancelHide();unregisterObservers();if(tooltip){tooltip.remove();tooltip=null;if(adjustmentTimeout){$timeout.cancel(adjustmentTimeout)}}openedTooltips.remove(ttScope);if(tooltipLinkedScope){tooltipLinkedScope.$destroy();tooltipLinkedScope=null}}function prepareTooltip(){ttScope.title=attrs[prefix+"Title"];if(contentParse){ttScope.content=contentParse(scope)}else{ttScope.content=attrs[ttType]}ttScope.popupClass=attrs[prefix+"Class"];ttScope.placement=angular.isDefined(attrs[prefix+"Placement"])?attrs[prefix+"Placement"]:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+"-"+placement[1]:placement[0];var delay=parseInt(attrs[prefix+"PopupDelay"],10);var closeDelay=parseInt(attrs[prefix+"PopupCloseDelay"],10);ttScope.popupDelay=!isNaN(delay)?delay:options.popupDelay;ttScope.popupCloseDelay=!isNaN(closeDelay)?closeDelay:options.popupCloseDelay}function assignIsOpen(isOpen){if(isOpenParse&&angular.isFunction(isOpenParse.assign)){isOpenParse.assign(scope,isOpen)}}ttScope.contentExp=function(){return ttScope.content};attrs.$observe("disabled",function(val){if(val){cancelShow()}if(val&&ttScope.isOpen){hide()}});if(isOpenParse){scope.$watch(isOpenParse,function(val){if(ttScope&&!val===ttScope.isOpen){toggleTooltipBind()}})}function prepObservers(){observers.length=0;if(contentParse){observers.push(scope.$watch(contentParse,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide()}}));observers.push(tooltipLinkedScope.$watch(function(){if(!repositionScheduled){repositionScheduled=true;tooltipLinkedScope.$$postDigest(function(){repositionScheduled=false;if(ttScope&&ttScope.isOpen){positionTooltip()}})}}))}else{observers.push(attrs.$observe(ttType,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide()}else{positionTooltip()}}))}observers.push(attrs.$observe(prefix+"Title",function(val){ttScope.title=val;if(ttScope.isOpen){positionTooltip()}}));observers.push(attrs.$observe(prefix+"Placement",function(val){ttScope.placement=val?val:options.placement;if(ttScope.isOpen){positionTooltip()}}))}function unregisterObservers(){if(observers.length){angular.forEach(observers,function(observer){observer()});observers.length=0}}function bodyHideTooltipBind(e){if(!ttScope||!ttScope.isOpen||!tooltip){return}if(!element[0].contains(e.target)&&!tooltip[0].contains(e.target)){hideTooltipBind()}}function hideOnEscapeKey(e){if(e.which===27){hideTooltipBind()}}var unregisterTriggers=function unregisterTriggers(){triggers.show.forEach(function(trigger){if(trigger==="outsideClick"){element.off("click",toggleTooltipBind)}else{element.off(trigger,showTooltipBind);element.off(trigger,toggleTooltipBind)}element.off("keypress",hideOnEscapeKey)});triggers.hide.forEach(function(trigger){if(trigger==="outsideClick"){$document.off("click",bodyHideTooltipBind)}else{element.off(trigger,hideTooltipBind)}})};function prepTriggers(){var showTriggers=[],hideTriggers=[];var val=scope.$eval(attrs[prefix+"Trigger"]);unregisterTriggers();if(angular.isObject(val)){Object.keys(val).forEach(function(key){showTriggers.push(key);hideTriggers.push(val[key])});triggers={show:showTriggers,hide:hideTriggers}}else{triggers=getTriggers(val)}if(triggers.show!=="none"){triggers.show.forEach(function(trigger,idx){if(trigger==="outsideClick"){element.on("click",toggleTooltipBind);$document.on("click",bodyHideTooltipBind)}else if(trigger===triggers.hide[idx]){element.on(trigger,toggleTooltipBind)}else if(trigger){element.on(trigger,showTooltipBind);element.on(triggers.hide[idx],hideTooltipBind)}element.on("keypress",hideOnEscapeKey)})}}prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal;var appendKey=prefix+"AppendToBody";if(appendKey in attrs&&attrs[appendKey]===undefined){appendToBodyVal=true}else{appendToBodyVal=scope.$eval(attrs[appendKey])}appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody;scope.$on("$destroy",function onDestroyTooltip(){unregisterTriggers();removeTooltip();ttScope=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function($animate,$sce,$compile,$templateRequest){return{link:function link(scope,elem,attrs){var origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope);var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function cleanupLastIncludeContent(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(thisChangeId!==changeCounter){return}var newScope=origScope.$new();var template=response;var clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,elem)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src)},function(){if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",src)}else{cleanupLastIncludeContent()}});scope.$on("$destroy",cleanupLastIncludeContent)}}}]).directive("uibTooltipClasses",["$uibPosition",function($uibPosition){return{restrict:"A",link:function link(scope,element,attrs){if(scope.placement){var position=$uibPosition.parsePlacement(scope.placement);element.addClass(position[0])}if(scope.popupClass){element.addClass(scope.popupClass)}if(scope.animation){element.addClass(attrs.tooltipAnimationClass)}}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:true})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipHtml","tooltip","mouseenter",{useContentExp:true})}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverTemplate","popover","click",{useContentExp:true})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverHtml","popover","click",{useContentExp:true})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:true,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[];$scope.max=getMaxOrDefault();this.addBar=function(bar,element,attrs){if(!animate){element.css({transition:"none"})}this.bars.push(bar);bar.max=getMaxOrDefault();bar.title=attrs&&angular.isDefined(attrs.title)?attrs.title:"progressbar";bar.$watch("value",function(value){bar.recalculatePercentage()});bar.recalculatePercentage=function(){var totalPercentage=self.bars.reduce(function(total,bar){bar.percent=+(100*bar.value/bar.max).toFixed(2);return total+bar.percent},0);if(totalPercentage>100){bar.percent-=totalPercentage-100}};bar.$on("$destroy",function(){element=null;self.removeBar(bar)})};this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1);this.bars.forEach(function(bar){bar.recalculatePercentage()})};$scope.$watch("maxParam",function(maxParam){self.bars.forEach(function(bar){bar.max=getMaxOrDefault();bar.recalculatePercentage()})});function getMaxOrDefault(){return angular.isDefined($scope.maxParam)?$scope.maxParam:progressConfig.max}}]).directive("uibProgress",function(){return{replace:true,transclude:true,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:true,transclude:true,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function link(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element,attrs)}}}).directive("uibProgressbar",function(){return{replace:true,transclude:true,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function link(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]),{title:attrs.title})}}});angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:true,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop},self=this;this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.push(function(value){if(angular.isNumber(value)&&value<<0!==value){value=Math.round(value)}return value});this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn;this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;this.enableReset=angular.isDefined($attrs.enableReset)?$scope.$parent.$eval($attrs.enableReset):ratingConfig.enableReset;var tmpTitles=angular.isDefined($attrs.titles)?$scope.$parent.$eval($attrs.titles):ratingConfig.titles;this.titles=angular.isArray(tmpTitles)&&tmpTitles.length>0?tmpTitles:ratingConfig.titles;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)};this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++){states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(i)},states[i])}return states};this.getTitle=function(index){if(index>=this.titles.length){return index+1}return this.titles[index]};$scope.rate=function(value){if(!$scope.readonly&&value>=0&&value<=$scope.range.length){var newViewValue=self.enableReset&&ngModelCtrl.$viewValue===value?0:value;ngModelCtrl.$setViewValue(newViewValue);ngModelCtrl.$render()}};$scope.enter=function(value){if(!$scope.readonly){$scope.value=value}$scope.onHover({value:value})};$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue;$scope.onLeave()};$scope.onKeydown=function(evt){if(/(37|38|39|40)/.test(evt.which)){evt.preventDefault();evt.stopPropagation();$scope.rate($scope.value+(evt.which===38||evt.which===39?1:-1))}};this.render=function(){$scope.value=ngModelCtrl.$viewValue;$scope.title=self.getTitle($scope.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function link(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl)}}});angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function($scope){var ctrl=this,oldIndex;ctrl.tabs=[];ctrl.select=function(index,evt){if(!destroyed){var previousIndex=findTabIndex(oldIndex);var previousSelected=ctrl.tabs[previousIndex];if(previousSelected){previousSelected.tab.onDeselect({$event:evt,$selectedIndex:index});if(evt&&evt.isDefaultPrevented()){return}previousSelected.tab.active=false}var selected=ctrl.tabs[index];if(selected){selected.tab.onSelect({$event:evt});selected.tab.active=true;ctrl.active=selected.index;oldIndex=selected.index}else if(!selected&&angular.isDefined(oldIndex)){ctrl.active=null;oldIndex=null}}};ctrl.addTab=function addTab(tab){ctrl.tabs.push({tab:tab,index:tab.index});ctrl.tabs.sort(function(t1,t2){if(t1.index>t2.index){return 1}if(t1.index<t2.index){return-1}return 0});if(tab.index===ctrl.active||!angular.isDefined(ctrl.active)&&ctrl.tabs.length===1){var newActiveIndex=findTabIndex(tab.index);ctrl.select(newActiveIndex)}};ctrl.removeTab=function removeTab(tab){var index;for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].tab===tab){index=i;break}}if(ctrl.tabs[index].index===ctrl.active){var newActiveTabIndex=index===ctrl.tabs.length-1?index-1:index+1%ctrl.tabs.length;ctrl.select(newActiveTabIndex)}ctrl.tabs.splice(index,1)};$scope.$watch("tabset.active",function(val){if(angular.isDefined(val)&&val!==oldIndex){ctrl.select(findTabIndex(val))}});var destroyed;$scope.$on("$destroy",function(){destroyed=true});function findTabIndex(index){for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].index===index){return i}}}}]).directive("uibTabset",function(){return{transclude:true,replace:true,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/tabs/tabset.html"},link:function link(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):false;scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):false}}}).directive("uibTab",["$parse",function($parse){return{require:"^uibTabset",replace:true,templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||"uib/template/tabs/tab.html"},transclude:true,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function controller(){},controllerAs:"tab",link:function link(scope,elm,attrs,tabsetCtrl,transclude){scope.disabled=false;if(attrs.disable){scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value})}if(angular.isUndefined(attrs.index)){if(tabsetCtrl.tabs&&tabsetCtrl.tabs.length){scope.index=Math.max.apply(null,tabsetCtrl.tabs.map(function(t){return t.index}))+1}else{scope.index=0}}if(angular.isUndefined(attrs.classes)){scope.classes=""}scope.select=function(evt){if(!scope.disabled){var index;for(var i=0;i<tabsetCtrl.tabs.length;i++){if(tabsetCtrl.tabs[i].tab===scope){index=i;break}}tabsetCtrl.select(index,evt)}};tabsetCtrl.addTab(scope);scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)});scope.$transcludeFn=transclude}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function link(scope,elm){scope.$watch("headingElement",function updateHeadingElement(heading){if(heading){elm.html("");elm.append(heading)}})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function link(scope,elm,attrs){var tab=scope.$eval(attrs.uibTabContentTransclude).tab;tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){if(isTabHeading(node)){tab.headingElement=node}else{elm.append(node)}})})}};function isTabHeading(node){return node.tagName&&(node.hasAttribute("uib-tab-heading")||node.hasAttribute("data-uib-tab-heading")||node.hasAttribute("x-uib-tab-heading")||node.tagName.toLowerCase()==="uib-tab-heading"||node.tagName.toLowerCase()==="data-uib-tab-heading"||node.tagName.toLowerCase()==="x-uib-tab-heading"||node.tagName.toLowerCase()==="uib:tab-heading")}});angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:true,showSeconds:false,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function($scope,$element,$attrs,$parse,$log,$locale,timepickerConfig){var hoursModelCtrl,minutesModelCtrl,secondsModelCtrl;var selected=new Date,watchers=[],ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,padHours=angular.isDefined($attrs.padHours)?$scope.$parent.$eval($attrs.padHours):true;$scope.tabindex=angular.isDefined($attrs.tabindex)?$attrs.tabindex:0;$element.removeAttr("tabindex");this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),secondsInputEl=inputs.eq(2);hoursModelCtrl=hoursInputEl.controller("ngModel");minutesModelCtrl=minutesInputEl.controller("ngModel");secondsModelCtrl=secondsInputEl.controller("ngModel");var mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){this.setupMousewheelEvents(hoursInputEl,minutesInputEl,secondsInputEl)}var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;if(arrowkeys){this.setupArrowkeyEvents(hoursInputEl,minutesInputEl,secondsInputEl)}$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput;this.setupInputEvents(hoursInputEl,minutesInputEl,secondsInputEl)};var hourStep=timepickerConfig.hourStep;if($attrs.hourStep){watchers.push($scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=+value}))}var minuteStep=timepickerConfig.minuteStep;if($attrs.minuteStep){watchers.push($scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=+value}))}var min;watchers.push($scope.$parent.$watch($parse($attrs.min),function(value){var dt=new Date(value);min=isNaN(dt)?undefined:dt}));var max;watchers.push($scope.$parent.$watch($parse($attrs.max),function(value){var dt=new Date(value);max=isNaN(dt)?undefined:dt}));var disabled=false;if($attrs.ngDisabled){watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(value){disabled=value}))}$scope.noIncrementHours=function(){var incrementedSelected=addMinutes(selected,hourStep*60);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min};$scope.noDecrementHours=function(){var decrementedSelected=addMinutes(selected,-hourStep*60);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max};$scope.noIncrementMinutes=function(){var incrementedSelected=addMinutes(selected,minuteStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min};$scope.noDecrementMinutes=function(){var decrementedSelected=addMinutes(selected,-minuteStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max};$scope.noIncrementSeconds=function(){var incrementedSelected=addSeconds(selected,secondStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min};$scope.noDecrementSeconds=function(){var decrementedSelected=addSeconds(selected,-secondStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max};$scope.noToggleMeridian=function(){if(selected.getHours()<12){return disabled||addMinutes(selected,12*60)>max}return disabled||addMinutes(selected,-12*60)<min};var secondStep=timepickerConfig.secondStep;if($attrs.secondStep){watchers.push($scope.$parent.$watch($parse($attrs.secondStep),function(value){secondStep=+value}))}$scope.showSeconds=timepickerConfig.showSeconds;if($attrs.showSeconds){watchers.push($scope.$parent.$watch($parse($attrs.showSeconds),function(value){$scope.showSeconds=!!value}))}$scope.showMeridian=timepickerConfig.showMeridian;if($attrs.showMeridian){watchers.push($scope.$parent.$watch($parse($attrs.showMeridian),function(value){$scope.showMeridian=!!value;if(ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);refresh()}}else{updateTemplate()}}))}function getHoursFromTemplate(){var hours=+$scope.hours;var valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(!valid||$scope.hours===""){return undefined}if($scope.showMeridian){if(hours===12){hours=0}if($scope.meridian===meridians[1]){hours=hours+12}}return hours}function getMinutesFromTemplate(){var minutes=+$scope.minutes;var valid=minutes>=0&&minutes<60;if(!valid||$scope.minutes===""){return undefined}return minutes}function getSecondsFromTemplate(){var seconds=+$scope.seconds;return seconds>=0&&seconds<60?seconds:undefined}function pad(value,noPad){if(value===null){return""}return angular.isDefined(value)&&value.toString().length<2&&!noPad?"0"+value:value.toString()}this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){var isScrollingUp=function isScrollingUp(e){if(e.originalEvent){e=e.originalEvent}var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.on("mousewheel wheel",function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours())}e.preventDefault()});minutesInputEl.on("mousewheel wheel",function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes())}e.preventDefault()});secondsInputEl.on("mousewheel wheel",function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementSeconds():$scope.decrementSeconds())}e.preventDefault()})};this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){hoursInputEl.on("keydown",function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementHours();$scope.$apply()}else if(e.which===40){e.preventDefault();$scope.decrementHours();$scope.$apply()}}});minutesInputEl.on("keydown",function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementMinutes();$scope.$apply()}else if(e.which===40){e.preventDefault();$scope.decrementMinutes();$scope.$apply()}}});secondsInputEl.on("keydown",function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementSeconds();$scope.$apply()}else if(e.which===40){e.preventDefault();$scope.decrementSeconds();$scope.$apply()}}})};this.setupInputEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){if($scope.readonlyInput){$scope.updateHours=angular.noop;$scope.updateMinutes=angular.noop;$scope.updateSeconds=angular.noop;return}var invalidate=function invalidate(invalidHours,invalidMinutes,invalidSeconds){ngModelCtrl.$setViewValue(null);ngModelCtrl.$setValidity("time",false);if(angular.isDefined(invalidHours)){$scope.invalidHours=invalidHours;if(hoursModelCtrl){hoursModelCtrl.$setValidity("hours",false)}}if(angular.isDefined(invalidMinutes)){$scope.invalidMinutes=invalidMinutes;if(minutesModelCtrl){minutesModelCtrl.$setValidity("minutes",false)}}if(angular.isDefined(invalidSeconds)){$scope.invalidSeconds=invalidSeconds;if(secondsModelCtrl){secondsModelCtrl.$setValidity("seconds",false)}}};$scope.updateHours=function(){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(true)}else{refresh("h")}}else{invalidate(true)}};hoursInputEl.on("blur",function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid()}else if($scope.hours===null||$scope.hours===""){invalidate(true)}else if(!$scope.invalidHours&&$scope.hours<10){$scope.$apply(function(){$scope.hours=pad($scope.hours,!padHours)})}});$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(minutes)&&angular.isDefined(hours)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(undefined,true)}else{refresh("m")}}else{invalidate(undefined,true)}};minutesInputEl.on("blur",function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid()}else if($scope.minutes===null){invalidate(undefined,true)}else if(!$scope.invalidMinutes&&$scope.minutes<10){$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})}});$scope.updateSeconds=function(){var seconds=getSecondsFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(seconds)){selected.setSeconds(seconds);refresh("s")}else{invalidate(undefined,undefined,true)}};secondsInputEl.on("blur",function(e){if(modelIsEmpty()){makeValid()}else if(!$scope.invalidSeconds&&$scope.seconds<10){$scope.$apply(function(){$scope.seconds=pad($scope.seconds)})}})};this.render=function(){var date=ngModelCtrl.$viewValue;if(isNaN(date)){ngModelCtrl.$setValidity("time",false);$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}else{if(date){selected=date}if(selected<min||selected>max){ngModelCtrl.$setValidity("time",false);$scope.invalidHours=true;$scope.invalidMinutes=true}else{makeValid()}updateTemplate()}};function refresh(keyboardChange){makeValid();ngModelCtrl.$setViewValue(new Date(selected));updateTemplate(keyboardChange)}function makeValid(){if(hoursModelCtrl){hoursModelCtrl.$setValidity("hours",true)}if(minutesModelCtrl){minutesModelCtrl.$setValidity("minutes",true)}if(secondsModelCtrl){secondsModelCtrl.$setValidity("seconds",true)}ngModelCtrl.$setValidity("time",true);$scope.invalidHours=false;$scope.invalidMinutes=false;$scope.invalidSeconds=false}function updateTemplate(keyboardChange){if(!ngModelCtrl.$modelValue){$scope.hours=null;$scope.minutes=null;$scope.seconds=null;$scope.meridian=meridians[0]}else{var hours=selected.getHours(),minutes=selected.getMinutes(),seconds=selected.getSeconds();if($scope.showMeridian){hours=hours===0||hours===12?12:hours%12}$scope.hours=keyboardChange==="h"?hours:pad(hours,!padHours);if(keyboardChange!=="m"){$scope.minutes=pad(minutes)}$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1];if(keyboardChange!=="s"){$scope.seconds=pad(seconds)}$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}}function addSecondsToSelected(seconds){selected=addSeconds(selected,seconds);refresh()}function addMinutes(selected,minutes){return addSeconds(selected,minutes*60)}function addSeconds(date,seconds){var dt=new Date(date.getTime()+seconds*1e3);var newDate=new Date(date);newDate.setHours(dt.getHours(),dt.getMinutes(),dt.getSeconds());return newDate}function modelIsEmpty(){return($scope.hours===null||$scope.hours==="")&&($scope.minutes===null||$scope.minutes==="")&&(!$scope.showSeconds||$scope.showSeconds&&($scope.seconds===null||$scope.seconds===""))}$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners;$scope.incrementHours=function(){if(!$scope.noIncrementHours()){addSecondsToSelected(hourStep*60*60)}};$scope.decrementHours=function(){if(!$scope.noDecrementHours()){addSecondsToSelected(-hourStep*60*60)}};$scope.incrementMinutes=function(){if(!$scope.noIncrementMinutes()){addSecondsToSelected(minuteStep*60)}};$scope.decrementMinutes=function(){if(!$scope.noDecrementMinutes()){addSecondsToSelected(-minuteStep*60)}};$scope.incrementSeconds=function(){if(!$scope.noIncrementSeconds()){addSecondsToSelected(secondStep)}};$scope.decrementSeconds=function(){if(!$scope.noDecrementSeconds()){addSecondsToSelected(-secondStep)}};$scope.toggleMeridian=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();if(!$scope.noToggleMeridian()){if(angular.isDefined(minutes)&&angular.isDefined(hours)){addSecondsToSelected(12*60*(selected.getHours()<12?60:-60))}else{$scope.meridian=$scope.meridian===meridians[0]?meridians[1]:meridians[0]}}};$scope.blur=function(){ngModelCtrl.$setTouched()};$scope.$on("$destroy",function(){while(watchers.length){watchers.shift()()}})}]).directive("uibTimepicker",["uibTimepickerConfig",function(uibTimepickerConfig){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function templateUrl(element,attrs){return attrs.templateUrl||uibTimepickerConfig.templateUrl},link:function link(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){timepickerCtrl.init(ngModelCtrl,element.find("input"))}}}}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function parse(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"'+' but got "'+input+'".')}return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$$debounce,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];var eventDebounceTime=200;var modelCtrl,ngModelOptions;var minLength=originalScope.$eval(attrs.typeaheadMinLength);if(!minLength&&minLength!==0){minLength=1}originalScope.$watch(attrs.typeaheadMinLength,function(newVal){minLength=!newVal&&newVal!==0?1:newVal});var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=originalScope.$eval(attrs.typeaheadEditable)!==false;originalScope.$watch(attrs.typeaheadEditable,function(newVal){isEditable=newVal!==false});var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var isSelectEvent=attrs.typeaheadShouldSelect?$parse(attrs.typeaheadShouldSelect):function(scope,vals){var evt=vals.$event;return evt.which===13||evt.which===9};var onSelectCallback=$parse(attrs.typeaheadOnSelect);var isSelectOnBlur=angular.isDefined(attrs.typeaheadSelectOnBlur)?originalScope.$eval(attrs.typeaheadSelectOnBlur):false;var isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop;var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):undefined;var appendToBody=attrs.typeaheadAppendToBody?originalScope.$eval(attrs.typeaheadAppendToBody):false;var appendTo=attrs.typeaheadAppendTo?originalScope.$eval(attrs.typeaheadAppendTo):null;var focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==false;var selectOnExact=attrs.typeaheadSelectOnExact?originalScope.$eval(attrs.typeaheadSelectOnExact):false;var isOpenSetter=$parse(attrs.typeaheadIsOpen).assign||angular.noop;var showHint=originalScope.$eval(attrs.typeaheadShowHint)||false;var parsedModel=$parse(attrs.ngModel);var invokeModelSetter=$parse(attrs.ngModel+"($$$p)");var $setModelValue=function $setModelValue(scope,newValue){if(angular.isFunction(parsedModel(originalScope))&&ngModelOptions.getOption("getterSetter")){return invokeModelSetter(scope,{$$$p:newValue})}return parsedModel.assign(scope,newValue)};var parserResult=typeaheadParser.parse(attrs.uibTypeahead);var hasFocus;var selected;var scope=originalScope.$new();var offDestroy=originalScope.$on("$destroy",function(){scope.$destroy()});scope.$on("$destroy",offDestroy);var popupId="typeahead-"+scope.$id+"-"+Math.floor(Math.random()*1e4);element.attr({"aria-autocomplete":"list","aria-expanded":false,"aria-owns":popupId});var inputsContainer,hintInputElem;if(showHint){inputsContainer=angular.element("<div></div>");inputsContainer.css("position","relative");element.after(inputsContainer);hintInputElem=element.clone();hintInputElem.attr("placeholder","");hintInputElem.attr("tabindex","-1");hintInputElem.val("");hintInputElem.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"});element.css({position:"relative","vertical-align":"top","background-color":"transparent"});if(hintInputElem.attr("id")){hintInputElem.removeAttr("id")}inputsContainer.append(hintInputElem);hintInputElem.after(element)}var popUpEl=angular.element("<div uib-typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"});if(angular.isDefined(attrs.typeaheadTemplateUrl)){popUpEl.attr("template-url",attrs.typeaheadTemplateUrl)}if(angular.isDefined(attrs.typeaheadPopupTemplateUrl)){popUpEl.attr("popup-template-url",attrs.typeaheadPopupTemplateUrl)}var resetHint=function resetHint(){if(showHint){hintInputElem.val("")}};var resetMatches=function resetMatches(){scope.matches=[];scope.activeIdx=-1;element.attr("aria-expanded",false);resetHint()};var getMatchId=function getMatchId(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){if(index<0){element.removeAttr("aria-activedescendant")}else{element.attr("aria-activedescendant",getMatchId(index))}});var inputIsExactMatch=function inputIsExactMatch(inputValue,index){if(scope.matches.length>index&&inputValue){return inputValue.toUpperCase()===scope.matches[index].label.toUpperCase()}return false};var getMatchesAsync=function getMatchesAsync(inputValue,evt){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);isNoResultsSetter(originalScope,false);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus){if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;isNoResultsSetter(originalScope,false);scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]})}scope.query=inputValue;recalculatePosition();element.attr("aria-expanded",true);if(selectOnExact&&scope.matches.length===1&&inputIsExactMatch(inputValue,0)){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(0,evt)},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate["default"])}else{scope.select(0,evt)}}if(showHint){var firstLabel=scope.matches[0].label;if(angular.isString(inputValue)&&inputValue.length>0&&firstLabel.slice(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()){hintInputElem.val(inputValue+firstLabel.slice(inputValue.length))}else{hintInputElem.val("")}}}else{resetMatches();isNoResultsSetter(originalScope,true)}}if(onCurrentRequest){isLoadingSetter(originalScope,false)}},function(){resetMatches();isLoadingSetter(originalScope,false);isNoResultsSetter(originalScope,true)})};if(appendToBody){angular.element($window).on("resize",fireRecalculating);$document.find("body").on("scroll",fireRecalculating)}var debouncedRecalculate=$$debounce(function(){if(scope.matches.length){recalculatePosition()}scope.moveInProgress=false},eventDebounceTime);scope.moveInProgress=false;function fireRecalculating(){if(!scope.moveInProgress){scope.moveInProgress=true;scope.$digest()}debouncedRecalculate()}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top+=element.prop("offsetHeight")}scope.query=undefined;var timeoutPromise;var scheduleSearchWithTimeout=function scheduleSearchWithTimeout(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)};var cancelPreviousTimeout=function cancelPreviousTimeout(){if(timeoutPromise){$timeout.cancel(timeoutPromise)}};resetMatches();scope.assignIsOpen=function(isOpen){isOpenSetter(originalScope,isOpen)};scope.select=function(activeIdx,evt){var locals={};var model,item;selected=true;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity("editable",true);modelCtrl.$setValidity("parse",true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals),$event:evt});resetMatches();if(scope.$eval(attrs.typeaheadFocusOnSelect)!==false){$timeout(function(){element[0].focus()},0,false)}};element.on("keydown",function(evt){if(scope.matches.length===0||HOT_KEYS.indexOf(evt.which)===-1){return}var shouldSelect=isSelectEvent(originalScope,{$event:evt});if(scope.activeIdx===-1&&shouldSelect||evt.which===9&&!!evt.shiftKey){resetMatches();scope.$digest();return}evt.preventDefault();var target;switch(evt.which){case 27:evt.stopPropagation();resetMatches();originalScope.$digest();break;case 38:scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest();target=popUpEl[0].querySelectorAll(".uib-typeahead-match")[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;case 40:scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest();target=popUpEl[0].querySelectorAll(".uib-typeahead-match")[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;default:if(shouldSelect){scope.$apply(function(){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(scope.activeIdx,evt)},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate["default"])}else{scope.select(scope.activeIdx,evt)}})}}});element.on("focus",function(evt){hasFocus=true;if(minLength===0&&!modelCtrl.$viewValue){$timeout(function(){getMatchesAsync(modelCtrl.$viewValue,evt)},0)}});element.on("blur",function(evt){if(isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected){selected=true;scope.$apply(function(){if(angular.isObject(scope.debounceUpdate)&&angular.isNumber(scope.debounceUpdate.blur)){$$debounce(function(){scope.select(scope.activeIdx,evt)},scope.debounceUpdate.blur)}else{scope.select(scope.activeIdx,evt)}})}if(!isEditable&&modelCtrl.$error.editable){modelCtrl.$setViewValue();scope.$apply(function(){modelCtrl.$setValidity("editable",true);modelCtrl.$setValidity("parse",true)});element.val("")}hasFocus=false;selected=false});var dismissClickHandler=function dismissClickHandler(evt){if(element[0]!==evt.target&&evt.which!==3&&scope.matches.length!==0){resetMatches();if(!$rootScope.$$phase){originalScope.$digest()}}};$document.on("click",dismissClickHandler);originalScope.$on("$destroy",function(){$document.off("click",dismissClickHandler);if(appendToBody||appendTo){$popup.remove()}if(appendToBody){angular.element($window).off("resize",fireRecalculating);$document.find("body").off("scroll",fireRecalculating)}popUpEl.remove();if(showHint){inputsContainer.remove()}});var $popup=$compile(popUpEl)(scope);if(appendToBody){$document.find("body").append($popup)}else if(appendTo){angular.element(appendTo).eq(0).append($popup)}else{element.after($popup)}this.init=function(_modelCtrl){modelCtrl=_modelCtrl;ngModelOptions=extractOptions(modelCtrl);scope.debounceUpdate=$parse(ngModelOptions.getOption("debounce"))(originalScope);modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(minLength===0||inputValue&&inputValue.length>=minLength){if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue)}else{getMatchesAsync(inputValue)}}else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches()}if(isEditable){return inputValue}if(!inputValue){modelCtrl.$setValidity("editable",true);return null}modelCtrl.$setValidity("editable",false);return undefined});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};if(!isEditable){modelCtrl.$setValidity("editable",true)}if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals)}locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=undefined;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue})};function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||{};ngModelOptions.getOption=function(key){return ngModelOptions[key]}}else{ngModelOptions=ngModelCtrl.$options}return ngModelOptions}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function link(originalScope,element,attrs,ctrls){ctrls[1].init(ctrls[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function($$debounce){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:true,templateUrl:function templateUrl(element,attrs){return attrs.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function link(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){var isDropdownOpen=scope.matches.length>0;scope.assignIsOpen({isOpen:isDropdownOpen});return isDropdownOpen};scope.isActive=function(matchIdx){return scope.active===matchIdx};scope.selectActive=function(matchIdx){scope.active=matchIdx};scope.selectMatch=function(activeIdx,evt){var debounce=scope.debounce();if(angular.isNumber(debounce)||angular.isObject(debounce)){$$debounce(function(){scope.select({activeIdx:activeIdx,evt:evt})},angular.isNumber(debounce)?debounce:debounce["default"])}else{scope.select({activeIdx:activeIdx,evt:evt})}}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function($templateRequest,$compile,$parse){return{scope:{index:"=",match:"=",query:"="},link:function link(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"uib/template/typeahead/typeahead-match.html";$templateRequest(tplUrl).then(function(tplContent){var tplEl=angular.element(tplContent.trim());element.replaceWith(tplEl);$compile(tplEl)(scope)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function($sce,$injector,$log){var isSanitizePresent;isSanitizePresent=$injector.has("$sanitize");function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function containsHtml(matchItem){return/<.*>/g.test(matchItem)}return function(matchItem,query){if(!isSanitizePresent&&containsHtml(matchItem)){$log.warn("Unsafe use of typeahead please use ngSanitize")}matchItem=query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem;if(!isSanitizePresent){matchItem=$sce.trustAsHtml(matchItem)}return matchItem}}]);angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n'+'  <h4 class="panel-title">\n'+'    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n'+"  </h4>\n"+"</div>\n"+'<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n'+'  <div class="panel-body" ng-transclude></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]);angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n'+'  <span aria-hidden="true">&times;</span>\n'+'  <span class="sr-only">Close</span>\n'+"</button>\n"+"<div ng-transclude></div>\n"+"")}]);angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n'+'<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n'+'  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n'+'  <span class="sr-only">previous</span>\n'+"</a>\n"+'<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n'+'  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n'+'  <span class="sr-only">next</span>\n'+"</a>\n"+'<ol class="carousel-indicators" ng-show="slides.length > 1">\n'+'  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n'+'    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n'+"  </li>\n"+"</ol>\n"+"")}]);angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n'+"")}]);angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n'+'  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n'+'  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n'+'  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n'+'      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n'+"    </tr>\n"+"    <tr>\n"+'      <th ng-if="showWeeks" class="text-center"></th>\n'+'      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n'+'      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n'+'      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default btn-sm"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+"          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n'+'      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n'+'      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+'          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n'+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/popup.html","<div>\n"+'  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n'+"    <li ng-transclude></li>\n"+'    <li ng-if="showButtonBar" class="uib-button-bar">\n'+'      <span class="btn-group pull-left">\n'+'        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n'+'        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n'+"      </span>\n"+'      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n'+"    </li>\n"+"  </ul>\n"+"</div>\n"+"")}]);angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n'+'      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n'+'      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+'          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n'+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n'+"  <li ng-transclude></li>\n"+'  <li ng-if="showButtonBar" class="uib-button-bar">\n'+'    <span class="btn-group pull-left">\n'+'      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n'+'      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n'+"    </span>\n"+'    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n'+"  </li>\n"+"</ul>\n"+"")}]);angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n'+'     uib-modal-animation-class="fade"\n'+'     modal-in-class="in"\n'+"     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n"+"></div>\n"+"")}]);angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n"+"")}]);angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n'+'<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n'+"")}]);angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n'+'<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n'+'<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n'+'<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n'+'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n'+"")}]);angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n'+'<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n'+"")}]);angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n'+'<div class="tooltip-inner" ng-bind="content"></div>\n'+"")}]);angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n'+'<div class="tooltip-inner"\n'+'  uib-tooltip-template-transclude="contentExp()"\n'+'  tooltip-template-transclude-scope="originScope()"></div>\n'+"")}]);angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n'+"\n"+'<div class="popover-inner">\n'+'    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n'+'    <div class="popover-content" ng-bind-html="contentExp()"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n'+"\n"+'<div class="popover-inner">\n'+'    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n'+'    <div class="popover-content"\n'+'      uib-tooltip-template-transclude="contentExp()"\n'+'      tooltip-template-transclude-scope="originScope()"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n'+"\n"+'<div class="popover-inner">\n'+'    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n'+'    <div class="popover-content" ng-bind="content"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n'+"")}]);angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]);angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n'+'  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n'+"    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+'    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n'+"</span>\n"+"")}]);angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n'+'  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n'+"</li>\n"+"")}]);angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tabset.html","<div>\n"+"  <ul class=\"nav nav-{{tabset.type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+'  <div class="tab-content">\n'+'    <div class="tab-pane"\n'+'         ng-repeat="tab in tabset.tabs"\n'+'         ng-class="{active: tabset.active === tab.index}"\n'+'         uib-tab-content-transclude="tab">\n'+"    </div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n'+"  <tbody>\n"+'    <tr class="text-center" ng-show="::showSpinners">\n'+'      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+"      <td>&nbsp;</td>\n"+'      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+'      <td ng-show="showSeconds">&nbsp;</td>\n'+'      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+'      <td ng-show="showMeridian"></td>\n'+"    </tr>\n"+"    <tr>\n"+'      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n'+'        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n'+"      </td>\n"+'      <td class="uib-separator">:</td>\n'+'      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n'+'        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n'+"      </td>\n"+'      <td ng-show="showSeconds" class="uib-separator">:</td>\n'+'      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n'+'        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n'+"      </td>\n"+'      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n'+"    </tr>\n"+'    <tr class="text-center" ng-show="::showSpinners">\n'+'      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+"      <td>&nbsp;</td>\n"+'      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+'      <td ng-show="showSeconds">&nbsp;</td>\n'+'      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+'      <td ng-show="showMeridian"></td>\n'+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-match.html","<a href\n"+'   tabindex="-1"\n'+'   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n'+'   ng-attr-title="{{match.label}}"></a>\n'+"")}]);angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n'+'    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n'+'        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n'+"    </li>\n"+"</ul>\n"+"")}]);angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');angular.$$uibCarouselCss=true});angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>');angular.$$uibDatepickerCss=true});angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>');angular.$$uibPositionCss=true});angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>');angular.$$uibDatepickerpopupCss=true});angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>');angular.$$uibTooltipCss=true});angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>');angular.$$uibTimepickerCss=true});angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>');angular.$$uibTypeaheadCss=true})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(206);module.exports="ui.bootstrap"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof2=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(global,factory){(false?"undefined":_typeof2(exports))==="object"&&typeof module!=="undefined"?module.exports=factory(__webpack_require__(135)):true?!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(135)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):global.AngularjsColorPicker=factory(global.tinycolor)})(undefined,function(tinycolor){"use strict";tinycolor=tinycolor&&tinycolor.hasOwnProperty("default")?tinycolor["default"]:tinycolor;var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==="undefined"?"undefined":_typeof2(obj)}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj==="undefined"?"undefined":_typeof2(obj)};var asyncGenerator=function(){function AwaitValue(value){this.value=value}function AsyncGenerator(gen){var front,back;function send(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};if(back){back=back.next=request}else{front=back=request;resume(key,arg)}})}function resume(key,arg){try{var result=gen[key](arg);var value=result.value;if(value instanceof AwaitValue){Promise.resolve(value.value).then(function(arg){resume("next",arg)},function(arg){resume("throw",arg)})}else{settle(result.done?"return":"normal",result.value)}}catch(err){settle("throw",err)}}function settle(type,value){switch(type){case"return":front.resolve({value:value,done:true});break;case"throw":front.reject(value);break;default:front.resolve({value:value,done:false});break}front=front.next;if(front){resume(front.key,front.arg)}else{back=null}}this._invoke=send;if(typeof gen.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}}AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)};AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)};AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)};return{wrap:function wrap(fn){return function(){return new AsyncGenerator(fn.apply(this,arguments))}},await:function _await(value){return new AwaitValue(value)}}}();var classCallCheck=function classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var AngularColorPickerController=function(){function AngularColorPickerController(_$scope,_$element,_$document,_$timeout,_ColorPickerOptions){classCallCheck(this,AngularColorPickerController);this.$scope=_$scope;this.$element=_$element;this.$document=_$document;this.$timeout=_$timeout;this.ColorPickerOptions=_ColorPickerOptions;this.$scope.init=this.init.bind(this);this.ngModelOptions={};this.hue=0;this.saturation=undefined;this.lightness=undefined;this.opacity=undefined;this.basicEventTypes=["hue","saturation","lightness","opacity"];this.fullEventTypes=["color","hue","saturation","lightness","opacity"]}createClass(AngularColorPickerController,[{key:"init",value:function init(){if(this.$scope.control[0].$options&&this.$scope.control[0].$options.$$options){this.ngModelOptions=this.$scope.control[0].$options.$$options}this.chrome=Boolean(window.chrome);var _android_version=window.navigator.userAgent.match(/Android\s([0-9\.]*)/i);this.android_version=_android_version&&_android_version.length>1?parseFloat(_android_version[1]):NaN;this.updateModel=true;this.initWatchers();this.initConfig();this.initMouseEvents()}},{key:"initConfig",value:function initConfig(){if(!this.options){this.options={}}this.mergeOptions(this.options,this.ColorPickerOptions);this.is_open=this.options.inline;if(this.options.inline){this.options.close.show=false}this.pickerDimensions={width:150,height:150};this.sliderDimensions={width:this.options.horizontal?this.pickerDimensions.width:20,height:this.options.horizontal?20:this.pickerDimensions.height}}},{key:"mergeOptions",value:function mergeOptions(options,defaultOptions){for(var attr in defaultOptions){if(defaultOptions.hasOwnProperty(attr)){if(!options||!options.hasOwnProperty(attr)){options[attr]=defaultOptions[attr]}else if(_typeof(defaultOptions[attr])==="object"){this.mergeOptions(options[attr],defaultOptions[attr])}}}}},{key:"initWatchers",value:function initWatchers(){var _this=this;this.$scope.$watch("AngularColorPickerController.internalNgModel",this.watchInternalNgModel.bind(this));this.$scope.$watch("AngularColorPickerController.ngModel",this.watchNgModel.bind(this));this.$scope.$watch("AngularColorPickerController.options.swatchPos",function(newValue){if(newValue!==undefined){_this.initConfig();_this.$timeout(function(){_this.updateSwatchBackground()})}});this.$scope.$watchGroup(["AngularColorPickerController.options.format","AngularColorPickerController.options.alpha","AngularColorPickerController.options.case","AngularColorPickerController.options.round","AngularColorPickerController.options.restrictToFormat","AngularColorPickerController.options.preserveInputFormat","AngularColorPickerController.options.allowEmpty","AngularColorPickerController.options.horizontal","AngularColorPickerController.options.dynamicHue","AngularColorPickerController.options.dynamicSaturation","AngularColorPickerController.options.dynamicLightness","AngularColorPickerController.options.dynamicAlpha"],function(newValue){if(newValue!==undefined){_this.initConfig();_this.update()}});this.$scope.$watchGroup(["AngularColorPickerController.options.disabled","AngularColorPickerController.options.swatchBootstrap","AngularColorPickerController.options.swatchOnly","AngularColorPickerController.options.swatch","AngularColorPickerController.options.pos","AngularColorPickerController.options.inline","AngularColorPickerController.options.placeholder"],function(newValue){if(newValue!==undefined){_this.initConfig()}});this.$scope.$watch("AngularColorPickerController.api",this.setupApi.bind(this));this.$scope.$watch("AngularColorPickerController.swatchColor",this.updateSwatchBackground.bind(this));this.$scope.$watch("AngularColorPickerController.hue",function(){_this.valueUpdate("hue")});this.$scope.$watch("AngularColorPickerController.saturation",function(){_this.valueUpdate("saturation")});this.$scope.$watch("AngularColorPickerController.lightness",function(){_this.valueUpdate("lightness")});this.$scope.$watch("AngularColorPickerController.opacity",function(){_this.valueUpdate("opacity")})}},{key:"watchInternalNgModel",value:function watchInternalNgModel(newValue,oldValue){if(this.colorMouse){return}this.watchNgModelSet(newValue)}},{key:"watchNgModel",value:function watchNgModel(newValue,oldValue){if(newValue!==undefined&&!this.hasOwnProperty("initialNgModel")){this.initialNgModel=newValue}this.checkDirty(newValue);this.internalNgModel=this.ngModelOptions.getterSetter?this.ngModel():this.ngModel;if(this.colorMouse){return}this.watchNgModelSet(newValue)}},{key:"watchNgModelSet",value:function watchNgModelSet(newValue){var _this2=this;if(newValue!==undefined&&newValue!==null){var color=tinycolor(newValue);var isValid=this.isColorValid(color);if(isValid){this.setColorValue(color);this.updateModel=false;this.$timeout(function(){_this2.updateModel=true})}this.$scope.control[0].$setValidity("color",isValid)}else{if(newValue===null||newValue===""){this.hue=0;this.saturation=undefined;this.lightness=undefined;this.opacity=undefined}this.swatchColor=""}}},{key:"initMouseEvents",value:function initMouseEvents(){var _this3=this;var eventHandlers={mouseDown:this.onMouseDown.bind(this),mouseUp:this.onMouseUp.bind(this),mouseMove:this.onMouseMove.bind(this),keyUp:this.onKeyUp.bind(this)};this.$document.on("mousedown",eventHandlers.mouseDown);this.$document.on("mouseup",eventHandlers.mouseUp);this.$document.on("mousemove",eventHandlers.mouseMove);this.$document.on("touchstart",eventHandlers.mouseDown);this.$document.on("touchend",eventHandlers.mouseUp);this.$document.on("touchmove",eventHandlers.mouseMove);this.$document.on("keyup",eventHandlers.keyUp);this.find(".color-picker-grid").on("click",function(event){_this3.onClick("color",event)});this.find(".color-picker-grid").on("touchend",function(event){_this3.onClick("color",event)});this.find(".color-picker-hue").on("click",function(event){_this3.onClick("hue",event)});this.find(".color-picker-hue").on("touchend",function(event){_this3.onClick("hue",event)});this.find(".color-picker-saturation").on("click",function(event){_this3.onClick("saturation",event)});this.find(".color-picker-saturation").on("touchend",function(event){_this3.onClick("saturation",event)});this.find(".color-picker-lightness").on("click",function(event){_this3.onClick("lightness",event)});this.find(".color-picker-lightness").on("touchend",function(event){_this3.onClick("lightness",event)});this.find(".color-picker-opacity").on("click",function(event){_this3.onClick("opacity",event)});this.find(".color-picker-opacity").on("touchend",function(event){_this3.onClick("opacity",event)});this.find(".color-picker-input").on("focusin",this.onFocus.bind(this));this.find(".color-picker-input").on("focusout",this.onBlur.bind(this));this.$scope.$on("$destroy",function(){_this3.$document.off("mousedown",eventHandlers.mouseDown);_this3.$document.off("mouseup",eventHandlers.mouseUp);_this3.$document.off("mousemove",eventHandlers.mouseMove);_this3.$document.off("touchstart",eventHandlers.mouseDown);_this3.$document.off("touchend",eventHandlers.mouseUp);_this3.$document.off("touchmove",eventHandlers.mouseMove);_this3.$document.off("keyup",eventHandlers.keyUp);_this3.eventApiDispatch("onDestroy")})}},{key:"onMouseDown",value:function onMouseDown(event){this.has_moused_moved=false;if(this.options.disabled||this.find(event.target).length===0){return true}for(var i=0;i<this.fullEventTypes.length;i++){this.onMouseDownType(this.fullEventTypes[i],event)}}},{key:"onMouseDownType",value:function onMouseDownType(type,event){if(type==="color"&&(event.target.classList.contains("color-picker-grid-inner")||event.target.classList.contains("color-picker-picker")||event.target.parentNode.classList.contains("color-picker-picker"))){this.mouseEventToggle(type,false,event)}else if(event.target.classList.contains("color-picker-"+type)||event.target.parentNode.classList.contains("color-picker-"+type)){this.mouseEventToggle(type,false,event)}}},{key:"onMouseUp",value:function onMouseUp(event){if(!this.anyMouseEvents()&&this.find(event.target).length===0){this.setupApi();if(this.options.hide.click){this.api.close(event)}this.$scope.$apply()}else{for(var i=0;i<this.fullEventTypes.length;i++){this.onMouseUpType(this.fullEventTypes[i],event)}}}},{key:"onMouseUpType",value:function onMouseUpType(type,event){if(this[type+"Mouse"]&&this.has_moused_moved){this.mouseEventToggle(type,true,event);this.onChange(event)}}},{key:"onMouseMove",value:function onMouseMove(event){for(var i=0;i<this.fullEventTypes.length;i++){this.onMouseMoveType(this.fullEventTypes[i],event)}}},{key:"onMouseMoveType",value:function onMouseMoveType(type,event){if(this[type+"Mouse"]){this.has_moused_moved=true;this.valueChange(type,event);this.$scope.$apply()}}},{key:"onKeyUp",value:function onKeyUp(event){if(this.options.hide.escape&&event.keyCode===27){this.api.close(event)}}},{key:"onClick",value:function onClick(type,event){if(!this.options.disabled&&!this.has_moused_moved){this.valueChange(type,event);this.mouseEventToggle(type,true,event);this.onChange(event)}}},{key:"onChange",value:function onChange(event){if(this.internalNgModel!==this.onChangeValue){this.onChangeValue=this.internalNgModel;this.eventApiDispatch("onChange",[event])}}},{key:"onBlur",value:function onBlur(event){if(this.internalNgModel!==this.onChangeValue){this.updateModel=true;this.update()}this.$scope.control[0].$setTouched();this.eventApiDispatch("onBlur",[event]);if(this.options.hide.blur&&this.find(event.relatedTarget).length===0){this.api.close(event)}}},{key:"onSwatchClick",value:function onSwatchClick($event){if(this.options.show.swatch&&!this.options.disabled){this.api.open($event)}}},{key:"onFocus",value:function onFocus($event){if(this.options.show.focus){this.api.open($event)}}},{key:"setupApi",value:function setupApi(){var _this4=this;if(!this.api){this.api={}}this.api.open=function(event){if(_this4.is_open){return true}_this4.is_open=true;_this4.hueMouse=false;_this4.opacityMouse=false;_this4.colorMouse=false;_this4.$scope.$applyAsync();for(var i=0;i<_this4.basicEventTypes.length;i++){_this4.valueUpdate(_this4.basicEventTypes[i])}_this4.eventApiDispatch("onOpen",[event])};this.api.close=function(event){if(!_this4.options.inline&&(_this4.is_open||_this4.$element[0].querySelector(".color-picker-panel").offsetParent!==null)){_this4.is_open=false;_this4.$scope.$applyAsync();_this4.update();_this4.eventApiDispatch("onClose",[event])}};this.api.clear=function(event){_this4.setNgModel(null);_this4.eventApiDispatch("onClear",[event])};this.api.reset=function(event){if(_this4.internalNgModel!==_this4.initialNgModel){_this4.setNgModel(_this4.initialNgModel);_this4.eventApiDispatch("onReset",[event])}};this.api.getElement=function(){return _this4.$element};this.api.getScope=function(){return _this4.$scope}}},{key:"setNgModel",value:function setNgModel(value){this.internalNgModel=value;if(this.ngModelOptions.getterSetter){this.ngModel(value)}else{this.ngModel=value}}},{key:"update",value:function update(){if(!this.areAllValuesSet()){return false}var color=tinycolor(this.getColorValue());this.swatchColor=color.toHslString();this.updateGridBackground(color);this.updateHueBackground(color);this.huePosUpdate();this.updateSaturationBackground(color);this.saturationPosUpdate();this.updateLightnessBackground(color);this.lightnessPosUpdate();this.updateOpacityBackground(color);this.opacityPosUpdate();var skipUpdate=this.options.preserveInputFormat&&tinycolor(this.internalNgModel).toHsvString()===color.toHsvString();if(this.updateModel&&!skipUpdate){var formats={rgb:"toRgbString",hex:"toHex",hex8:"toHex8",hexstring:"toHexString",hex8string:"toHex8String",hsv:"toHsvString",hsl:"toHslString",raw:"clone"};var value=color[formats[this.options.format.toLowerCase()]]();if(this.options.format.match(/hex/i)){value=this.options.case==="upper"?value.toUpperCase():value.toLowerCase()}this.setNgModel(value)}}},{key:"mouseEventToggle",value:function mouseEventToggle(type,up,event){this.stopEvent(event);this[type+"Mouse"]=!up;this.$scope.$apply()}},{key:"valueChange",value:function valueChange(type,event){this.stopEvent(event);if(type==="color"){return this.colorChange(event)}var el=this.find(".color-picker-"+type);var eventPos=this.getEventPos(event);var max=this.getMaxFromType(type);this[type]=this.calculateSliderPos(el,eventPos,max);if(this[type]>max){this[type]=max}else if(this[type]<0){this[type]=0}}},{key:"valueUpdate",value:function valueUpdate(type){if(this[type]!==undefined){if(type==="saturation"){this[type+"Pos"]=this[type]}else{var max=this.getMaxFromType(type);this[type+"Pos"]=(1-this[type]/max)*100}if(this[type+"Pos"]<0){this[type+"Pos"]=0}else if(this[type+"Pos"]>100){this[type+"Pos"]=100}if(this.options.round){this.getRoundPos();this.updateRoundPos()}this[type+"PosUpdate"]();this.update()}}},{key:"huePosUpdate",value:function huePosUpdate(){var el=angular.element(this.$element[0].querySelector(".color-picker-hue .color-picker-slider"));if(this.options.horizontal){el.css({left:this.sliderDimensions.width*this.huePos/100+"px",top:0})}else{el.css({left:0,top:this.sliderDimensions.height*this.huePos/100+"px"})}}},{key:"updateHueBackground",value:function updateHueBackground(color){var el=this.find(".color-picker-hue .color-picker-overlay");var direction=this.options.horizontal?"left":"top";var zero_sixths=this.getColorValue(this.options.dynamicHue);var one_sixths=this.getColorValue(this.options.dynamicHue);var two_sixths=this.getColorValue(this.options.dynamicHue);var three_sixths=this.getColorValue(this.options.dynamicHue);var four_sixths=this.getColorValue(this.options.dynamicHue);var five_sixths=this.getColorValue(this.options.dynamicHue);var six_sixths=this.getColorValue(this.options.dynamicHue);zero_sixths.h=0;one_sixths.h=60;two_sixths.h=120;three_sixths.h=180;four_sixths.h=240;five_sixths.h=300;six_sixths.h=359;el.css({background:"linear-gradient(to "+direction+", "+tinycolor(zero_sixths).toRgbString()+" 0%, "+tinycolor(one_sixths).toRgbString()+" 17%, "+tinycolor(two_sixths).toRgbString()+" 33%, "+tinycolor(three_sixths).toRgbString()+" 50%, "+tinycolor(four_sixths).toRgbString()+" 67%, "+tinycolor(five_sixths).toRgbString()+" 83%, "+tinycolor(six_sixths).toRgbString()+" 100%)"})}},{key:"saturationPosUpdate",value:function saturationPosUpdate(){var el;if(!this.options.round){el=angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker"));el.css({left:this.pickerDimensions.height*this.saturationPos/100+"px"})}el=angular.element(this.$element[0].querySelector(".color-picker-saturation .color-picker-slider"));if(this.options.horizontal){el.css({left:this.sliderDimensions.width*(100-this.saturationPos)/100+"px",top:0})}else{el.css({left:0,top:this.sliderDimensions.height*(100-this.saturationPos)/100+"px"})}}},{key:"updateSaturationBackground",value:function updateSaturationBackground(color){var el=this.find(".color-picker-saturation .color-picker-overlay");var direction=this.options.horizontal?"right":"bottom";var high=this.getColorValue(this.options.dynamicSaturation);var low=this.getColorValue(this.options.dynamicSaturation);high.s="100%";low.s="0%";el.css({background:"linear-gradient(to "+direction+", "+tinycolor(high).toRgbString()+" 0%, "+tinycolor(low).toRgbString()+" 100%)"})}},{key:"lightnessPosUpdate",value:function lightnessPosUpdate(){var el;if(!this.options.round){el=angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker"));el.css({top:this.pickerDimensions.width*this.lightnessPos/100+"px"})}el=angular.element(this.$element[0].querySelector(".color-picker-lightness .color-picker-slider"));if(this.options.horizontal){el.css({left:this.sliderDimensions.width*this.lightnessPos/100+"px",top:0})}else{el.css({left:0,top:this.sliderDimensions.height*this.lightnessPos/100+"px"})}}},{key:"updateLightnessBackground",value:function updateLightnessBackground(color){var el=this.find(".color-picker-lightness .color-picker-overlay");var direction=this.options.horizontal?"right":"bottom";var bright=this.getColorValue(this.options.dynamicLightness);var middle=this.getColorValue(this.options.dynamicLightness);var dark=this.getColorValue(this.options.dynamicLightness);if(this.options.round){bright.l=100;middle.l=50;dark.l=0}else{bright.v=100;middle.v=50;dark.v=0}el.css({background:"linear-gradient(to "+direction+", "+tinycolor(bright).toRgbString()+" 0%, "+tinycolor(middle).toRgbString()+" 50%, "+tinycolor(dark).toRgbString()+" 100%)"})}},{key:"opacityPosUpdate",value:function opacityPosUpdate(){var el=angular.element(this.$element[0].querySelector(".color-picker-opacity .color-picker-slider"));if(this.options.horizontal){el.css({left:this.sliderDimensions.width*this.opacityPos/100+"px",top:0})}else{el.css({left:0,top:this.sliderDimensions.height*this.opacityPos/100+"px"})}}},{key:"updateOpacityBackground",value:function updateOpacityBackground(color){var el=this.find(".color-picker-opacity .color-picker-overlay");var direction=this.options.horizontal?"right":"bottom";var opaque=this.getColorValue(this.options.dynamicAlpha);var transparent=this.getColorValue(this.options.dynamicAlpha);opaque.a=1;transparent.a=0;el.css({background:"linear-gradient(to "+direction+", "+tinycolor(opaque).toRgbString()+" 0%, "+tinycolor(transparent).toRgbString()+" 100%)"})}},{key:"colorChange",value:function colorChange(event){this.stopEvent(event);var el=this.find(".color-picker-grid-inner");var eventPos=this.getEventPos(event);var offset=this.offset(el);if(this.options.round){this.colorChangeRound(el,offset,eventPos)}else{this.colorChangeSquare(el,offset,eventPos)}}},{key:"colorChangeRound",value:function colorChangeRound(el,offset,eventPos){var dx=(eventPos.pageX-offset.left)*2/el.prop("offsetWidth")-1;var dy=-((eventPos.pageY-offset.top)*2/el.prop("offsetHeight"))+1;var tmpHue=Math.atan2(dy,dx);var degHue=Math.round(tmpHue*57.29577951308233);if(degHue<0){degHue+=360}this.hue=degHue;var tmpSaturation=Math.sqrt(dx*dx+dy*dy);if(tmpSaturation>1){tmpSaturation=1}else if(tmpSaturation<0){tmpSaturation=0}this.saturation=tmpSaturation*100;if(this.lightness===undefined){this.lightness=50}}},{key:"colorChangeSquare",value:function colorChangeSquare(el,offset,eventPos){this.saturation=(eventPos.pageX-offset.left)/el.prop("offsetWidth")*100;this.lightness=(1-(eventPos.pageY-offset.top)/el.prop("offsetHeight"))*100;if(this.saturation>100){this.saturation=100}else if(this.saturation<0){this.saturation=0}if(this.lightness>100){this.lightness=100}else if(this.lightness<0){this.lightness=0}}},{key:"updateGridBackground",value:function updateGridBackground(color){var el=this.find(".color-picker-grid .color-picker-overlay");var background=this.getColorValue();if(this.options.round){background.s="0%"}else{background.s="100%";background.v="100%";background.a=1}el.css({"background-color":tinycolor(background).toRgbString(),opacity:color.getAlpha()});this.find(".color-picker-grid .color-picker-grid-inner").css({opacity:color.getAlpha()})}},{key:"updateSwatchBackground",value:function updateSwatchBackground(){var el=angular.element(this.$element[0].querySelector(".color-picker-swatch"));el.css({"background-color":this.swatchColor})}},{key:"isColorValid",value:function isColorValid(color){var isValid=color.isValid();if(isValid&&this.options.restrictToFormat){isValid=color.getFormat()===this.getTinyColorFormat()}if(!isValid&&this.options.allowEmpty){var input=color.getOriginalInput();if(input===undefined||input===null||input===""){isValid=true}}return isValid}},{key:"getTinyColorFormat",value:function getTinyColorFormat(){if(this.options.format==="hexString"){return"hex"}else if(this.options.format==="hex8String"){return"hex8"}return this.options.format}},{key:"areAllValuesSet",value:function areAllValuesSet(){if(this.hue===undefined||this.saturation===undefined||this.lightness===undefined){return false}return true}},{key:"getColorValue",value:function getColorValue(){var dynamicValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var includeOpacity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var value={h:this.hue,s:dynamicValues?this.saturation+"%":"100%",v:dynamicValues?this.lightness+"%":"100%"};if(this.options.round){value={h:this.hue,s:dynamicValues?this.saturation+"%":"100%",l:dynamicValues?this.lightness+"%":"50%"}}if(includeOpacity){value.a=dynamicValues?this.opacity/100:1}return value}},{key:"setColorValue",value:function setColorValue(color){var noMouseEvents=!this.anyMouseEvents();var hsl=this.options.round?color.toHsl():color.toHsv();if(noMouseEvents||this.hueMouse){this.hue=hsl.h}if(noMouseEvents||this.saturationMouse){this.saturation=hsl.s*100}if(noMouseEvents||this.lightnessMouse){this.lightness=(this.options.round?hsl.l:hsl.v)*100}if(this.options.alpha&&(noMouseEvents||this.opacityMouse)){this.opacity=hsl.a*100}}},{key:"checkDirty",value:function checkDirty(color){if(this.hasOwnProperty("initialNgModel")){if(color===this.initialNgModel){if(typeof this.$scope.control[0].$setPristine==="function"){this.$scope.control[0].$setPristine()}}else{if(typeof this.$scope.control[0].$setDirty==="function"){this.$scope.control[0].$setDirty()}}}}},{key:"stopEvent",value:function stopEvent(event){event.stopPropagation();event.preventDefault()}},{key:"getRoundPos",value:function getRoundPos(){var angle=this.hue*.01745329251994;var px=Math.cos(angle)*this.saturation;var py=-Math.sin(angle)*this.saturation;this.xPos=(px+100)*.5;this.yPos=(py+100)*.5;var center=50;var distance=Math.pow(center-this.xPos,2)+Math.pow(center-this.yPos,2);var radius=Math.pow(center,2);if(distance>radius){var rads=Math.atan2(this.yPos-center,this.xPos-center);this.xPos=Math.cos(rads)*center+center;this.yPos=Math.sin(rads)*center+center}}},{key:"updateRoundPos",value:function updateRoundPos(){var el=angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker"));el.css({left:this.pickerDimensions.width*this.xPos/100+"px",top:this.pickerDimensions.height*this.yPos/100+"px"})}},{key:"getEventPos",value:function getEventPos(event){if(event.type.search("touch")===0){if(event.originalEvent&&event.originalEvent.changedTouches){return event.originalEvent.changedTouches[0]}else if(event.changedTouches){return event.changedTouches[0]}}return event}},{key:"calculateSliderPos",value:function calculateSliderPos(el,eventPos,multiplier){if(this.options.horizontal){return Math.round((1-(eventPos.pageX-this.offset(el).left)/el.prop("offsetWidth"))*multiplier)}return Math.round((1-(eventPos.pageY-this.offset(el).top)/el.prop("offsetHeight"))*multiplier)}},{key:"eventApiDispatch",value:function eventApiDispatch(name,args){if(this.eventApi&&typeof this.eventApi[name]==="function"){if(!args){args=[]}args.unshift(this.internalNgModel);args.unshift(this.api);this.eventApi[name].apply(this,args)}}},{key:"find",value:function find(selector){var context=this.wrapper?this.wrapper[0]:this.$element[0],results=[],nodeType;if(!selector){return results}if(typeof selector==="string"){if((nodeType=context.nodeType)!==1&&nodeType!==9){return[]}results=context.querySelectorAll(selector)}else{if(context.contains(selector)){results.push(selector)}}return angular.element(results)}},{key:"offset",value:function offset(el){var docElem,win,rect,doc,elem=el[0];if(!elem){return}if(!elem.getClientRects().length){return{top:0,left:0}}rect=elem.getBoundingClientRect();if(rect.width||rect.height){doc=elem.ownerDocument;win=this.getWindowElements(doc);docElem=doc.documentElement;if(this.chrome&&this.android_version<6&&screen.width<=768){return{top:rect.top-docElem.clientTop,left:rect.left-docElem.clientLeft}}return{top:rect.top+win.pageYOffset-docElem.clientTop,left:rect.left+win.pageXOffset-docElem.clientLeft}}return rect}},{key:"getWindowElements",value:function getWindowElements(doc){return doc!==null&&doc===doc.window?doc:doc.nodeType===9&&doc.defaultView}},{key:"anyMouseEvents",value:function anyMouseEvents(){return this.colorMouse||this.hueMouse||this.saturationMouse||this.lightnessMouse||this.opacityMouse}},{key:"getMaxFromType",value:function getMaxFromType(type){return type==="hue"?360:100}}]);return AngularColorPickerController}();AngularColorPickerController.$inject=["$scope","$element","$document","$timeout","ColorPickerOptions"];function colorPickerDirective(){return{restrict:"E",require:["^ngModel"],scope:{ngModel:"=",options:"=?",api:"=?",eventApi:"=?"},bindToController:true,templateUrl:"template/color-picker/directive.html",controller:AngularColorPickerController,controllerAs:"AngularColorPickerController",link:function link($scope,element,attrs,control){$scope.control=control;$scope.init()}}}function template($templateCache){$templateCache.put("template/color-picker/directive.html",'<div class="color-picker-wrapper" ng-class="{'+"'color-picker-disabled': AngularColorPickerController.options.disabled,"+"'color-picker-swatch-only': AngularColorPickerController.options.swatchOnly,"+"'color-picker-open': AngularColorPickerController.is_open,"+"'color-picker-closed': !AngularColorPickerController.is_open,"+"'color-picker-horizontal': AngularColorPickerController.options.horizontal,"+'}">'+'<div class="color-picker-input-wrapper" ng-class="{\'input-group\': AngularColorPickerController.options.swatchBootstrap && AngularColorPickerController.options.swatch}">'+"<span ng-if=\"AngularColorPickerController.options.swatchPos === 'left'\" class=\"color-picker-swatch\" ng-click=\"AngularColorPickerController.onSwatchClick($event)\" ng-show=\"AngularColorPickerController.options.swatch\" ng-class=\"{'color-picker-swatch-left': AngularColorPickerController.options.swatchPos !== 'right', 'color-picker-swatch-right': AngularColorPickerController.options.swatchPos === 'right', 'input-group-addon': AngularColorPickerController.options.swatchBootstrap}\"></span>"+'<input ng-attr-id="{{AngularColorPickerController.options.id}}" ng-attr-name="{{AngularColorPickerController.options.name}}" class="color-picker-input {{AngularColorPickerController.options.inputClass}}" type="text" ng-model="AngularColorPickerController.internalNgModel" ng-model-options="AngularColorPickerController.ngModelOptions" ng-readonly="AngularColorPickerController.options.swatchOnly" ng-disabled="AngularColorPickerController.options.disabled" ng-change="AngularColorPickerController.onChange($event)" size="7" ng-class="{\'color-picker-input-swatch\': AngularColorPickerController.options.swatch && !AngularColorPickerController.options.swatchOnly && AngularColorPickerController.options.swatchPos === \'left\'}" placeholder="{{AngularColorPickerController.options.placeholder}}" ng-required="AngularColorPickerController.options.required">'+"<span ng-if=\"AngularColorPickerController.options.swatchPos === 'right'\" class=\"color-picker-swatch\" ng-click=\"AngularColorPickerController.onSwatchClick($event)\" ng-show=\"AngularColorPickerController.options.swatch\" ng-class=\"{'color-picker-swatch-left': AngularColorPickerController.options.swatchPos !== 'right', 'color-picker-swatch-right': AngularColorPickerController.options.swatchPos === 'right', 'input-group-addon': AngularColorPickerController.options.swatchBootstrap}\"></span>"+"</div>"+'<div class="color-picker-panel" ng-class="{'+"'color-picker-panel-top color-picker-panel-right': AngularColorPickerController.options.pos === 'top right',"+"'color-picker-panel-top color-picker-panel-left': AngularColorPickerController.options.pos === 'top left',"+"'color-picker-panel-bottom color-picker-panel-right': AngularColorPickerController.options.pos === 'bottom right',"+"'color-picker-panel-bottom color-picker-panel-left': AngularColorPickerController.options.pos === 'bottom left',"+"'color-picker-panel-round': AngularColorPickerController.options.round,"+"'color-picker-show-hue': AngularColorPickerController.options.hue,"+"'color-picker-show-saturation': AngularColorPickerController.options.saturation,"+"'color-picker-show-lightness': AngularColorPickerController.options.lightness,"+"'color-picker-show-alpha': AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== 'hex',"+"'color-picker-show-inline': AngularColorPickerController.options.inline,"+'}">'+'<div class="color-picker-grid-wrapper">'+'<div class="color-picker-row">'+'<div class="color-picker-grid">'+'<div class="color-picker-overlay"></div>'+'<div class="color-picker-grid-inner"></div>'+'<div class="color-picker-picker">'+"<div></div>"+"</div>"+"</div>"+'<div class="color-picker-hue" ng-show="AngularColorPickerController.options.hue">'+'<div class="color-picker-overlay"></div>'+'<div class="color-picker-slider"></div>'+"</div>"+'<div class="color-picker-saturation" ng-show="AngularColorPickerController.options.saturation">'+'<div class="color-picker-overlay"></div>'+'<div class="color-picker-slider"></div>'+"</div>"+'<div class="color-picker-lightness" ng-show="AngularColorPickerController.options.lightness">'+'<div class="color-picker-overlay"></div>'+'<div class="color-picker-slider"></div>'+"</div>"+'<div class="color-picker-opacity" ng-show="AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== \'hex\'">'+'<div class="color-picker-overlay"></div>'+'<div class="color-picker-slider"></div>'+"</div>"+"</div>"+"</div>"+'<div class="color-picker-actions">'+"<button "+'type="button"'+'class="color-picker-action color-picker-action-clear"'+'tabindex="-1"'+'ng-class="AngularColorPickerController.options.clear.class"'+'ng-show="AngularColorPickerController.options.clear.show"'+'ng-click="AngularColorPickerController.api.clear($event)"'+">"+"{{AngularColorPickerController.options.clear.label}}"+"</button>"+"<button "+'type="button"'+'class="color-picker-action color-picker-action-reset"'+'tabindex="-1"'+'ng-class="AngularColorPickerController.options.reset.class"'+'ng-show="AngularColorPickerController.options.reset.show"'+'ng-click="AngularColorPickerController.api.reset($event)"'+">"+"{{AngularColorPickerController.options.reset.label}}"+"</button>"+"<button "+'type="button"'+'class="color-picker-action color-picker-action-close"'+'tabindex="-1"'+'ng-class="AngularColorPickerController.options.close.class"'+'ng-show="AngularColorPickerController.options.close.show"'+'ng-click="AngularColorPickerController.api.close($event)"'+">"+"{{AngularColorPickerController.options.close.label}}"+"</button>"+"</div>"+"</div>"+"</div>")}template.$inject=["$templateCache"];var AngularColorPickerOptions=function AngularColorPickerOptions(){classCallCheck(this,AngularColorPickerOptions);return{id:undefined,name:undefined,required:false,disabled:false,placeholder:"",inputClass:"",restrictToFormat:false,preserveInputFormat:false,allowEmpty:false,format:"hsl",case:"upper",hue:true,saturation:false,lightness:false,alpha:true,dynamicHue:true,dynamicSaturation:true,dynamicLightness:true,dynamicAlpha:true,round:false,pos:"bottom left",inline:false,horizontal:false,swatch:true,swatchOnly:false,swatchPos:"left",swatchBootstrap:true,show:{swatch:true,focus:true},hide:{blur:true,escape:true,click:true},close:{show:false,label:"Close",class:""},clear:{show:false,label:"Clear",class:""},reset:{show:false,label:"Reset",class:""}}};var colorPicker=angular.module("color.picker",[]).service("ColorPickerOptions",AngularColorPickerOptions).directive("colorPicker",colorPickerDirective).run(template);return colorPicker})},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=Emitter}function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports,__webpack_require__){"use strict";function Agent(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(fn){Agent.prototype[fn]=function(){this._defaults.push({fn:fn,arguments:arguments});return this}});Agent.prototype._setDefaults=function(req){this._defaults.forEach(function(def){req[def.fn].apply(req,def.arguments)})};module.exports=Agent},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var isObject=__webpack_require__(133);module.exports=RequestBase;function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype){obj[key]=RequestBase.prototype[key]}return obj}RequestBase.prototype.clearTimeout=function _clearTimeout(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this};RequestBase.prototype.parse=function parse(fn){this._parser=fn;return this};RequestBase.prototype.responseType=function(val){this._responseType=val;return this};RequestBase.prototype.serialize=function serialize(fn){this._serializer=fn;return this};RequestBase.prototype.timeout=function timeout(options){if(!options||"object"!==(typeof options==="undefined"?"undefined":_typeof(options))){this._timeout=options;this._responseTimeout=0;return this}for(var option in options){switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response;break;default:console.warn("Unknown timeout option",option)}}return this};RequestBase.prototype.retry=function retry(count,fn){if(arguments.length===0||count===true)count=1;if(count<=0)count=0;this._maxRetries=count;this._retries=0;this._retryCallback=fn;return this};var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(err,res){if(!this._maxRetries||this._retries++>=this._maxRetries){return false}if(this._retryCallback){try{var override=this._retryCallback(err,res);if(override===true)return true;if(override===false)return false}catch(e){console.error(e)}}if(res&&res.status&&res.status>=500&&res.status!=501)return true;if(err){if(err.code&&~ERROR_CODES.indexOf(err.code))return true;if(err.timeout&&err.code=="ECONNABORTED")return true;if(err.crossDomain)return true}return false};RequestBase.prototype._retry=function(){this.clearTimeout();if(this.req){this.req=null;this.req=this.request()}this._aborted=false;this.timedout=false;return this._end()};RequestBase.prototype.then=function then(resolve,reject){if(!this._fullfilledPromise){var self=this;if(this._endCalled){console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises")}this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){if(err)innerReject(err);else innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)};RequestBase.prototype.catch=function(cb){return this.then(undefined,cb)};RequestBase.prototype.use=function use(fn){fn(this);return this};RequestBase.prototype.ok=function(cb){if("function"!==typeof cb)throw Error("Callback required");this._okCallback=cb;return this};RequestBase.prototype._isResponseOK=function(res){if(!res){return false}if(this._okCallback){return this._okCallback(res)}return res.status>=200&&res.status<300};RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]};RequestBase.prototype.getHeader=RequestBase.prototype.get;RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};RequestBase.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};RequestBase.prototype.field=function(name,val){if(null===name||undefined===name){throw new Error(".field(name, val) name can not be empty")}if(this._data){console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()")}if(isObject(name)){for(var key in name){this.field(key,name[key])}return this}if(Array.isArray(val)){for(var i in val){this.field(name,val[i])}return this}if(null===val||undefined===val){throw new Error(".field(name, val) val can not be empty")}if("boolean"===typeof val){val=""+val}this._getFormData().append(name,val);return this};RequestBase.prototype.abort=function(){if(this._aborted){return this}this._aborted=true;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit("abort");return this};RequestBase.prototype._auth=function(user,pass,options,base64Encoder){switch(options.type){case"basic":this.set("Authorization","Basic "+base64Encoder(user+":"+pass));break;case"auto":this.username=user;this.password=pass;break;case"bearer":this.set("Authorization","Bearer "+user);break}return this};RequestBase.prototype.withCredentials=function(on){if(on==undefined)on=true;this._withCredentials=on;return this};RequestBase.prototype.redirects=function(n){this._maxRedirects=n;return this};RequestBase.prototype.maxResponseSize=function(n){if("number"!==typeof n){throw TypeError("Invalid argument")}this._maxResponseSize=n;return this};RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};RequestBase.prototype.send=function(data){var isObj=isObject(data);var type=this._header["content-type"];if(this._formData){console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()")}if(isObj&&!this._data){if(Array.isArray(data)){this._data=[]}else if(!this._isHost(data)){this._data={}}}else if(data&&this._data&&this._isHost(this._data)){throw Error("Can't merge these send calls")}if(isObj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this._header["content-type"];if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!isObj||this._isHost(data)){return this}if(!type)this.type("json");return this};RequestBase.prototype.sortQuery=function(sort){this._sort=typeof sort==="undefined"?true:sort;return this};RequestBase.prototype._finalizeQueryString=function(){var query=this._query.join("&");if(query){this.url+=(this.url.indexOf("?")>=0?"&":"?")+query}this._query.length=0;if(this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArr=this.url.substring(index+1).split("&");if("function"===typeof this._sort){queryArr.sort(this._sort)}else{queryArr.sort()}this.url=this.url.substring(0,index)+"?"+queryArr.join("&")}}};RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")};RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(this._aborted){return}var err=new Error(reason+timeout+"ms exceeded");err.timeout=timeout;err.code="ECONNABORTED";err.errno=errno;this.timedout=true;this.abort();this.callback(err)};RequestBase.prototype._setTimeouts=function(){var self=this;if(this._timeout&&!this._timer){this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)}if(this._responseTimeout&&!this._responseTimeoutTimer){this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout)}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(243);module.exports=ResponseBase;function ResponseBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in ResponseBase.prototype){obj[key]=ResponseBase.prototype[key]}return obj}ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]};ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var params=utils.params(ct);for(var key in params){this[key]=params[key]}this.links={};try{if(header.link){this.links=utils.parseLinks(header.link)}}catch(err){}};ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.redirect=3==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.forbidden=403==status;this.notFound=404==status}},function(module,exports,__webpack_require__){"use strict";exports.type=function(str){return str.split(/ *; */).shift()};exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */);var key=parts.shift();var val=parts.shift();if(key&&val)obj[key]=val;return obj},{})};exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */);var url=parts[0].slice(1,-1);var rel=parts[1].split(/ *= */)[1].slice(1,-1);obj[rel]=url;return obj},{})};exports.cleanHeader=function(header,changesOrigin){delete header["content-type"];delete header["content-length"];delete header["transfer-encoding"];delete header["host"];if(changesOrigin){delete header["authorization"];delete header["cookie"]}return header}},function(module,exports,__webpack_require__){"use strict";var request=__webpack_require__(65);var Promise=__webpack_require__(64).Promise;var getBaseURL=__webpack_require__(66);var httpHeaderSafeJson=__webpack_require__(134);var buildCustomError;var downloadRequest;var nodeBinaryParser;request.parse["application/octect-stream"]=function(obj){return obj};buildCustomError=function buildCustomError(error,response){return{status:error.status,error:(response?response.text:null)||error.toString(),response:response}};nodeBinaryParser=function nodeBinaryParser(res,done){res.text="";res.setEncoding("binary");res.on("data",function(chunk){res.text+=chunk});res.on("end",function(){done()})};downloadRequest=function downloadRequest(path,args,auth,host,accessToken,selectUser){if(auth!=="user"){throw new Error("Unexpected auth type: "+auth)}var promiseFunction=function promiseFunction(resolve,reject){var apiRequest;function success(data){if(resolve){resolve(data)}}function failure(error){if(reject){reject(error)}}function responseHandler(error,response){var data;if(error){failure(buildCustomError(error,response))}else{data=JSON.parse(response.headers["dropbox-api-result"]);if(response.xhr){data.fileBlob=response.xhr.response}else{data.fileBinary=response.res.text}success(data)}}apiRequest=request.post(getBaseURL(host)+path).set("Authorization","Bearer "+accessToken).set("Dropbox-API-Arg",httpHeaderSafeJson(args)).on("request",function(){if(this.xhr){this.xhr.responseType="blob"}});if(selectUser){apiRequest=apiRequest.set("Dropbox-API-Select-User",selectUser)}if(typeof window==="undefined"){apiRequest.buffer(true).parse(nodeBinaryParser).end(responseHandler)}else{apiRequest.end(responseHandler)}};return new Promise(promiseFunction)};module.exports=downloadRequest},function(module,exports,__webpack_require__){"use strict";var REQUEST_CONSTANTS=__webpack_require__(249);var DropboxBase;__webpack_require__(248);DropboxBase=function DropboxBase(options){options=options||{};this.accessToken=options.accessToken;this.clientId=options.clientId;this.selectUser=options.selectUser};DropboxBase.prototype.setAccessToken=function(accessToken){this.accessToken=accessToken};DropboxBase.prototype.getAccessToken=function(){return this.accessToken};DropboxBase.prototype.setClientId=function(clientId){this.clientId=clientId};DropboxBase.prototype.getClientId=function(){return this.clientId};DropboxBase.prototype.getAuthenticationUrl=function(redirectUri,state){var AUTH_BASE_URL="https://www.dropbox.com/oauth2/authorize";var clientId=this.getClientId();var authUrl;if(!clientId){throw new Error("A client id is required. You can set the client id using .setClientId().")}if(!redirectUri){throw new Error("A redirect uri is required.")}authUrl=AUTH_BASE_URL+"?response_type=token&client_id="+clientId;if(redirectUri){authUrl=authUrl+"&redirect_uri="+redirectUri}if(state){authUrl=authUrl+"&state="+state}return authUrl};DropboxBase.prototype.authenticateWithCordova=function(successCallback,errorCallback){var redirect_url="https://www.dropbox.com/1/oauth2/redirect_receiver";var url=this.getAuthenticationUrl(redirect_url);var browser=window.open(url,"_blank");var removed=false;var onLoadError=function onLoadError(event){window.setTimeout(function(){browser.close()},10);errorCallback()};var onLoadStop=function onLoadStop(event){var error_label="&error=";var error_index=event.url.indexOf(error_label);if(error_index>-1){window.setTimeout(function(){browser.close()},10);errorCallback()}else{var access_token_label="#access_token=";var access_token_index=event.url.indexOf(access_token_label);var token_type_index=event.url.indexOf("&token_type=");if(access_token_index>-1){access_token_index+=access_token_label.length;window.setTimeout(function(){browser.close()},10);var access_token=event.url.substring(access_token_index,token_type_index);successCallback(access_token)}}};var onExit=function onExit(event){if(removed){return}browser.removeEventListener("loaderror",onLoadError);browser.removeEventListener("loadstop",onLoadStop);browser.removeEventListener("exit",onExit);removed=true};browser.addEventListener("loaderror",onLoadError);browser.addEventListener("loadstop",onLoadStop);browser.addEventListener("exit",onExit)};DropboxBase.prototype.request=function(path,args,auth,host,style){var request=null;switch(style){case REQUEST_CONSTANTS.RPC:request=this.getRpcRequest();break;case REQUEST_CONSTANTS.DOWNLOAD:request=this.getDownloadRequest();break;case REQUEST_CONSTANTS.UPLOAD:request=this.getUploadRequest();break;default:throw new Error("Invalid request style: "+style)}return request(path,args,auth,host,this.getAccessToken(),this.selectUser)};DropboxBase.prototype.setRpcRequest=function(newRpcRequest){DropboxBase.prototype.rpcRequest=newRpcRequest};DropboxBase.prototype.getRpcRequest=function(){if(DropboxBase.prototype.rpcRequest===undefined){DropboxBase.prototype.rpcRequest=__webpack_require__(251)}return DropboxBase.prototype.rpcRequest};DropboxBase.prototype.setDownloadRequest=function(newDownloadRequest){DropboxBase.prototype.downloadRequest=newDownloadRequest};DropboxBase.prototype.getDownloadRequest=function(){if(DropboxBase.prototype.downloadRequest===undefined){DropboxBase.prototype.downloadRequest=__webpack_require__(244)}return DropboxBase.prototype.downloadRequest};DropboxBase.prototype.setUploadRequest=function(newUploadRequest){DropboxBase.prototype.uploadRequest=newUploadRequest};DropboxBase.prototype.getUploadRequest=function(){if(DropboxBase.prototype.uploadRequest===undefined){DropboxBase.prototype.uploadRequest=__webpack_require__(252)}return DropboxBase.prototype.uploadRequest};module.exports=DropboxBase},function(module,exports,__webpack_require__){"use strict";var DropboxBase=__webpack_require__(245);var routes=__webpack_require__(250);var Dropbox;Dropbox=function Dropbox(options){DropboxBase.call(this,options)};Dropbox.prototype=Object.create(DropboxBase.prototype);Dropbox.prototype.constructor=Dropbox;Dropbox.prototype=Object.assign(Dropbox.prototype,routes);Dropbox.prototype.filesGetSharedLinkFile=function(arg){return this.request("sharing/get_shared_link_file",arg,"api","download")};module.exports=Dropbox},function(module,exports,__webpack_require__){"use strict";var Dropbox=__webpack_require__(246);module.exports=Dropbox},function(module,exports,__webpack_require__){"use strict";if(typeof Object.assign!=="function"){(function(){Object.assign=function(target){"use strict";var output;var index;var source;var nextKey;if(target===undefined||target===null){throw new TypeError("Cannot convert undefined or null to object")}output=Object(target);for(index=1;index<arguments.length;index++){source=arguments[index];if(source!==undefined&&source!==null){for(nextKey in source){if(source.hasOwnProperty(nextKey)){output[nextKey]=source[nextKey]}}}}return output}})()}},function(module,exports,__webpack_require__){"use strict";var REQUEST_CONSTANTS={RPC:"rpc",DOWNLOAD:"download",UPLOAD:"upload"};module.exports=REQUEST_CONSTANTS},function(module,exports,__webpack_require__){"use strict";var routes={};routes.authTokenFromOauth1=function(arg){return this.request("auth/token/from_oauth1",arg,"app","api","rpc")};routes.authTokenRevoke=function(arg){return this.request("auth/token/revoke",arg,"user","api","rpc")};routes.filePropertiesPropertiesAdd=function(arg){return this.request("file_properties/properties/add",arg,"user","api","rpc")};routes.filePropertiesPropertiesOverwrite=function(arg){return this.request("file_properties/properties/overwrite",arg,"user","api","rpc")};routes.filePropertiesPropertiesRemove=function(arg){return this.request("file_properties/properties/remove",arg,"user","api","rpc")};routes.filePropertiesPropertiesSearch=function(arg){return this.request("file_properties/properties/search",arg,"user","api","rpc")};routes.filePropertiesPropertiesSearchContinue=function(arg){return this.request("file_properties/properties/search/continue",arg,"user","api","rpc")};routes.filePropertiesPropertiesUpdate=function(arg){return this.request("file_properties/properties/update",arg,"user","api","rpc")};routes.filePropertiesTemplatesAddForTeam=function(arg){return this.request("file_properties/templates/add_for_team",arg,"team","api","rpc")};routes.filePropertiesTemplatesAddForUser=function(arg){return this.request("file_properties/templates/add_for_user",arg,"user","api","rpc")};routes.filePropertiesTemplatesGetForTeam=function(arg){return this.request("file_properties/templates/get_for_team",arg,"team","api","rpc")};routes.filePropertiesTemplatesGetForUser=function(arg){return this.request("file_properties/templates/get_for_user",arg,"user","api","rpc")};routes.filePropertiesTemplatesListForTeam=function(arg){return this.request("file_properties/templates/list_for_team",arg,"team","api","rpc")};routes.filePropertiesTemplatesListForUser=function(arg){return this.request("file_properties/templates/list_for_user",arg,"user","api","rpc")};routes.filePropertiesTemplatesRemoveForTeam=function(arg){return this.request("file_properties/templates/remove_for_team",arg,"team","api","rpc")};routes.filePropertiesTemplatesRemoveForUser=function(arg){return this.request("file_properties/templates/remove_for_user",arg,"user","api","rpc")};routes.filePropertiesTemplatesUpdateForTeam=function(arg){return this.request("file_properties/templates/update_for_team",arg,"team","api","rpc")};routes.filePropertiesTemplatesUpdateForUser=function(arg){return this.request("file_properties/templates/update_for_user",arg,"user","api","rpc")};routes.fileRequestsCreate=function(arg){return this.request("file_requests/create",arg,"user","api","rpc")};routes.fileRequestsGet=function(arg){return this.request("file_requests/get",arg,"user","api","rpc")};routes.fileRequestsList=function(arg){return this.request("file_requests/list",arg,"user","api","rpc")};routes.fileRequestsUpdate=function(arg){return this.request("file_requests/update",arg,"user","api","rpc")};routes.filesAlphaGetMetadata=function(arg){return this.request("files/alpha/get_metadata",arg,"user","api","rpc")};routes.filesAlphaUpload=function(arg){return this.request("files/alpha/upload",arg,"user","content","upload")};routes.filesCopy=function(arg){return this.request("files/copy",arg,"user","api","rpc")};routes.filesCopyBatch=function(arg){return this.request("files/copy_batch",arg,"user","api","rpc")};routes.filesCopyBatchCheck=function(arg){return this.request("files/copy_batch/check",arg,"user","api","rpc")};routes.filesCopyReferenceGet=function(arg){return this.request("files/copy_reference/get",arg,"user","api","rpc")};routes.filesCopyReferenceSave=function(arg){return this.request("files/copy_reference/save",arg,"user","api","rpc")};routes.filesCopyV2=function(arg){return this.request("files/copy_v2",arg,"user","api","rpc")};routes.filesCreateFolder=function(arg){return this.request("files/create_folder",arg,"user","api","rpc")};routes.filesCreateFolderV2=function(arg){return this.request("files/create_folder_v2",arg,"user","api","rpc")};routes.filesDelete=function(arg){return this.request("files/delete",arg,"user","api","rpc")};routes.filesDeleteBatch=function(arg){return this.request("files/delete_batch",arg,"user","api","rpc")};routes.filesDeleteBatchCheck=function(arg){return this.request("files/delete_batch/check",arg,"user","api","rpc")};routes.filesDeleteV2=function(arg){return this.request("files/delete_v2",arg,"user","api","rpc")};routes.filesDownload=function(arg){return this.request("files/download",arg,"user","content","download")};routes.filesDownloadZip=function(arg){return this.request("files/download_zip",arg,"user","content","download")};routes.filesGetMetadata=function(arg){return this.request("files/get_metadata",arg,"user","api","rpc")};routes.filesGetPreview=function(arg){return this.request("files/get_preview",arg,"user","content","download")};routes.filesGetTemporaryLink=function(arg){return this.request("files/get_temporary_link",arg,"user","api","rpc")};routes.filesGetThumbnail=function(arg){return this.request("files/get_thumbnail",arg,"user","content","download")};routes.filesGetThumbnailBatch=function(arg){return this.request("files/get_thumbnail_batch",arg,"user","content","rpc")};routes.filesListFolder=function(arg){return this.request("files/list_folder",arg,"user","api","rpc")};routes.filesListFolderContinue=function(arg){return this.request("files/list_folder/continue",arg,"user","api","rpc")};routes.filesListFolderGetLatestCursor=function(arg){return this.request("files/list_folder/get_latest_cursor",arg,"user","api","rpc")};routes.filesListFolderLongpoll=function(arg){return this.request("files/list_folder/longpoll",arg,"noauth","notify","rpc")};routes.filesListRevisions=function(arg){return this.request("files/list_revisions",arg,"user","api","rpc")};routes.filesMove=function(arg){return this.request("files/move",arg,"user","api","rpc")};routes.filesMoveBatch=function(arg){return this.request("files/move_batch",arg,"user","api","rpc")};routes.filesMoveBatchCheck=function(arg){return this.request("files/move_batch/check",arg,"user","api","rpc")};routes.filesMoveV2=function(arg){return this.request("files/move_v2",arg,"user","api","rpc")};routes.filesPermanentlyDelete=function(arg){return this.request("files/permanently_delete",arg,"user","api","rpc")};routes.filesPropertiesAdd=function(arg){return this.request("files/properties/add",arg,"user","api","rpc")};routes.filesPropertiesOverwrite=function(arg){return this.request("files/properties/overwrite",arg,"user","api","rpc")};routes.filesPropertiesRemove=function(arg){return this.request("files/properties/remove",arg,"user","api","rpc")};routes.filesPropertiesTemplateGet=function(arg){return this.request("files/properties/template/get",arg,"user","api","rpc")};routes.filesPropertiesTemplateList=function(arg){return this.request("files/properties/template/list",arg,"user","api","rpc")};routes.filesPropertiesUpdate=function(arg){return this.request("files/properties/update",arg,"user","api","rpc")};routes.filesRestore=function(arg){return this.request("files/restore",arg,"user","api","rpc")};routes.filesSaveUrl=function(arg){return this.request("files/save_url",arg,"user","api","rpc")};routes.filesSaveUrlCheckJobStatus=function(arg){return this.request("files/save_url/check_job_status",arg,"user","api","rpc")};routes.filesSearch=function(arg){return this.request("files/search",arg,"user","api","rpc")};routes.filesUpload=function(arg){return this.request("files/upload",arg,"user","content","upload")};routes.filesUploadSessionAppend=function(arg){return this.request("files/upload_session/append",arg,"user","content","upload")};routes.filesUploadSessionAppendV2=function(arg){return this.request("files/upload_session/append_v2",arg,"user","content","upload")};routes.filesUploadSessionFinish=function(arg){return this.request("files/upload_session/finish",arg,"user","content","upload")};routes.filesUploadSessionFinishBatch=function(arg){return this.request("files/upload_session/finish_batch",arg,"user","api","rpc")};routes.filesUploadSessionFinishBatchCheck=function(arg){return this.request("files/upload_session/finish_batch/check",arg,"user","api","rpc")};routes.filesUploadSessionStart=function(arg){return this.request("files/upload_session/start",arg,"user","content","upload")};routes.paperDocsArchive=function(arg){return this.request("paper/docs/archive",arg,"user","api","rpc")};routes.paperDocsCreate=function(arg){return this.request("paper/docs/create",arg,"user","api","upload")};routes.paperDocsDownload=function(arg){return this.request("paper/docs/download",arg,"user","api","download")};routes.paperDocsFolderUsersList=function(arg){return this.request("paper/docs/folder_users/list",arg,"user","api","rpc")};routes.paperDocsFolderUsersListContinue=function(arg){return this.request("paper/docs/folder_users/list/continue",arg,"user","api","rpc")};routes.paperDocsGetFolderInfo=function(arg){return this.request("paper/docs/get_folder_info",arg,"user","api","rpc")};routes.paperDocsList=function(arg){return this.request("paper/docs/list",arg,"user","api","rpc")};routes.paperDocsListContinue=function(arg){return this.request("paper/docs/list/continue",arg,"user","api","rpc")};routes.paperDocsPermanentlyDelete=function(arg){return this.request("paper/docs/permanently_delete",arg,"user","api","rpc")};routes.paperDocsSharingPolicyGet=function(arg){return this.request("paper/docs/sharing_policy/get",arg,"user","api","rpc")};routes.paperDocsSharingPolicySet=function(arg){return this.request("paper/docs/sharing_policy/set",arg,"user","api","rpc")};routes.paperDocsUpdate=function(arg){return this.request("paper/docs/update",arg,"user","api","upload")};routes.paperDocsUsersAdd=function(arg){return this.request("paper/docs/users/add",arg,"user","api","rpc")};routes.paperDocsUsersList=function(arg){return this.request("paper/docs/users/list",arg,"user","api","rpc")};routes.paperDocsUsersListContinue=function(arg){return this.request("paper/docs/users/list/continue",arg,"user","api","rpc")};routes.paperDocsUsersRemove=function(arg){return this.request("paper/docs/users/remove",arg,"user","api","rpc")};routes.sharingAddFileMember=function(arg){return this.request("sharing/add_file_member",arg,"user","api","rpc")};routes.sharingAddFolderMember=function(arg){return this.request("sharing/add_folder_member",arg,"user","api","rpc")};routes.sharingChangeFileMemberAccess=function(arg){return this.request("sharing/change_file_member_access",arg,"user","api","rpc")};routes.sharingCheckJobStatus=function(arg){return this.request("sharing/check_job_status",arg,"user","api","rpc")};routes.sharingCheckRemoveMemberJobStatus=function(arg){return this.request("sharing/check_remove_member_job_status",arg,"user","api","rpc")};routes.sharingCheckShareJobStatus=function(arg){return this.request("sharing/check_share_job_status",arg,"user","api","rpc")};routes.sharingCreateSharedLink=function(arg){return this.request("sharing/create_shared_link",arg,"user","api","rpc")};routes.sharingCreateSharedLinkWithSettings=function(arg){return this.request("sharing/create_shared_link_with_settings",arg,"user","api","rpc")};routes.sharingGetFileMetadata=function(arg){return this.request("sharing/get_file_metadata",arg,"user","api","rpc")};routes.sharingGetFileMetadataBatch=function(arg){return this.request("sharing/get_file_metadata/batch",arg,"user","api","rpc")};routes.sharingGetFolderMetadata=function(arg){return this.request("sharing/get_folder_metadata",arg,"user","api","rpc")};routes.sharingGetSharedLinkFile=function(arg){return this.request("sharing/get_shared_link_file",arg,"user","content","download")};routes.sharingGetSharedLinkMetadata=function(arg){return this.request("sharing/get_shared_link_metadata",arg,"user","api","rpc")};routes.sharingGetSharedLinks=function(arg){return this.request("sharing/get_shared_links",arg,"user","api","rpc")};routes.sharingListFileMembers=function(arg){return this.request("sharing/list_file_members",arg,"user","api","rpc")};routes.sharingListFileMembersBatch=function(arg){return this.request("sharing/list_file_members/batch",arg,"user","api","rpc")};routes.sharingListFileMembersContinue=function(arg){return this.request("sharing/list_file_members/continue",arg,"user","api","rpc")};routes.sharingListFolderMembers=function(arg){return this.request("sharing/list_folder_members",arg,"user","api","rpc")};routes.sharingListFolderMembersContinue=function(arg){return this.request("sharing/list_folder_members/continue",arg,"user","api","rpc")};routes.sharingListFolders=function(arg){return this.request("sharing/list_folders",arg,"user","api","rpc")};routes.sharingListFoldersContinue=function(arg){return this.request("sharing/list_folders/continue",arg,"user","api","rpc")};routes.sharingListMountableFolders=function(arg){return this.request("sharing/list_mountable_folders",arg,"user","api","rpc")};routes.sharingListMountableFoldersContinue=function(arg){return this.request("sharing/list_mountable_folders/continue",arg,"user","api","rpc")};routes.sharingListReceivedFiles=function(arg){return this.request("sharing/list_received_files",arg,"user","api","rpc")};routes.sharingListReceivedFilesContinue=function(arg){return this.request("sharing/list_received_files/continue",arg,"user","api","rpc")};routes.sharingListSharedLinks=function(arg){return this.request("sharing/list_shared_links",arg,"user","api","rpc")};routes.sharingModifySharedLinkSettings=function(arg){return this.request("sharing/modify_shared_link_settings",arg,"user","api","rpc")};routes.sharingMountFolder=function(arg){return this.request("sharing/mount_folder",arg,"user","api","rpc")};routes.sharingRelinquishFileMembership=function(arg){return this.request("sharing/relinquish_file_membership",arg,"user","api","rpc")};routes.sharingRelinquishFolderMembership=function(arg){return this.request("sharing/relinquish_folder_membership",arg,"user","api","rpc")};routes.sharingRemoveFileMember=function(arg){return this.request("sharing/remove_file_member",arg,"user","api","rpc")};routes.sharingRemoveFileMember2=function(arg){return this.request("sharing/remove_file_member_2",arg,"user","api","rpc")};routes.sharingRemoveFolderMember=function(arg){return this.request("sharing/remove_folder_member",arg,"user","api","rpc")};routes.sharingRevokeSharedLink=function(arg){return this.request("sharing/revoke_shared_link",arg,"user","api","rpc")};routes.sharingShareFolder=function(arg){return this.request("sharing/share_folder",arg,"user","api","rpc")};routes.sharingTransferFolder=function(arg){return this.request("sharing/transfer_folder",arg,"user","api","rpc")};routes.sharingUnmountFolder=function(arg){return this.request("sharing/unmount_folder",arg,"user","api","rpc")};routes.sharingUnshareFile=function(arg){return this.request("sharing/unshare_file",arg,"user","api","rpc")};routes.sharingUnshareFolder=function(arg){return this.request("sharing/unshare_folder",arg,"user","api","rpc")};routes.sharingUpdateFileMember=function(arg){return this.request("sharing/update_file_member",arg,"user","api","rpc")};routes.sharingUpdateFolderMember=function(arg){return this.request("sharing/update_folder_member",arg,"user","api","rpc")};routes.sharingUpdateFolderPolicy=function(arg){return this.request("sharing/update_folder_policy",arg,"user","api","rpc")};routes.teamLogGetEvents=function(arg){return this.request("team_log/get_events",arg,"team","api","rpc")};routes.teamLogGetEventsContinue=function(arg){return this.request("team_log/get_events/continue",arg,"team","api","rpc")};routes.usersGetAccount=function(arg){return this.request("users/get_account",arg,"user","api","rpc")};routes.usersGetAccountBatch=function(arg){return this.request("users/get_account_batch",arg,"user","api","rpc")};routes.usersGetCurrentAccount=function(arg){return this.request("users/get_current_account",arg,"user","api","rpc")};routes.usersGetSpaceUsage=function(arg){return this.request("users/get_space_usage",arg,"user","api","rpc")};module.exports=routes},function(module,exports,__webpack_require__){"use strict";var request=__webpack_require__(65);var Promise=__webpack_require__(64).Promise;var getBaseURL=__webpack_require__(66);var buildCustomError=function buildCustomError(error,response){var err;if(response){try{err=JSON.parse(response.text)}catch(e){err=response.text}}return{status:error.status,error:err||error,response:response}};var rpcRequest=function rpcRequest(path,body,auth,host,accessToken,selectUser){var promiseFunction=function promiseFunction(resolve,reject){var apiRequest;function success(data){if(resolve){resolve(data)}}function failure(error){if(reject){reject(error)}}function responseHandler(error,response){if(error){failure(buildCustomError(error,response))}else{success(response.body)}}if(!body){body=null}apiRequest=request.post(getBaseURL(host)+path).type("application/json");switch(auth){case"team":case"user":apiRequest.set("Authorization","Bearer "+accessToken);break;case"noauth":break;default:throw new Error("Unhandled auth type: "+auth)}if(selectUser){apiRequest=apiRequest.set("Dropbox-API-Select-User",selectUser)}apiRequest.send(body).end(responseHandler)};return new Promise(promiseFunction)};module.exports=rpcRequest},function(module,exports,__webpack_require__){"use strict";var request=__webpack_require__(65);var Promise=__webpack_require__(64).Promise;var getBaseURL=__webpack_require__(66);var httpHeaderSafeJson=__webpack_require__(134);var buildCustomError=function buildCustomError(error,response){return{status:error.status,error:(response?response.text:null)||error.toString(),response:response}};var uploadRequest=function uploadRequest(path,args,auth,host,accessToken,selectUser){if(auth!=="user"){throw new Error("Unexpected auth type: "+auth)}var promiseFunction=function promiseFunction(resolve,reject){var apiRequest;var contents=args.contents;delete args.contents;function success(data){if(resolve){resolve(data)}}function failure(error){if(reject){reject(error)}}function responseHandler(error,response){if(error){failure(buildCustomError(error,response))}else{success(response.body)}}apiRequest=request.post(getBaseURL(host)+path).type("application/octet-stream").set("Authorization","Bearer "+accessToken).set("Dropbox-API-Arg",httpHeaderSafeJson(args));if(selectUser){apiRequest=apiRequest.set("Dropbox-API-Select-User",selectUser)}apiRequest.send(contents).end(responseHandler)};return new Promise(promiseFunction)};module.exports=uploadRequest},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"){module.exports=factory}else{factory(jQuery)}})(function($){var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks}}var special=$.event.special.mousewheel={version:"3.1.12",setup:function setup(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=handler}$.data(this,"mousewheel-line-height",special.getLineHeight(this));$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function teardown(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=null}$.removeData(this,"mousewheel-line-height");$.removeData(this,"mousewheel-page-height")},getLineHeight:function getLineHeight(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();if(!$parent.length){$parent=$("body")}return parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function getPageHeight(elem){return $(elem).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function mousewheel(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function unmousewheel(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if("detail"in orgEvent){deltaY=orgEvent.detail*-1}if("wheelDelta"in orgEvent){deltaY=orgEvent.wheelDelta}if("wheelDeltaY"in orgEvent){deltaY=orgEvent.wheelDeltaY}if("wheelDeltaX"in orgEvent){deltaX=orgEvent.wheelDeltaX*-1}if("axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0}delta=deltaY===0?deltaX:deltaY;if("deltaY"in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY}if("deltaX"in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1}}if(deltaY===0&&deltaX===0){return}if(orgEvent.deltaMode===1){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight}absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40}}if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40}delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta);deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta);deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top}event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout)}nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==="mousewheel"&&absDelta%120===0}})},function(module,exports,__webpack_require__){"use strict";(function(jQuery){(function(){function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}function redefineProp(xhr,prop,fn){try{Object.defineProperty(xhr,prop,{get:fn})}catch(e){}}if(!window.FileAPI){window.FileAPI={}}if(!window.XMLHttpRequest){throw"AJAX is not supported. XMLHttpRequest is not defined."}FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad;if(FileAPI.shouldLoad){var initializeUploadListener=function initializeUploadListener(xhr){if(!xhr.__listeners){if(!xhr.upload)xhr.upload={};xhr.__listeners=[];var origAddEventListener=xhr.upload.addEventListener;xhr.upload.addEventListener=function(t,fn){xhr.__listeners[t]=fn;if(origAddEventListener)origAddEventListener.apply(this,arguments)}}};patchXHR("open",function(orig){return function(m,url,b){initializeUploadListener(this);this.__url=url;try{orig.apply(this,[m,url,b])}catch(e){if(e.message.indexOf("Access is denied")>-1){this.__origError=e;orig.apply(this,[m,"_fix_for_ie_crossdomain__",b])}}}});patchXHR("getResponseHeader",function(orig){return function(h){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(h):orig==null?null:orig.apply(this,[h])}});patchXHR("getAllResponseHeaders",function(orig){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():orig==null?null:orig.apply(this)}});patchXHR("abort",function(orig){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():orig==null?null:orig.apply(this)}});patchXHR("setRequestHeader",function(orig){return function(header,value){if(header==="__setXHR_"){initializeUploadListener(this);var val=value(this);if(val instanceof Function){val(this)}}else{this.__requestHeaders=this.__requestHeaders||{};this.__requestHeaders[header]=value;orig.apply(this,arguments)}}});patchXHR("send",function(orig){return function(){var xhr=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var formData=arguments[0];var config={url:xhr.__url,jsonp:false,cache:true,complete:function complete(err,fileApiXHR){if(err&&angular.isString(err)&&err.indexOf("#2174")!==-1){err=null}xhr.__completed=true;if(!err&&xhr.__listeners.load)xhr.__listeners.load({type:"load",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(!err&&xhr.__listeners.loadend)xhr.__listeners.loadend({type:"loadend",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(err==="abort"&&xhr.__listeners.abort)xhr.__listeners.abort({type:"abort",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(fileApiXHR.status!==undefined)redefineProp(xhr,"status",function(){return fileApiXHR.status===0&&err&&err!=="abort"?500:fileApiXHR.status});if(fileApiXHR.statusText!==undefined)redefineProp(xhr,"statusText",function(){return fileApiXHR.statusText});redefineProp(xhr,"readyState",function(){return 4});if(fileApiXHR.response!==undefined)redefineProp(xhr,"response",function(){return fileApiXHR.response});var resp=fileApiXHR.responseText||(err&&fileApiXHR.status===0&&err!=="abort"?err:undefined);redefineProp(xhr,"responseText",function(){return resp});redefineProp(xhr,"response",function(){return resp});if(err)redefineProp(xhr,"err",function(){return err});xhr.__fileApiXHR=fileApiXHR;if(xhr.onreadystatechange)xhr.onreadystatechange();if(xhr.onload)xhr.onload()},progress:function progress(e){e.target=xhr;if(xhr.__listeners.progress)xhr.__listeners.progress(e);xhr.__total=e.total;xhr.__loaded=e.loaded;if(e.total===e.loaded){var _this=this;setTimeout(function(){if(!xhr.__completed){xhr.getAllResponseHeaders=function(){};_this.complete(null,{status:204,statusText:"No Content"})}},FileAPI.noContentTimeout||1e4)}},headers:xhr.__requestHeaders};config.data={};config.files={};for(var i=0;i<formData.data.length;i++){var item=formData.data[i];if(item.val!=null&&item.val.name!=null&&item.val.size!=null&&item.val.type!=null){config.files[item.key]=item.val}else{config.data[item.key]=item.val}}setTimeout(function(){if(!FileAPI.hasFlash){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}xhr.__fileApiXHR=FileAPI.upload(config)},1)}else{if(this.__origError){throw this.__origError}orig.apply(xhr,arguments)}}});window.XMLHttpRequest.__isFileAPIShim=true;window.FormData=FormData=function FormData(){return{append:function append(key,val,name){if(val.__isFileAPIBlobShim){val=val.data[0]}this.data.push({key:key,val:val,name:name})},data:[],__isFileAPIShim:true}};window.Blob=Blob=function Blob(b){return{data:b,__isFileAPIBlobShim:true}}}})();(function(){function isInputTypeFile(elem){return elem[0].tagName.toLowerCase()==="input"&&elem.attr("type")&&elem.attr("type").toLowerCase()==="file"}function hasFlash(){try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(fo)return true}catch(e){if(navigator.mimeTypes["application/x-shockwave-flash"]!==undefined)return true}return false}function getOffset(obj){var left=0,top=0;if(window.jQuery){return jQuery(obj).offset()}if(obj.offsetParent){do{left+=obj.offsetLeft-obj.scrollLeft;top+=obj.offsetTop-obj.scrollTop;obj=obj.offsetParent}while(obj)}return{left:left,top:top}}if(FileAPI.shouldLoad){FileAPI.hasFlash=hasFlash();if(FileAPI.forceLoad){FileAPI.html5=false}if(!FileAPI.upload){var jsUrl,basePath,script=document.createElement("script"),allScripts=document.getElementsByTagName("script"),i,index,src;if(window.FileAPI.jsUrl){jsUrl=window.FileAPI.jsUrl}else if(window.FileAPI.jsPath){basePath=window.FileAPI.jsPath}else{for(i=0;i<allScripts.length;i++){src=allScripts[i].src;index=src.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/);if(index>-1){basePath=src.substring(0,index+1);break}}}if(FileAPI.staticPath==null)FileAPI.staticPath=basePath;script.setAttribute("src",jsUrl||basePath+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(script)}FileAPI.ngfFixIE=function(elem,fileElem,changeFn){if(!hasFlash()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}var fixInputStyle=function fixInputStyle(){var label=fileElem.parent();if(elem.attr("disabled")){if(label)label.removeClass("js-fileapi-wrapper")}else{if(!fileElem.attr("__ngf_flash_")){fileElem.unbind("change");fileElem.unbind("click");fileElem.bind("change",function(evt){fileApiChangeFn.apply(this,[evt]);changeFn.apply(this,[evt])});fileElem.attr("__ngf_flash_","true")}label.addClass("js-fileapi-wrapper");if(!isInputTypeFile(elem)){label.css("position","absolute").css("top",getOffset(elem[0]).top+"px").css("left",getOffset(elem[0]).left+"px").css("width",elem[0].offsetWidth+"px").css("height",elem[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",elem.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible");fileElem.css("width",elem[0].offsetWidth+"px").css("height",elem[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")}}};elem.bind("mouseenter",fixInputStyle);var fileApiChangeFn=function fileApiChangeFn(evt){var files=FileAPI.getFiles(evt);for(var i=0;i<files.length;i++){if(files[i].size===undefined)files[i].size=0;if(files[i].name===undefined)files[i].name="file";if(files[i].type===undefined)files[i].type="undefined"}if(!evt.target){evt.target={}}evt.target.files=files;if(evt.target.files!==files){evt.__files_=files}(evt.__files_||evt.target.files).item=function(i){return(evt.__files_||evt.target.files)[i]||null}}};FileAPI.disableFileInput=function(elem,disable){if(disable){elem.removeClass("js-fileapi-wrapper")}else{elem.addClass("js-fileapi-wrapper")}}}})();if(!window.FileReader){window.FileReader=function(){var _this=this,loadStarted=false;this.listeners={};this.addEventListener=function(type,fn){_this.listeners[type]=_this.listeners[type]||[];_this.listeners[type].push(fn)};this.removeEventListener=function(type,fn){if(_this.listeners[type])_this.listeners[type].splice(_this.listeners[type].indexOf(fn),1)};this.dispatchEvent=function(evt){var list=_this.listeners[evt.type];if(list){for(var i=0;i<list.length;i++){list[i].call(_this,evt)}}};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var constructEvent=function constructEvent(type,evt){var e={type:type,target:_this,loaded:evt.loaded,total:evt.total,error:evt.error};if(evt.result!=null)e.target.result=evt.result;return e};var listener=function listener(evt){if(!loadStarted){loadStarted=true;if(_this.onloadstart)_this.onloadstart(constructEvent("loadstart",evt))}var e;if(evt.type==="load"){if(_this.onloadend)_this.onloadend(constructEvent("loadend",evt));e=constructEvent("load",evt);if(_this.onload)_this.onload(e);_this.dispatchEvent(e)}else if(evt.type==="progress"){e=constructEvent("progress",evt);if(_this.onprogress)_this.onprogress(e);_this.dispatchEvent(e)}else{e=constructEvent("error",evt);if(_this.onerror)_this.onerror(e);_this.dispatchEvent(e)}};this.readAsDataURL=function(file){FileAPI.readAsDataURL(file,listener)};this.readAsText=function(file){FileAPI.readAsText(file,listener)}}}if(window.XMLHttpRequest&&!(window.FileAPI&&FileAPI.shouldLoad)){window.XMLHttpRequest.prototype.setRequestHeader=function(orig){return function(header,value){if(header==="__setXHR_"){var val=value(this);if(val instanceof Function){val(this)}}else{orig.apply(this,arguments)}}}(window.XMLHttpRequest.prototype.setRequestHeader)}var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13";ngFileUpload.service("UploadBase",["$http","$q","$timeout",function($http,$q,$timeout){var upload=this;upload.promisesCount=0;this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var resumeSupported=this.isResumeSupported();function sendHttp(config){config.method=config.method||"POST";config.headers=config.headers||{};var deferred=config._deferred=config._deferred||$q.defer();var promise=deferred.promise;function notifyProgress(e){if(deferred.notify){deferred.notify(e)}if(promise.progressFunc){$timeout(function(){promise.progressFunc(e)})}}function getNotifyEvent(n){if(config._start!=null&&resumeSupported){return{loaded:n.loaded+config._start,total:config._file&&config._file.size||n.total,type:n.type,config:config,lengthComputable:true,target:n.target}}else{return n}}if(!config.disableProgress){config.headers.__setXHR_=function(){return function(xhr){if(!xhr||!xhr.upload||!xhr.upload.addEventListener)return;config.__XHR=xhr;if(config.xhrFn)config.xhrFn(xhr);xhr.upload.addEventListener("progress",function(e){e.config=config;notifyProgress(getNotifyEvent(e))},false);xhr.upload.addEventListener("load",function(e){if(e.lengthComputable){e.config=config;notifyProgress(getNotifyEvent(e))}},false)}}}function uploadWithAngular(){$http(config).then(function(r){if(resumeSupported&&config._chunkSize&&!config._finished&&config._file){var fileSize=config._file&&config._file.size||0;notifyProgress({loaded:Math.min(config._end,fileSize),total:fileSize,config:config,type:"progress"});upload.upload(config,true)}else{if(config._finished)delete config._finished;deferred.resolve(r)}},function(e){deferred.reject(e)},function(n){deferred.notify(n)})}if(!resumeSupported){uploadWithAngular()}else if(config._chunkSize&&config._end&&!config._finished){config._start=config._end;config._end+=config._chunkSize;uploadWithAngular()}else if(config.resumeSizeUrl){$http.get(config.resumeSizeUrl).then(function(resp){if(config.resumeSizeResponseReader){config._start=config.resumeSizeResponseReader(resp.data)}else{config._start=parseInt((resp.data.size==null?resp.data:resp.data.size).toString())}if(config._chunkSize){config._end=config._start+config._chunkSize}uploadWithAngular()},function(e){throw e})}else if(config.resumeSize){config.resumeSize().then(function(size){config._start=size;if(config._chunkSize){config._end=config._start+config._chunkSize}uploadWithAngular()},function(e){throw e})}else{if(config._chunkSize){config._start=0;config._end=config._start+config._chunkSize}uploadWithAngular()}promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.progress=function(fn){promise.progressFunc=fn;promise.then(null,null,function(n){fn(n)});return promise};promise.abort=promise.pause=function(){if(config.__XHR){$timeout(function(){config.__XHR.abort()})}return promise};promise.xhr=function(fn){config.xhrFn=function(origXhrFn){return function(){if(origXhrFn)origXhrFn.apply(promise,arguments);fn.apply(promise,arguments)}}(config.xhrFn);return promise};upload.promisesCount++;if(promise["finally"]&&promise["finally"]instanceof Function){promise["finally"](function(){upload.promisesCount--})}return promise}this.isUploadInProgress=function(){return upload.promisesCount>0};this.rename=function(file,name){file.ngfName=name;return file};this.jsonBlob=function(val){if(val!=null&&!angular.isString(val)){val=JSON.stringify(val)}var blob=new window.Blob([val],{type:"application/json"});blob._ngfBlob=true;return blob};this.json=function(val){return angular.toJson(val)};function copy(obj){var clone={};for(var key in obj){if(obj.hasOwnProperty(key)){clone[key]=obj[key]}}return clone}this.isFile=function(file){return file!=null&&(file instanceof window.Blob||file.flashId&&file.name&&file.size)};this.upload=function(config,internal){function toResumeFile(file,formData){if(file._ngfBlob)return file;config._file=config._file||file;if(config._start!=null&&resumeSupported){if(config._end&&config._end>=file.size){config._finished=true;config._end=file.size}var slice=file.slice(config._start,config._end||file.size);slice.name=file.name;slice.ngfName=file.ngfName;if(config._chunkSize){formData.append("_chunkSize",config._chunkSize);formData.append("_currentChunkSize",config._end-config._start);formData.append("_chunkNumber",Math.floor(config._start/config._chunkSize));formData.append("_totalSize",config._file.size)}return slice}return file}function addFieldToFormData(formData,val,key){if(val!==undefined){if(angular.isDate(val)){val=val.toISOString()}if(angular.isString(val)){formData.append(key,val)}else if(upload.isFile(val)){var file=toResumeFile(val,formData);var split=key.split(",");if(split[1]){file.ngfName=split[1].replace(/^\s+|\s+$/g,"");key=split[0]}config._fileKey=config._fileKey||key;formData.append(key,file,file.ngfName||file.name)}else{if(angular.isObject(val)){if(val.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+key;val.$$ngfCircularDetection=true;try{for(var k in val){if(val.hasOwnProperty(k)&&k!=="$$ngfCircularDetection"){var objectKey=config.objectKey==null?"[i]":config.objectKey;if(val.length&&parseInt(k)>-1){objectKey=config.arrayKey==null?objectKey:config.arrayKey}addFieldToFormData(formData,val[k],key+objectKey.replace(/[ik]/g,k))}}}finally{delete val.$$ngfCircularDetection}}else{formData.append(key,val)}}}}function digestConfig(){config._chunkSize=upload.translateScalars(config.resumeChunkSize);config._chunkSize=config._chunkSize?parseInt(config._chunkSize.toString()):null;config.headers=config.headers||{};config.headers["Content-Type"]=undefined;config.transformRequest=config.transformRequest?angular.isArray(config.transformRequest)?config.transformRequest:[config.transformRequest]:[];config.transformRequest.push(function(data){var formData=new window.FormData,key;data=data||config.fields||{};if(config.file){data.file=config.file}for(key in data){if(data.hasOwnProperty(key)){var val=data[key];if(config.formDataAppender){config.formDataAppender(formData,key,val)}else{addFieldToFormData(formData,val,key)}}}return formData})}if(!internal)config=copy(config);if(!config._isDigested){config._isDigested=true;digestConfig()}return sendHttp(config)};this.http=function(config){config=copy(config);config.transformRequest=config.transformRequest||function(data){if(window.ArrayBuffer&&data instanceof window.ArrayBuffer||data instanceof window.Blob){return data}return $http.defaults.transformRequest[0].apply(this,arguments)};config._chunkSize=upload.translateScalars(config.resumeChunkSize);config._chunkSize=config._chunkSize?parseInt(config._chunkSize.toString()):null;return sendHttp(config)};this.translateScalars=function(str){if(angular.isString(str)){if(str.search(/kb/i)===str.length-2){return parseFloat(str.substring(0,str.length-2)*1024)}else if(str.search(/mb/i)===str.length-2){return parseFloat(str.substring(0,str.length-2)*1048576)}else if(str.search(/gb/i)===str.length-2){return parseFloat(str.substring(0,str.length-2)*1073741824)}else if(str.search(/b/i)===str.length-1){return parseFloat(str.substring(0,str.length-1))}else if(str.search(/s/i)===str.length-1){return parseFloat(str.substring(0,str.length-1))}else if(str.search(/m/i)===str.length-1){return parseFloat(str.substring(0,str.length-1)*60)}else if(str.search(/h/i)===str.length-1){return parseFloat(str.substring(0,str.length-1)*3600)}}return str};this.urlToBlob=function(url){var defer=$q.defer();$http({url:url,method:"get",responseType:"arraybuffer"}).then(function(resp){var arrayBufferView=new Uint8Array(resp.data);var type=resp.headers("content-type")||"image/WebP";var blob=new window.Blob([arrayBufferView],{type:type});var matches=url.match(/.*\/(.+?)(\?.*)?$/);if(matches.length>1){blob.name=matches[1]}defer.resolve(blob)},function(e){defer.reject(e)});return defer.promise};this.setDefaults=function(defaults){this.defaults=defaults||{}};this.defaults={};this.version=ngFileUpload.version}]);ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function($parse,$timeout,$compile,$q,UploadExif){var upload=UploadExif;upload.getAttrWithDefaults=function(attr,name){if(attr[name]!=null)return attr[name];var def=upload.defaults[name];return def==null?def:angular.isString(def)?def:JSON.stringify(def)};upload.attrGetter=function(name,attr,scope,params){var attrVal=this.getAttrWithDefaults(attr,name);if(scope){try{if(params){return $parse(attrVal)(scope,params)}else{return $parse(attrVal)(scope)}}catch(e){if(name.search(/min|max|pattern/i)){return attrVal}else{throw e}}}else{return attrVal}};upload.shouldUpdateOn=function(type,attr,scope){var modelOptions=upload.attrGetter("ngfModelOptions",attr,scope);if(modelOptions&&modelOptions.updateOn){return modelOptions.updateOn.split(" ").indexOf(type)>-1}return true};upload.emptyPromise=function(){var d=$q.defer();var args=arguments;$timeout(function(){d.resolve.apply(d,args)});return d.promise};upload.rejectPromise=function(){var d=$q.defer();var args=arguments;$timeout(function(){d.reject.apply(d,args)});return d.promise};upload.happyPromise=function(promise,data){var d=$q.defer();promise.then(function(result){d.resolve(result)},function(error){$timeout(function(){throw error});d.resolve(data)});return d.promise};function applyExifRotations(files,attr,scope){var promises=[upload.emptyPromise()];angular.forEach(files,function(f,i){if(f.type.indexOf("image/jpeg")===0&&upload.attrGetter("ngfFixOrientation",attr,scope,{$file:f})){promises.push(upload.happyPromise(upload.applyExifRotation(f),f).then(function(fixedFile){files.splice(i,1,fixedFile)}))}});return $q.all(promises)}function resizeFile(files,attr,scope,ngModel){var resizeVal=upload.attrGetter("ngfResize",attr,scope);if(!resizeVal||!upload.isResizeSupported()||!files.length)return upload.emptyPromise();if(resizeVal instanceof Function){var defer=$q.defer();return resizeVal(files).then(function(p){resizeWithParams(p,files,attr,scope,ngModel).then(function(r){defer.resolve(r)},function(e){defer.reject(e)})},function(e){defer.reject(e)})}else{return resizeWithParams(resizeVal,files,attr,scope,ngModel)}}function resizeWithParams(params,files,attr,scope,ngModel){var promises=[upload.emptyPromise()];function handleFile(f,i){if(f.type.indexOf("image")===0){if(params.pattern&&!upload.validatePattern(f,params.pattern))return;params.resizeIf=function(width,height){return upload.attrGetter("ngfResizeIf",attr,scope,{$width:width,$height:height,$file:f})};var promise=upload.resize(f,params);promises.push(promise);promise.then(function(resizedFile){files.splice(i,1,resizedFile)},function(e){f.$error="resize";(f.$errorMessages=f.$errorMessages||{}).resize=true;f.$errorParam=(e?(e.message?e.message:e)+": ":"")+(f&&f.name);ngModel.$ngfValidations.push({name:"resize",valid:false});upload.applyModelValidation(ngModel,files)})}}for(var i=0;i<files.length;i++){handleFile(files[i],i)}return $q.all(promises)}upload.updateModel=function(ngModel,attr,scope,fileChange,files,evt,noDelay){function update(files,invalidFiles,newFiles,dupFiles,isSingleModel){attr.$$ngfPrevValidFiles=files;attr.$$ngfPrevInvalidFiles=invalidFiles;var file=files&&files.length?files[0]:null;var invalidFile=invalidFiles&&invalidFiles.length?invalidFiles[0]:null;if(ngModel){upload.applyModelValidation(ngModel,files);ngModel.$setViewValue(isSingleModel?file:files)}if(fileChange){$parse(fileChange)(scope,{$files:files,$file:file,$newFiles:newFiles,$duplicateFiles:dupFiles,$invalidFiles:invalidFiles,$invalidFile:invalidFile,$event:evt})}var invalidModel=upload.attrGetter("ngfModelInvalid",attr);if(invalidModel){$timeout(function(){$parse(invalidModel).assign(scope,isSingleModel?invalidFile:invalidFiles)})}$timeout(function(){})}var allNewFiles,dupFiles=[],prevValidFiles,prevInvalidFiles,invalids=[],valids=[];function removeDuplicates(){function equals(f1,f2){return f1.name===f2.name&&(f1.$ngfOrigSize||f1.size)===(f2.$ngfOrigSize||f2.size)&&f1.type===f2.type}function isInPrevFiles(f){var j;for(j=0;j<prevValidFiles.length;j++){if(equals(f,prevValidFiles[j])){return true}}for(j=0;j<prevInvalidFiles.length;j++){if(equals(f,prevInvalidFiles[j])){return true}}return false}if(files){allNewFiles=[];dupFiles=[];for(var i=0;i<files.length;i++){if(isInPrevFiles(files[i])){dupFiles.push(files[i])}else{allNewFiles.push(files[i])}}}}function toArray(v){return angular.isArray(v)?v:[v]}function resizeAndUpdate(){function updateModel(){$timeout(function(){update(keep?prevValidFiles.concat(valids):valids,keep?prevInvalidFiles.concat(invalids):invalids,files,dupFiles,isSingleModel)},options&&options.debounce?options.debounce.change||options.debounce:0)}var resizingFiles=validateAfterResize?allNewFiles:valids;resizeFile(resizingFiles,attr,scope,ngModel).then(function(){if(validateAfterResize){upload.validate(allNewFiles,keep?prevValidFiles.length:0,ngModel,attr,scope).then(function(validationResult){valids=validationResult.validsFiles;invalids=validationResult.invalidsFiles;updateModel()})}else{updateModel()}},function(){for(var i=0;i<resizingFiles.length;i++){var f=resizingFiles[i];if(f.$error==="resize"){var index=valids.indexOf(f);if(index>-1){valids.splice(index,1);invalids.push(f)}updateModel()}}})}prevValidFiles=attr.$$ngfPrevValidFiles||[];prevInvalidFiles=attr.$$ngfPrevInvalidFiles||[];if(ngModel&&ngModel.$modelValue){prevValidFiles=toArray(ngModel.$modelValue)}var keep=upload.attrGetter("ngfKeep",attr,scope);allNewFiles=(files||[]).slice(0);if(keep==="distinct"||upload.attrGetter("ngfKeepDistinct",attr,scope)===true){removeDuplicates(attr,scope)}var isSingleModel=!keep&&!upload.attrGetter("ngfMultiple",attr,scope)&&!upload.attrGetter("multiple",attr);if(keep&&!allNewFiles.length)return;upload.attrGetter("ngfBeforeModelChange",attr,scope,{$files:files,$file:files&&files.length?files[0]:null,$newFiles:allNewFiles,$duplicateFiles:dupFiles,$event:evt});var validateAfterResize=upload.attrGetter("ngfValidateAfterResize",attr,scope);var options=upload.attrGetter("ngfModelOptions",attr,scope);upload.validate(allNewFiles,keep?prevValidFiles.length:0,ngModel,attr,scope).then(function(validationResult){if(noDelay){update(allNewFiles,[],files,dupFiles,isSingleModel)}else{if((!options||!options.allowInvalid)&&!validateAfterResize){valids=validationResult.validFiles;invalids=validationResult.invalidFiles}else{valids=allNewFiles}if(upload.attrGetter("ngfFixOrientation",attr,scope)&&upload.isExifSupported()){applyExifRotations(valids,attr,scope).then(function(){resizeAndUpdate()})}else{resizeAndUpdate()}}})};return upload}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function($parse,$timeout,$compile,Upload){var generatedElems=[];function isDelayedClickSupported(ua){var m=ua.match(/Android[^\d]*(\d+)\.(\d+)/);if(m&&m.length>2){var v=Upload.defaults.androidFixMinorVersion||4;return parseInt(m[1])<4||parseInt(m[1])===v&&parseInt(m[2])<v}return ua.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(ua)}function linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile,upload){var attrGetter=function attrGetter(name,scope){return upload.attrGetter(name,attr,scope)};function isInputTypeFile(){return elem[0].tagName.toLowerCase()==="input"&&attr.type&&attr.type.toLowerCase()==="file"}function fileChangeAttr(){return attrGetter("ngfChange")||attrGetter("ngfSelect")}function changeFn(evt){if(upload.shouldUpdateOn("change",attr,scope)){var fileList=evt.__files_||evt.target&&evt.target.files,files=[];if(!fileList)return;for(var i=0;i<fileList.length;i++){files.push(fileList[i])}upload.updateModel(ngModel,attr,scope,fileChangeAttr(),files.length?files:null,evt)}}upload.registerModelChangeValidator(ngModel,attr,scope);var unwatches=[];if(attrGetter("ngfMultiple")){unwatches.push(scope.$watch(attrGetter("ngfMultiple"),function(){fileElem.attr("multiple",attrGetter("ngfMultiple",scope))}))}if(attrGetter("ngfCapture")){unwatches.push(scope.$watch(attrGetter("ngfCapture"),function(){fileElem.attr("capture",attrGetter("ngfCapture",scope))}))}if(attrGetter("ngfAccept")){unwatches.push(scope.$watch(attrGetter("ngfAccept"),function(){fileElem.attr("accept",attrGetter("ngfAccept",scope))}))}unwatches.push(attr.$observe("accept",function(){fileElem.attr("accept",attrGetter("accept"))}));function bindAttrToFileInput(fileElem,label){function updateId(val){fileElem.attr("id","ngf-"+val);label.attr("id","ngf-label-"+val)}for(var i=0;i<elem[0].attributes.length;i++){var attribute=elem[0].attributes[i];if(attribute.name!=="type"&&attribute.name!=="class"&&attribute.name!=="style"){if(attribute.name==="id"){updateId(attribute.value);unwatches.push(attr.$observe("id",updateId))}else{fileElem.attr(attribute.name,!attribute.value&&(attribute.name==="required"||attribute.name==="multiple")?attribute.name:attribute.value)}}}}function createFileInput(){if(isInputTypeFile()){return elem}var fileElem=angular.element('<input type="file">');var label=angular.element("<label>upload</label>");label.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1");bindAttrToFileInput(fileElem,label);generatedElems.push({el:elem,ref:label});document.body.appendChild(label.append(fileElem)[0]);return fileElem}function clickHandler(evt){if(elem.attr("disabled"))return false;if(attrGetter("ngfSelectDisabled",scope))return;var r=detectSwipe(evt);if(r!=null)return r;resetModel(evt);try{if(!isInputTypeFile()&&!document.body.contains(fileElem[0])){generatedElems.push({el:elem,ref:fileElem.parent()});document.body.appendChild(fileElem.parent()[0]);fileElem.bind("change",changeFn)}}catch(e){}if(isDelayedClickSupported(navigator.userAgent)){setTimeout(function(){fileElem[0].click()},0)}else{fileElem[0].click()}return false}var initialTouchStartY=0;var initialTouchStartX=0;function detectSwipe(evt){var touches=evt.changedTouches||evt.originalEvent&&evt.originalEvent.changedTouches;if(touches){if(evt.type==="touchstart"){initialTouchStartX=touches[0].clientX;initialTouchStartY=touches[0].clientY;return true}else{if(evt.type==="touchend"){var currentX=touches[0].clientX;var currentY=touches[0].clientY;if(Math.abs(currentX-initialTouchStartX)>20||Math.abs(currentY-initialTouchStartY)>20){evt.stopPropagation();evt.preventDefault();return false}}return true}}}var fileElem=elem;function resetModel(evt){if(upload.shouldUpdateOn("click",attr,scope)&&fileElem.val()){fileElem.val(null);upload.updateModel(ngModel,attr,scope,fileChangeAttr(),null,evt,true)}}if(!isInputTypeFile()){fileElem=createFileInput()}fileElem.bind("change",changeFn);if(!isInputTypeFile()){elem.bind("click touchstart touchend",clickHandler)}else{elem.bind("click",resetModel)}function ie10SameFileSelectFix(evt){if(fileElem&&!fileElem.attr("__ngf_ie10_Fix_")){if(!fileElem[0].parentNode){fileElem=null;return}evt.preventDefault();evt.stopPropagation();fileElem.unbind("click");var clone=fileElem.clone();fileElem.replaceWith(clone);fileElem=clone;fileElem.attr("__ngf_ie10_Fix_","true");fileElem.bind("change",changeFn);fileElem.bind("click",ie10SameFileSelectFix);fileElem[0].click();return false}else{fileElem.removeAttr("__ngf_ie10_Fix_")}}if(navigator.appVersion.indexOf("MSIE 10")!==-1){fileElem.bind("click",ie10SameFileSelectFix)}if(ngModel)ngModel.$formatters.push(function(val){if(val==null||val.length===0){if(fileElem.val()){fileElem.val(null)}}return val});scope.$on("$destroy",function(){if(!isInputTypeFile())fileElem.parent().remove();angular.forEach(unwatches,function(unwatch){unwatch()})});$timeout(function(){for(var i=0;i<generatedElems.length;i++){var g=generatedElems[i];if(!document.body.contains(g.el[0])){generatedElems.splice(i,1);g.ref.remove()}}});if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(elem,fileElem,changeFn)}}return{restrict:"AEC",require:"?ngModel",link:function link(scope,elem,attr,ngModel){linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile,Upload)}}}]);(function(){ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(UploadBase,$timeout,$q){var upload=UploadBase;upload.base64DataUrl=function(file){if(angular.isArray(file)){var d=$q.defer(),count=0;angular.forEach(file,function(f){upload.dataUrl(f,true)["finally"](function(){count++;if(count===file.length){var urls=[];angular.forEach(file,function(ff){urls.push(ff.$ngfDataUrl)});d.resolve(urls,file)}})});return d.promise}else{return upload.dataUrl(file,true)}};upload.dataUrl=function(file,disallowObjectUrl){if(!file)return upload.emptyPromise(file,file);if(disallowObjectUrl&&file.$ngfDataUrl!=null||!disallowObjectUrl&&file.$ngfBlobUrl!=null){return upload.emptyPromise(disallowObjectUrl?file.$ngfDataUrl:file.$ngfBlobUrl,file)}var p=disallowObjectUrl?file.$$ngfDataUrlPromise:file.$$ngfBlobUrlPromise;if(p)return p;var deferred=$q.defer();$timeout(function(){if(window.FileReader&&file&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||file.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||file.size<4e6)){var URL=window.URL||window.webkitURL;if(URL&&URL.createObjectURL&&!disallowObjectUrl){var url;try{url=URL.createObjectURL(file)}catch(e){$timeout(function(){file.$ngfBlobUrl="";deferred.reject()});return}$timeout(function(){file.$ngfBlobUrl=url;if(url){deferred.resolve(url,file);upload.blobUrls=upload.blobUrls||[];upload.blobUrlsTotalSize=upload.blobUrlsTotalSize||0;upload.blobUrls.push({url:url,size:file.size});upload.blobUrlsTotalSize+=file.size||0;var maxMemory=upload.defaults.blobUrlsMaxMemory||268435456;var maxLength=upload.defaults.blobUrlsMaxQueueSize||200;while((upload.blobUrlsTotalSize>maxMemory||upload.blobUrls.length>maxLength)&&upload.blobUrls.length>1){var obj=upload.blobUrls.splice(0,1)[0];URL.revokeObjectURL(obj.url);upload.blobUrlsTotalSize-=obj.size}}})}else{var fileReader=new FileReader;fileReader.onload=function(e){$timeout(function(){file.$ngfDataUrl=e.target.result;deferred.resolve(e.target.result,file);$timeout(function(){delete file.$ngfDataUrl},1e3)})};fileReader.onerror=function(){$timeout(function(){file.$ngfDataUrl="";deferred.reject()})};fileReader.readAsDataURL(file)}}else{$timeout(function(){file[disallowObjectUrl?"$ngfDataUrl":"$ngfBlobUrl"]="";deferred.reject()})}});if(disallowObjectUrl){p=file.$$ngfDataUrlPromise=deferred.promise}else{p=file.$$ngfBlobUrlPromise=deferred.promise}p["finally"](function(){delete file[disallowObjectUrl?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]});return p};return upload}]);function getTagType(el){if(el.tagName.toLowerCase()==="img")return"image";if(el.tagName.toLowerCase()==="audio")return"audio";if(el.tagName.toLowerCase()==="video")return"video";return/./}function linkFileDirective(Upload,$timeout,scope,elem,attr,directiveName,resizeParams,isBackground){function constructDataUrl(file){var disallowObjectUrl=Upload.attrGetter("ngfNoObjectUrl",attr,scope);Upload.dataUrl(file,disallowObjectUrl)["finally"](function(){$timeout(function(){var src=(disallowObjectUrl?file.$ngfDataUrl:file.$ngfBlobUrl)||file.$ngfDataUrl;if(isBackground){elem.css("background-image","url('"+(src||"")+"')")}else{elem.attr("src",src)}if(src){elem.removeClass("ng-hide")}else{elem.addClass("ng-hide")}})})}$timeout(function(){var unwatch=scope.$watch(attr[directiveName],function(file){var size=resizeParams;if(directiveName==="ngfThumbnail"){if(!size){size={width:elem[0].naturalWidth||elem[0].clientWidth,height:elem[0].naturalHeight||elem[0].clientHeight}}if(size.width===0&&window.getComputedStyle){var style=getComputedStyle(elem[0]);if(style.width&&style.width.indexOf("px")>-1&&style.height&&style.height.indexOf("px")>-1){size={width:parseInt(style.width.slice(0,-2)),height:parseInt(style.height.slice(0,-2))}}}}if(angular.isString(file)){elem.removeClass("ng-hide");if(isBackground){return elem.css("background-image","url('"+file+"')")}else{return elem.attr("src",file)}}if(file&&file.type&&file.type.search(getTagType(elem[0]))===0&&(!isBackground||file.type.indexOf("image")===0)){if(size&&Upload.isResizeSupported()){size.resizeIf=function(width,height){return Upload.attrGetter("ngfResizeIf",attr,scope,{$width:width,$height:height,$file:file})};Upload.resize(file,size).then(function(f){constructDataUrl(f)},function(e){throw e})}else{constructDataUrl(file)}}else{elem.addClass("ng-hide")}});scope.$on("$destroy",function(){unwatch()})})}ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(Upload,$timeout){return{restrict:"AE",link:function link(scope,elem,attr){linkFileDirective(Upload,$timeout,scope,elem,attr,"ngfSrc",Upload.attrGetter("ngfResize",attr,scope),false)}}}]);ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(Upload,$timeout){return{restrict:"AE",link:function link(scope,elem,attr){linkFileDirective(Upload,$timeout,scope,elem,attr,"ngfBackground",Upload.attrGetter("ngfResize",attr,scope),true)}}}]);ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(Upload,$timeout){return{restrict:"AE",link:function link(scope,elem,attr){var size=Upload.attrGetter("ngfSize",attr,scope);linkFileDirective(Upload,$timeout,scope,elem,attr,"ngfThumbnail",size,Upload.attrGetter("ngfAsBackground",attr,scope))}}}]);ngFileUpload.config(["$compileProvider",function($compileProvider){if($compileProvider.imgSrcSanitizationWhitelist)$compileProvider.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/);if($compileProvider.aHrefSanitizationWhitelist)$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]);ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(UploadDataUrl,$sce){return function(file,disallowObjectUrl,trustedUrl){if(angular.isString(file)){return $sce.trustAsResourceUrl(file)}var src=file&&((disallowObjectUrl?file.$ngfDataUrl:file.$ngfBlobUrl)||file.$ngfDataUrl);if(file&&!src){if(!file.$ngfDataUrlFilterInProgress&&angular.isObject(file)){file.$ngfDataUrlFilterInProgress=true;UploadDataUrl.dataUrl(file,disallowObjectUrl)}return""}if(file)delete file.$ngfDataUrlFilterInProgress;return(file&&src?trustedUrl?$sce.trustAsResourceUrl(src):src:file)||""}}])})();ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(UploadDataUrl,$q,$timeout){var upload=UploadDataUrl;function globStringToRegex(str){var regexp="",excludes=[];if(str.length>2&&str[0]==="/"&&str[str.length-1]==="/"){regexp=str.substring(1,str.length-1)}else{var split=str.split(",");if(split.length>1){for(var i=0;i<split.length;i++){var r=globStringToRegex(split[i]);if(r.regexp){regexp+="("+r.regexp+")";if(i<split.length-1){regexp+="|"}}else{excludes=excludes.concat(r.excludes)}}}else{if(str.indexOf("!")===0){excludes.push("^((?!"+globStringToRegex(str.substring(1)).regexp+").)*$")}else{if(str.indexOf(".")===0){str="*"+str}regexp="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$";regexp=regexp.replace(/\\\*/g,".*").replace(/\\\?/g,".")}}}return{regexp:regexp,excludes:excludes}}upload.validatePattern=function(file,val){if(!val){return true}var pattern=globStringToRegex(val),valid=true;if(pattern.regexp&&pattern.regexp.length){var regexp=new RegExp(pattern.regexp,"i");valid=file.type!=null&&regexp.test(file.type)||file.name!=null&&regexp.test(file.name)}var len=pattern.excludes.length;while(len--){var exclude=new RegExp(pattern.excludes[len],"i");valid=valid&&(file.type==null||exclude.test(file.type))&&(file.name==null||exclude.test(file.name))}return valid};upload.ratioToFloat=function(val){var r=val.toString(),xIndex=r.search(/[x:]/i);if(xIndex>-1){r=parseFloat(r.substring(0,xIndex))/parseFloat(r.substring(xIndex+1))}else{r=parseFloat(r)}return r};upload.registerModelChangeValidator=function(ngModel,attr,scope){if(ngModel){ngModel.$formatters.push(function(files){if(ngModel.$dirty){var filesArray=files;if(files&&!angular.isArray(files)){filesArray=[files]}upload.validate(filesArray,0,ngModel,attr,scope).then(function(){upload.applyModelValidation(ngModel,filesArray)})}return files})}};function markModelAsDirty(ngModel,files){if(files!=null&&!ngModel.$dirty){if(ngModel.$setDirty){ngModel.$setDirty()}else{ngModel.$dirty=true}}}upload.applyModelValidation=function(ngModel,files){markModelAsDirty(ngModel,files);angular.forEach(ngModel.$ngfValidations,function(validation){ngModel.$setValidity(validation.name,validation.valid)})};upload.getValidationAttr=function(attr,scope,name,validationName,file){var dName="ngf"+name[0].toUpperCase()+name.substr(1);var val=upload.attrGetter(dName,attr,scope,{$file:file});if(val==null){val=upload.attrGetter("ngfValidate",attr,scope,{$file:file});if(val){var split=(validationName||name).split(".");val=val[split[0]];if(split.length>1){val=val&&val[split[1]]}}}return val};upload.validate=function(files,prevLength,ngModel,attr,scope){ngModel=ngModel||{};ngModel.$ngfValidations=ngModel.$ngfValidations||[];angular.forEach(ngModel.$ngfValidations,function(v){v.valid=true});var attrGetter=function attrGetter(name,params){return upload.attrGetter(name,attr,scope,params)};var ignoredErrors=(upload.attrGetter("ngfIgnoreInvalid",attr,scope)||"").split(" ");var runAllValidation=upload.attrGetter("ngfRunAllValidations",attr,scope);if(files==null||files.length===0){return upload.emptyPromise({validFiles:files,invalidFiles:[]})}files=files.length===undefined?[files]:files.slice(0);var invalidFiles=[];function validateSync(name,validationName,fn){if(files){var i=files.length,valid=null;while(i--){var file=files[i];if(file){var val=upload.getValidationAttr(attr,scope,name,validationName,file);if(val!=null){if(!fn(file,val,i)){if(ignoredErrors.indexOf(name)===-1){file.$error=name;(file.$errorMessages=file.$errorMessages||{})[name]=true;file.$errorParam=val;if(invalidFiles.indexOf(file)===-1){invalidFiles.push(file)}if(!runAllValidation){files.splice(i,1)}valid=false}else{files.splice(i,1)}}}}}if(valid!==null){ngModel.$ngfValidations.push({name:name,valid:valid})}}}validateSync("pattern",null,upload.validatePattern);validateSync("minSize","size.min",function(file,val){return file.size+.1>=upload.translateScalars(val)});validateSync("maxSize","size.max",function(file,val){return file.size-.1<=upload.translateScalars(val)});var totalSize=0;validateSync("maxTotalSize",null,function(file,val){totalSize+=file.size;if(totalSize>upload.translateScalars(val)){files.splice(0,files.length);return false}return true});validateSync("validateFn",null,function(file,r){return r===true||r===null||r===""});if(!files.length){return upload.emptyPromise({validFiles:[],invalidFiles:invalidFiles})}function validateAsync(name,validationName,type,asyncFn,fn){function resolveResult(defer,file,val){function resolveInternal(fn){if(fn()){if(ignoredErrors.indexOf(name)===-1){file.$error=name;(file.$errorMessages=file.$errorMessages||{})[name]=true;file.$errorParam=val;if(invalidFiles.indexOf(file)===-1){invalidFiles.push(file)}if(!runAllValidation){var i=files.indexOf(file);if(i>-1)files.splice(i,1)}defer.resolve(false)}else{var j=files.indexOf(file);if(j>-1)files.splice(j,1);defer.resolve(true)}}else{defer.resolve(true)}}if(val!=null){asyncFn(file,val).then(function(d){resolveInternal(function(){return!fn(d,val)})},function(){resolveInternal(function(){return attrGetter("ngfValidateForce",{$file:file})})})}else{defer.resolve(true)}}var promises=[upload.emptyPromise(true)];if(files){files=files.length===undefined?[files]:files;angular.forEach(files,function(file){var defer=$q.defer();promises.push(defer.promise);if(type&&(file.type==null||file.type.search(type)!==0)){defer.resolve(true);return}if(name==="dimensions"&&upload.attrGetter("ngfDimensions",attr)!=null){upload.imageDimensions(file).then(function(d){resolveResult(defer,file,attrGetter("ngfDimensions",{$file:file,$width:d.width,$height:d.height}))},function(){defer.resolve(false)})}else if(name==="duration"&&upload.attrGetter("ngfDuration",attr)!=null){upload.mediaDuration(file).then(function(d){resolveResult(defer,file,attrGetter("ngfDuration",{$file:file,$duration:d}))},function(){defer.resolve(false)})}else{resolveResult(defer,file,upload.getValidationAttr(attr,scope,name,validationName,file))}})}var deffer=$q.defer();$q.all(promises).then(function(values){var isValid=true;for(var i=0;i<values.length;i++){if(!values[i]){isValid=false;break}}ngModel.$ngfValidations.push({name:name,valid:isValid});deffer.resolve(isValid)});return deffer.promise}var deffer=$q.defer();var promises=[];promises.push(validateAsync("maxHeight","height.max",/image/,this.imageDimensions,function(d,val){return d.height<=val}));promises.push(validateAsync("minHeight","height.min",/image/,this.imageDimensions,function(d,val){return d.height>=val}));promises.push(validateAsync("maxWidth","width.max",/image/,this.imageDimensions,function(d,val){return d.width<=val}));promises.push(validateAsync("minWidth","width.min",/image/,this.imageDimensions,function(d,val){return d.width>=val}));promises.push(validateAsync("dimensions",null,/image/,function(file,val){return upload.emptyPromise(val)},function(r){return r}));promises.push(validateAsync("ratio",null,/image/,this.imageDimensions,function(d,val){var split=val.toString().split(","),valid=false;for(var i=0;i<split.length;i++){if(Math.abs(d.width/d.height-upload.ratioToFloat(split[i]))<.01){valid=true}}return valid}));promises.push(validateAsync("maxRatio","ratio.max",/image/,this.imageDimensions,function(d,val){return d.width/d.height-upload.ratioToFloat(val)<1e-4}));promises.push(validateAsync("minRatio","ratio.min",/image/,this.imageDimensions,function(d,val){return d.width/d.height-upload.ratioToFloat(val)>-1e-4}));promises.push(validateAsync("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(d,val){return d<=upload.translateScalars(val)}));promises.push(validateAsync("minDuration","duration.min",/audio|video/,this.mediaDuration,function(d,val){return d>=upload.translateScalars(val)}));promises.push(validateAsync("duration",null,/audio|video/,function(file,val){return upload.emptyPromise(val)},function(r){return r}));promises.push(validateAsync("validateAsyncFn",null,null,function(file,val){return val},function(r){return r===true||r===null||r===""}));$q.all(promises).then(function(){if(runAllValidation){for(var i=0;i<files.length;i++){var file=files[i];if(file.$error){files.splice(i--,1)}}}runAllValidation=false;validateSync("maxFiles",null,function(file,val,i){return prevLength+i<val});deffer.resolve({validFiles:files,invalidFiles:invalidFiles})});return deffer.promise};upload.imageDimensions=function(file){if(file.$ngfWidth&&file.$ngfHeight){var d=$q.defer();$timeout(function(){d.resolve({width:file.$ngfWidth,height:file.$ngfHeight})});return d.promise}if(file.$ngfDimensionPromise)return file.$ngfDimensionPromise;var deferred=$q.defer();$timeout(function(){if(file.type.indexOf("image")!==0){deferred.reject("not image");return}upload.dataUrl(file).then(function(dataUrl){var img=angular.element("<img>").attr("src",dataUrl).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function success(){var width=img[0].naturalWidth||img[0].clientWidth;var height=img[0].naturalHeight||img[0].clientHeight;img.remove();file.$ngfWidth=width;file.$ngfHeight=height;deferred.resolve({width:width,height:height})}function error(){img.remove();deferred.reject("load error")}img.on("load",success);img.on("error",error);var secondsCounter=0;function checkLoadErrorInCaseOfNoCallback(){$timeout(function(){if(img[0].parentNode){if(img[0].clientWidth){success()}else if(secondsCounter++>10){error()}else{checkLoadErrorInCaseOfNoCallback()}}},1e3)}checkLoadErrorInCaseOfNoCallback();angular.element(document.getElementsByTagName("body")[0]).append(img)},function(){deferred.reject("load error")})});file.$ngfDimensionPromise=deferred.promise;file.$ngfDimensionPromise["finally"](function(){delete file.$ngfDimensionPromise});return file.$ngfDimensionPromise};upload.mediaDuration=function(file){if(file.$ngfDuration){var d=$q.defer();$timeout(function(){d.resolve(file.$ngfDuration)});return d.promise}if(file.$ngfDurationPromise)return file.$ngfDurationPromise;var deferred=$q.defer();$timeout(function(){if(file.type.indexOf("audio")!==0&&file.type.indexOf("video")!==0){deferred.reject("not media");return}upload.dataUrl(file).then(function(dataUrl){var el=angular.element(file.type.indexOf("audio")===0?"<audio>":"<video>").attr("src",dataUrl).css("visibility","none").css("position","fixed");function success(){var duration=el[0].duration;file.$ngfDuration=duration;el.remove();deferred.resolve(duration)}function error(){el.remove();deferred.reject("load error")}el.on("loadedmetadata",success);el.on("error",error);var count=0;function checkLoadError(){$timeout(function(){if(el[0].parentNode){if(el[0].duration){success()}else if(count>10){error()}else{checkLoadError()}}},1e3)}checkLoadError();angular.element(document.body).append(el)},function(){deferred.reject("load error")})});file.$ngfDurationPromise=deferred.promise;file.$ngfDurationPromise["finally"](function(){delete file.$ngfDurationPromise});return file.$ngfDurationPromise};return upload}]);ngFileUpload.service("UploadResize",["UploadValidate","$q",function(UploadValidate,$q){var upload=UploadValidate;var calculateAspectRatioFit=function calculateAspectRatioFit(srcWidth,srcHeight,maxWidth,maxHeight,centerCrop){var ratio=centerCrop?Math.max(maxWidth/srcWidth,maxHeight/srcHeight):Math.min(maxWidth/srcWidth,maxHeight/srcHeight);return{width:srcWidth*ratio,height:srcHeight*ratio,marginX:srcWidth*ratio-maxWidth,marginY:srcHeight*ratio-maxHeight}};var resize=function resize(imagen,width,height,quality,type,ratio,centerCrop,resizeIf){var deferred=$q.defer();var canvasElement=document.createElement("canvas");var imageElement=document.createElement("img");imageElement.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000");document.body.appendChild(imageElement);imageElement.onload=function(){var imgWidth=imageElement.width,imgHeight=imageElement.height;imageElement.parentNode.removeChild(imageElement);if(resizeIf!=null&&resizeIf(imgWidth,imgHeight)===false){deferred.reject("resizeIf");return}try{if(ratio){var ratioFloat=upload.ratioToFloat(ratio);var imgRatio=imgWidth/imgHeight;if(imgRatio<ratioFloat){width=imgWidth;height=width/ratioFloat}else{height=imgHeight;width=height*ratioFloat}}if(!width){width=imgWidth}if(!height){height=imgHeight}var dimensions=calculateAspectRatioFit(imgWidth,imgHeight,width,height,centerCrop);canvasElement.width=Math.min(dimensions.width,width);canvasElement.height=Math.min(dimensions.height,height);var context=canvasElement.getContext("2d");context.drawImage(imageElement,Math.min(0,-dimensions.marginX/2),Math.min(0,-dimensions.marginY/2),dimensions.width,dimensions.height);deferred.resolve(canvasElement.toDataURL(type||"image/WebP",quality||.934))}catch(e){deferred.reject(e)}};imageElement.onerror=function(){imageElement.parentNode.removeChild(imageElement);deferred.reject()};imageElement.src=imagen;return deferred.promise};upload.dataUrltoBlob=function(dataurl,name,origSize){var arr=dataurl.split(","),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n)}var blob=new window.Blob([u8arr],{type:mime});blob.name=name;blob.$ngfOrigSize=origSize;return blob};upload.isResizeSupported=function(){var elem=document.createElement("canvas");return window.atob&&elem.getContext&&elem.getContext("2d")&&window.Blob};if(upload.isResizeSupported()){Object.defineProperty(window.Blob.prototype,"name",{get:function get(){return this.$ngfName},set:function set(v){this.$ngfName=v},configurable:true})}upload.resize=function(file,options){if(file.type.indexOf("image")!==0)return upload.emptyPromise(file);var deferred=$q.defer();upload.dataUrl(file,true).then(function(url){resize(url,options.width,options.height,options.quality,options.type||file.type,options.ratio,options.centerCrop,options.resizeIf).then(function(dataUrl){if(file.type==="image/jpeg"&&options.restoreExif!==false){try{dataUrl=upload.restoreExif(url,dataUrl)}catch(e){setTimeout(function(){throw e},1)}}try{var blob=upload.dataUrltoBlob(dataUrl,file.name,file.size);deferred.resolve(blob)}catch(e){deferred.reject(e)}},function(r){if(r==="resizeIf"){deferred.resolve(file)}deferred.reject(r)})},function(e){deferred.reject(e)});return deferred.promise};return upload}]);(function(){ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function($parse,$timeout,$window,Upload,$http,$q){return{restrict:"AEC",require:"?ngModel",link:function link(scope,elem,attr,ngModel){linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$window,Upload,$http,$q)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(scope,elem){if(dropAvailable())elem.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function($parse,$timeout,Upload){return function(scope,elem,attr){if(dropAvailable()){var model=$parse(Upload.attrGetter("ngfDropAvailable",attr));$timeout(function(){model(scope);if(model.assign){model.assign(scope,true)}})}}}]);function linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$window,upload,$http,$q){var available=dropAvailable();var attrGetter=function attrGetter(name,scope,params){return upload.attrGetter(name,attr,scope,params)};if(attrGetter("dropAvailable")){$timeout(function(){if(scope[attrGetter("dropAvailable")]){scope[attrGetter("dropAvailable")].value=available}else{scope[attrGetter("dropAvailable")]=available}})}if(!available){if(attrGetter("ngfHideOnDropNotAvailable",scope)===true){elem.css("display","none")}return}function isDisabled(){return elem.attr("disabled")||attrGetter("ngfDropDisabled",scope)}if(attrGetter("ngfSelect")==null){upload.registerModelChangeValidator(ngModel,attr,scope)}var leaveTimeout=null;var stopPropagation=$parse(attrGetter("ngfStopPropagation"));var dragOverDelay=1;var actualDragOverClass;elem[0].addEventListener("dragover",function(evt){if(isDisabled()||!upload.shouldUpdateOn("drop",attr,scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout);if(!actualDragOverClass){actualDragOverClass="C";calculateDragOverClass(scope,attr,evt,function(clazz){actualDragOverClass=clazz;elem.addClass(actualDragOverClass);attrGetter("ngfDrag",scope,{$isDragging:true,$class:actualDragOverClass,$event:evt})})}},false);elem[0].addEventListener("dragenter",function(evt){if(isDisabled()||!upload.shouldUpdateOn("drop",attr,scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation()},false);elem[0].addEventListener("dragleave",function(evt){if(isDisabled()||!upload.shouldUpdateOn("drop",attr,scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();leaveTimeout=$timeout(function(){if(actualDragOverClass)elem.removeClass(actualDragOverClass);actualDragOverClass=null;attrGetter("ngfDrag",scope,{$isDragging:false,$event:evt})},dragOverDelay||100)},false);elem[0].addEventListener("drop",function(evt){if(isDisabled()||!upload.shouldUpdateOn("drop",attr,scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();if(actualDragOverClass)elem.removeClass(actualDragOverClass);actualDragOverClass=null;extractFilesAndUpdateModel(evt.dataTransfer,evt,"dropUrl")},false);elem[0].addEventListener("paste",function(evt){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&attrGetter("ngfEnableFirefoxPaste",scope)){evt.preventDefault()}if(isDisabled()||!upload.shouldUpdateOn("paste",attr,scope))return;extractFilesAndUpdateModel(evt.clipboardData||evt.originalEvent.clipboardData,evt,"pasteUrl")},false);if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&attrGetter("ngfEnableFirefoxPaste",scope)){elem.attr("contenteditable",true);elem.on("keypress",function(e){if(!e.metaKey&&!e.ctrlKey){e.preventDefault()}})}function extractFilesAndUpdateModel(source,evt,updateOnType){if(!source)return;var html;try{html=source&&source.getData&&source.getData("text/html")}catch(e){}extractFiles(source.items,source.files,attrGetter("ngfAllowDir",scope)!==false,attrGetter("multiple")||attrGetter("ngfMultiple",scope)).then(function(files){if(files.length){updateModel(files,evt)}else{extractFilesFromHtml(updateOnType,html).then(function(files){updateModel(files,evt)})}})}function updateModel(files,evt){upload.updateModel(ngModel,attr,scope,attrGetter("ngfChange")||attrGetter("ngfDrop"),files,evt)}function extractFilesFromHtml(updateOn,html){if(!upload.shouldUpdateOn(updateOn,attr,scope)||typeof html!=="string")return upload.rejectPromise([]);var urls=[];html.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(m,n,src){urls.push(src)});var promises=[],files=[];if(urls.length){angular.forEach(urls,function(url){promises.push(upload.urlToBlob(url).then(function(blob){files.push(blob)}))});var defer=$q.defer();$q.all(promises).then(function(){defer.resolve(files)},function(e){defer.reject(e)});return defer.promise}return upload.emptyPromise()}function calculateDragOverClass(scope,attr,evt,callback){var obj=attrGetter("ngfDragOverClass",scope,{$event:evt}),dClass="dragover";if(angular.isString(obj)){dClass=obj}else if(obj){if(obj.delay)dragOverDelay=obj.delay;if(obj.accept||obj.reject){var items=evt.dataTransfer.items;if(items==null||!items.length){dClass=obj.accept}else{var pattern=obj.pattern||attrGetter("ngfPattern",scope,{$event:evt});var len=items.length;while(len--){if(!upload.validatePattern(items[len],pattern)){dClass=obj.reject;break}else{dClass=obj.accept}}}}}callback(dClass)}function extractFiles(items,fileList,allowDir,multiple){var maxFiles=upload.getValidationAttr(attr,scope,"maxFiles");if(maxFiles==null){maxFiles=Number.MAX_VALUE}var maxTotalSize=upload.getValidationAttr(attr,scope,"maxTotalSize");if(maxTotalSize==null){maxTotalSize=Number.MAX_VALUE}var includeDir=attrGetter("ngfIncludeDir",scope);var files=[],totalSize=0;function traverseFileTree(entry,path){var defer=$q.defer();if(entry!=null){if(entry.isDirectory){var promises=[upload.emptyPromise()];if(includeDir){var file={type:"directory"};file.name=file.path=(path||"")+entry.name;files.push(file)}var dirReader=entry.createReader();var entries=[];var readEntries=function readEntries(){dirReader.readEntries(function(results){try{if(!results.length){angular.forEach(entries.slice(0),function(e){if(files.length<=maxFiles&&totalSize<=maxTotalSize){promises.push(traverseFileTree(e,(path?path:"")+entry.name+"/"))}});$q.all(promises).then(function(){defer.resolve()},function(e){defer.reject(e)})}else{entries=entries.concat(Array.prototype.slice.call(results||[],0));readEntries()}}catch(e){defer.reject(e)}},function(e){defer.reject(e)})};readEntries()}else{entry.file(function(file){try{file.path=(path?path:"")+file.name;if(includeDir){file=upload.rename(file,file.path)}files.push(file);totalSize+=file.size;defer.resolve()}catch(e){defer.reject(e)}},function(e){defer.reject(e)})}}return defer.promise}var promises=[upload.emptyPromise()];if(items&&items.length>0&&$window.location.protocol!=="file:"){for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir){continue}if(entry!=null){promises.push(traverseFileTree(entry))}}else{var f=items[i].getAsFile();if(f!=null){files.push(f);totalSize+=f.size}}if(files.length>maxFiles||totalSize>maxTotalSize||!multiple&&files.length>0)break}}else{if(fileList!=null){for(var j=0;j<fileList.length;j++){var file=fileList.item(j);if(file.type||file.size>0){files.push(file);totalSize+=file.size}if(files.length>maxFiles||totalSize>maxTotalSize||!multiple&&files.length>0)break}}}var defer=$q.defer();$q.all(promises).then(function(){if(!multiple&&!includeDir&&files.length){var i=0;while(files[i]&&files[i].type==="directory"){i++}defer.resolve([files[i]])}else{defer.resolve(files)}},function(e){defer.reject(e)});return defer.promise}}function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div&&!/Edge\/12./i.test(navigator.userAgent)}})();ngFileUpload.service("UploadExif",["UploadResize","$q",function(UploadResize,$q){var upload=UploadResize;upload.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&upload.isResizeSupported()};function applyTransform(ctx,orientation,width,height){switch(orientation){case 2:return ctx.transform(-1,0,0,1,width,0);case 3:return ctx.transform(-1,0,0,-1,width,height);case 4:return ctx.transform(1,0,0,-1,0,height);case 5:return ctx.transform(0,1,1,0,0,0);case 6:return ctx.transform(0,1,-1,0,height,0);case 7:return ctx.transform(0,-1,-1,0,height,width);case 8:return ctx.transform(0,-1,1,0,0,width)}}upload.readOrientation=function(file){var defer=$q.defer();var reader=new FileReader;var slicedFile=file.slice?file.slice(0,64*1024):file;reader.readAsArrayBuffer(slicedFile);reader.onerror=function(e){return defer.reject(e)};reader.onload=function(e){var result={orientation:1};var view=new DataView(this.result);if(view.getUint16(0,false)!==65496)return defer.resolve(result);var length=view.byteLength,offset=2;while(offset<length){var marker=view.getUint16(offset,false);offset+=2;if(marker===65505){if(view.getUint32(offset+=2,false)!==1165519206)return defer.resolve(result);var little=view.getUint16(offset+=6,false)===18761;offset+=view.getUint32(offset+4,little);var tags=view.getUint16(offset,little);offset+=2;for(var i=0;i<tags;i++){if(view.getUint16(offset+i*12,little)===274){var orientation=view.getUint16(offset+i*12+8,little);if(orientation>=2&&orientation<=8){view.setUint16(offset+i*12+8,1,little);result.fixedArrayBuffer=e.target.result}result.orientation=orientation;return defer.resolve(result)}}}else if((marker&65280)!==65280)break;else offset+=view.getUint16(offset,false)}return defer.resolve(result)};return defer.promise};function arrayBufferToBase64(buffer){var binary="";var bytes=new Uint8Array(buffer);var len=bytes.byteLength;for(var i=0;i<len;i++){binary+=String.fromCharCode(bytes[i])}return window.btoa(binary)}upload.applyExifRotation=function(file){if(file.type.indexOf("image/jpeg")!==0){return upload.emptyPromise(file)}var deferred=$q.defer();upload.readOrientation(file).then(function(result){if(result.orientation<2||result.orientation>8){return deferred.resolve(file)}upload.dataUrl(file,true).then(function(url){var canvas=document.createElement("canvas");var img=document.createElement("img");img.onload=function(){try{canvas.width=result.orientation>4?img.height:img.width;canvas.height=result.orientation>4?img.width:img.height;var ctx=canvas.getContext("2d");applyTransform(ctx,result.orientation,img.width,img.height);ctx.drawImage(img,0,0);var dataUrl=canvas.toDataURL(file.type||"image/WebP",.934);dataUrl=upload.restoreExif(arrayBufferToBase64(result.fixedArrayBuffer),dataUrl);var blob=upload.dataUrltoBlob(dataUrl,file.name);deferred.resolve(blob)}catch(e){return deferred.reject(e)}};img.onerror=function(){deferred.reject()};img.src=url},function(e){deferred.reject(e)})},function(e){deferred.reject(e)});return deferred.promise};upload.restoreExif=function(orig,resized){var ExifRestorer={};ExifRestorer.KEY_STR="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";ExifRestorer.encode64=function(input){var output="",chr1,chr2,chr3="",enc1,enc2,enc3,enc4="",i=0;do{chr1=input[i++];chr2=input[i++];chr3=input[i++];enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+this.KEY_STR.charAt(enc1)+this.KEY_STR.charAt(enc2)+this.KEY_STR.charAt(enc3)+this.KEY_STR.charAt(enc4);chr1=chr2=chr3="";enc1=enc2=enc3=enc4=""}while(i<input.length);return output};ExifRestorer.restore=function(origFileBase64,resizedFileBase64){if(origFileBase64.match("data:image/jpeg;base64,")){origFileBase64=origFileBase64.replace("data:image/jpeg;base64,","")}var rawImage=this.decode64(origFileBase64);var segments=this.slice2Segments(rawImage);var image=this.exifManipulation(resizedFileBase64,segments);return"data:image/jpeg;base64,"+this.encode64(image)};ExifRestorer.exifManipulation=function(resizedFileBase64,segments){var exifArray=this.getExifArray(segments),newImageArray=this.insertExif(resizedFileBase64,exifArray);return new Uint8Array(newImageArray)};ExifRestorer.getExifArray=function(segments){var seg;for(var x=0;x<segments.length;x++){seg=segments[x];if(seg[0]===255&seg[1]===225){return seg}}return[]};ExifRestorer.insertExif=function(resizedFileBase64,exifArray){var imageData=resizedFileBase64.replace("data:image/jpeg;base64,",""),buf=this.decode64(imageData),separatePoint=buf.indexOf(255,3),mae=buf.slice(0,separatePoint),ato=buf.slice(separatePoint),array=mae;array=array.concat(exifArray);array=array.concat(ato);return array};ExifRestorer.slice2Segments=function(rawImageArray){var head=0,segments=[];while(1){if(rawImageArray[head]===255&rawImageArray[head+1]===218){break}if(rawImageArray[head]===255&rawImageArray[head+1]===216){head+=2}else{var length=rawImageArray[head+2]*256+rawImageArray[head+3],endPoint=head+length+2,seg=rawImageArray.slice(head,endPoint);segments.push(seg);head=endPoint}if(head>rawImageArray.length){break}}return segments};ExifRestorer.decode64=function(input){var chr1,chr2,chr3="",enc1,enc2,enc3,enc4="",i=0,buf=[];var base64test=/[^A-Za-z0-9\+\/\=]/g;if(base64test.exec(input)){console.log("There were invalid base64 characters in the input text.\n"+"Valid base64 characters are A-Z, a-z, 0-9, "+", "/',and "="\n'+"Expect errors in decoding.")}input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{enc1=this.KEY_STR.indexOf(input.charAt(i++));enc2=this.KEY_STR.indexOf(input.charAt(i++));enc3=this.KEY_STR.indexOf(input.charAt(i++));enc4=this.KEY_STR.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;buf.push(chr1);if(enc3!==64){buf.push(chr2)}if(enc4!==64){buf.push(chr3)}chr1=chr2=chr3="";enc1=enc2=enc3=enc4=""}while(i<input.length);return buf};return ExifRestorer.restore(orig,resized)};return upload}])}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(254);module.exports="ngFileUpload"},function(module,exports,__webpack_require__){"use strict";(function($){!function(){"use strict";function a(){this.defaults={scrollButtons:{enable:!0},axis:"yx"},$.mCustomScrollbar.defaults.scrollButtons=this.defaults.scrollButtons,$.mCustomScrollbar.defaults.axis=this.defaults.axis,this.$get=function(){return{defaults:this.defaults}}}function b(a,b,c,d){c.mCustomScrollbar("destroy");var e={};d.ngScrollbarsConfig&&(e=d.ngScrollbarsConfig);for(var f in a){if(a.hasOwnProperty(f))switch(f){case"scrollButtons":e.hasOwnProperty(f)||(b.scrollButtons=a[f]);break;case"axis":e.hasOwnProperty(f)||(b.axis=a[f]);break;default:e.hasOwnProperty(f)||(e[f]=a[f])}}c.mCustomScrollbar(e)}function c(a){return{scope:{ngScrollbarsConfig:"=?",ngScrollbarsUpdate:"=?",element:"=?"},link:function link(c,d,e){c.elem=d;var f=a.defaults,g=$.mCustomScrollbar.defaults;c.ngScrollbarsUpdate=function(){d.mCustomScrollbar.apply(d,arguments)},c.$watch("ngScrollbarsConfig",function(a,e){void 0!==a&&b(f,g,d,c)}),b(f,g,d,c)}}}angular.module("ngScrollbars",[]).provider("ScrollBars",a).directive("ngScrollbars",c),a.$inject=[],c.$inject=["ScrollBars"]}()}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";!function(){"use strict";angular.module("as.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden",dragging:"as-sortable-dragging"})}(),function(){"use strict";var mainModule=angular.module("as.sortable");mainModule.factory("$helper",["$document","$window",function($document,$window){return{height:function height(element){return element[0].getBoundingClientRect().height},width:function width(element){return element[0].getBoundingClientRect().width},offset:function offset(element,scrollableContainer){var boundingClientRect=element[0].getBoundingClientRect();return scrollableContainer||(scrollableContainer=$document[0].documentElement),{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||scrollableContainer.scrollTop-scrollableContainer.offsetTop),left:boundingClientRect.left+($window.pageXOffset||scrollableContainer.scrollLeft-scrollableContainer.offsetLeft)}},eventObj:function eventObj(event){var obj=event;return void 0!==event.targetTouches?obj=event.targetTouches.item(0):void 0!==event.originalEvent&&void 0!==event.originalEvent.targetTouches&&(obj=event.originalEvent.targetTouches.item(0)),obj},isTouchInvalid:function isTouchInvalid(event){var touchInvalid=!1;return void 0!==event.touches&&event.touches.length>1?touchInvalid=!0:void 0!==event.originalEvent&&void 0!==event.originalEvent.touches&&event.originalEvent.touches.length>1&&(touchInvalid=!0),touchInvalid},positionStarted:function positionStarted(event,target,scrollableContainer){var pos={};return pos.offsetX=event.pageX-this.offset(target,scrollableContainer).left,pos.offsetY=event.pageY-this.offset(target,scrollableContainer).top,pos.startX=pos.lastX=event.pageX,pos.startY=pos.lastY=event.pageY,pos.nowX=pos.nowY=pos.distX=pos.distY=pos.dirAx=0,pos.dirX=pos.dirY=pos.lastDirX=pos.lastDirY=pos.distAxX=pos.distAxY=0,pos},calculatePosition:function calculatePosition(pos,event){pos.lastX=pos.nowX,pos.lastY=pos.nowY,pos.nowX=event.pageX,pos.nowY=event.pageY,pos.distX=pos.nowX-pos.lastX,pos.distY=pos.nowY-pos.lastY,pos.lastDirX=pos.dirX,pos.lastDirY=pos.dirY,pos.dirX=0===pos.distX?0:pos.distX>0?1:-1,pos.dirY=0===pos.distY?0:pos.distY>0?1:-1;var newAx=Math.abs(pos.distX)>Math.abs(pos.distY)?1:0;pos.dirAx!==newAx?(pos.distAxX=0,pos.distAxY=0):(pos.distAxX+=Math.abs(pos.distX),0!==pos.dirX&&pos.dirX!==pos.lastDirX&&(pos.distAxX=0),pos.distAxY+=Math.abs(pos.distY),0!==pos.dirY&&pos.dirY!==pos.lastDirY&&(pos.distAxY=0)),pos.dirAx=newAx},movePosition:function movePosition(event,element,pos,container,containerPositioning,scrollableContainer){var bounds,useRelative="relative"===containerPositioning;element.x=event.pageX-pos.offsetX,element.y=event.pageY-pos.offsetY,container&&(bounds=this.offset(container,scrollableContainer),useRelative&&(element.x-=bounds.left,element.y-=bounds.top,bounds.left=0,bounds.top=0),element.x<bounds.left?element.x=bounds.left:element.x>=bounds.width+bounds.left-this.offset(element).width&&(element.x=bounds.width+bounds.left-this.offset(element).width),element.y<bounds.top?element.y=bounds.top:element.y>=bounds.height+bounds.top-this.offset(element).height&&(element.y=bounds.height+bounds.top-this.offset(element).height)),element.css({left:element.x+"px",top:element.y+"px"}),this.calculatePosition(pos,event)},dragItem:function dragItem(item){return{index:item.index(),parent:item.sortableScope,source:item,targetElement:null,targetElementOffset:null,sourceInfo:{index:item.index(),itemScope:item.itemScope,sortableScope:item.sortableScope},canMove:function canMove(itemPosition,targetElement,targetElementOffset){return this.targetElement!==targetElement?(this.targetElement=targetElement,this.targetElementOffset=targetElementOffset,!0):itemPosition.dirX*(targetElementOffset.left-this.targetElementOffset.left)>0||itemPosition.dirY*(targetElementOffset.top-this.targetElementOffset.top)>0?(this.targetElementOffset=targetElementOffset,!0):!1},moveTo:function moveTo(parent,index){this.parent=parent,this.isSameParent()&&this.source.index()<index&&!this.sourceInfo.sortableScope.cloning&&(index-=1),this.index=index},isSameParent:function isSameParent(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function isOrderChanged(){return this.index!==this.sourceInfo.index},eventArgs:function eventArgs(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function apply(){this.sourceInfo.sortableScope.cloning?this.parent.options.clone||this.parent.insertItem(this.index,angular.copy(this.source.modelValue)):(this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),(this.parent.options.allowDuplicates||this.parent.modelValue.indexOf(this.source.modelValue)<0)&&this.parent.insertItem(this.index,this.source.modelValue))}}},noDrag:function noDrag(element){return void 0!==element.attr("no-drag")||void 0!==element.attr("data-no-drag")},findAncestor:function findAncestor(el,selector){el=el[0];for(var matches=Element.matches||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;(el=el.parentElement)&&!matches.call(el,selector);){}return el?angular.element(el):angular.element(document.body)}}}])}(),function(){"use strict";var mainModule=angular.module("as.sortable");mainModule.controller("as.sortable.sortableController",["$scope",function($scope){this.scope=$scope,$scope.modelValue=null,$scope.callbacks=null,$scope.type="sortable",$scope.options={longTouch:!1},$scope.isDisabled=!1,$scope.insertItem=function(index,itemData){$scope.options.allowDuplicates?$scope.modelValue.splice(index,0,angular.copy(itemData)):$scope.modelValue.splice(index,0,itemData)},$scope.removeItem=function(index){var removedItem=null;return index>-1&&(removedItem=$scope.modelValue.splice(index,1)[0]),removedItem},$scope.isEmpty=function(){return $scope.modelValue&&0===$scope.modelValue.length},$scope.accept=function(sourceItemHandleScope,destScope,destItemScope){return $scope.callbacks.accept(sourceItemHandleScope,destScope,destItemScope)}}]),mainModule.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"as.sortable.sortableController",link:function link(scope,element,attrs,ngModelController){var ngModel,callbacks;ngModel=ngModelController,ngModel&&(ngModel.$render=function(){scope.modelValue=ngModel.$modelValue},scope.element=element,element.data("_scope",scope),callbacks={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragMove:null,dragCancel:null,dragEnd:null},callbacks.accept=function(sourceItemHandleScope,destSortableScope,destItemScope){return!0},callbacks.orderChanged=function(event){},callbacks.itemMoved=function(event){},callbacks.dragStart=function(event){},callbacks.dragMove=angular.noop,callbacks.dragCancel=function(event){},callbacks.dragEnd=function(event){},scope.$watch(attrs.asSortable,function(newVal,oldVal){angular.forEach(newVal,function(value,key){callbacks[key]?"function"==typeof value&&(callbacks[key]=value):scope.options[key]=value}),scope.callbacks=callbacks},!0),angular.isDefined(attrs.isDisabled)&&scope.$watch(attrs.isDisabled,function(newVal,oldVal){angular.isUndefined(newVal)||(scope.isDisabled=newVal)},!0))}}})}(),function(){"use strict";function isParent(possibleParent,elem){return elem&&"HTML"!==elem.nodeName?elem.parentNode===possibleParent?!0:isParent(possibleParent,elem.parentNode):!1}var mainModule=angular.module("as.sortable");mainModule.controller("as.sortable.sortableItemHandleController",["$scope",function($scope){this.scope=$scope,$scope.itemScope=null,$scope.type="handle"}]),mainModule.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document","$timeout",function(sortableConfig,$helper,$window,$document,$timeout){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"as.sortable.sortableItemHandleController",link:function link(scope,element,attrs,itemController){function insertBefore(targetElement,targetScope){"table-row"!==placeHolder.css("display")&&placeHolder.css("display","block"),targetScope.sortableScope.options.clone||(targetElement[0].parentNode.insertBefore(placeHolder[0],targetElement[0]),dragItemInfo.moveTo(targetScope.sortableScope,targetScope.index()))}function insertAfter(targetElement,targetScope){"table-row"!==placeHolder.css("display")&&placeHolder.css("display","block"),targetScope.sortableScope.options.clone||(targetElement.after(placeHolder),dragItemInfo.moveTo(targetScope.sortableScope,targetScope.index()+1))}function fetchScope(element){for(var scope;!scope&&element.length;){scope=element.data("_scope"),scope||(element=element.parent())}return scope}function rollbackDragChanges(){scope.itemScope.sortableScope.cloning||placeElement.replaceWith(scope.itemScope.element),placeHolder.remove(),dragElement.remove(),dragElement=null,dragHandled=!1,containment.css("cursor",""),containment.removeClass("as-sortable-un-selectable")}var dragElement,placeHolder,placeElement,itemPosition,dragItemInfo,containment,containerPositioning,dragListen,scrollableContainer,dragStart,dragMove,dragEnd,dragCancel,isDraggable,placeHolderIndex,bindDrag,unbindDrag,bindEvents,unBindEvents,hasTouch,isIOS,longTouchStart,longTouchCancel,longTouchTimer,dragHandled,createPlaceholder,isPlaceHolderPresent,escapeListen,isDisabled=!1,isLongTouch=!1;hasTouch="ontouchstart"in $window,isIOS=/iPad|iPhone|iPod/.test($window.navigator.userAgent)&&!$window.MSStream,sortableConfig.handleClass&&element.addClass(sortableConfig.handleClass),scope.itemScope=itemController.scope,element.data("_scope",scope),scope.$watchGroup(["sortableScope.isDisabled","sortableScope.options.longTouch"],function(newValues){isDisabled!==newValues[0]?(isDisabled=newValues[0],isDisabled?unbindDrag():bindDrag()):isLongTouch!==newValues[1]?(isLongTouch=newValues[1],unbindDrag(),bindDrag()):bindDrag()}),scope.$on("$destroy",function(){angular.element($document[0].body).unbind("keydown",escapeListen)}),createPlaceholder=function createPlaceholder(itemScope){return"function"==typeof scope.sortableScope.options.placeholder?angular.element(scope.sortableScope.options.placeholder(itemScope)):"string"==typeof scope.sortableScope.options.placeholder?angular.element(scope.sortableScope.options.placeholder):angular.element($document[0].createElement(itemScope.element.prop("tagName")))},dragListen=function dragListen(event){var startPosition,unbindMoveListen=function unbindMoveListen(){angular.element($document).unbind("mousemove",moveListen),angular.element($document).unbind("touchmove",moveListen),element.unbind("mouseup",unbindMoveListen),element.unbind("touchend",unbindMoveListen),element.unbind("touchcancel",unbindMoveListen)},moveListen=function moveListen(e){e.preventDefault();var eventObj=$helper.eventObj(e);startPosition||(startPosition={clientX:eventObj.clientX,clientY:eventObj.clientY}),Math.abs(eventObj.clientX-startPosition.clientX)+Math.abs(eventObj.clientY-startPosition.clientY)>10&&(unbindMoveListen(),dragStart(event))};angular.element($document).bind("mousemove",moveListen),angular.element($document).bind("touchmove",moveListen),element.bind("mouseup",unbindMoveListen),element.bind("touchend",unbindMoveListen),element.bind("touchcancel",unbindMoveListen),event.stopPropagation()},dragStart=function dragStart(event){var eventObj,tagName;(hasTouch||2!==event.button&&3!==event.which)&&(hasTouch&&$helper.isTouchInvalid(event)||!dragHandled&&isDraggable(event)&&(dragHandled=!0,event.preventDefault(),eventObj=$helper.eventObj(event),scope.sortableScope=scope.sortableScope||scope.itemScope.sortableScope,scope.callbacks=scope.callbacks||scope.itemScope.callbacks,scope.itemScope.sortableScope.options.clone||scope.itemScope.sortableScope.options.ctrlClone&&event.ctrlKey?scope.itemScope.sortableScope.cloning=!0:scope.itemScope.sortableScope.cloning=!1,scrollableContainer=angular.element($document[0].querySelector(scope.sortableScope.options.scrollableContainer)).length>0?$document[0].querySelector(scope.sortableScope.options.scrollableContainer):$document[0].documentElement,containment=scope.sortableScope.options.containment?$helper.findAncestor(element,scope.sortableScope.options.containment):angular.element($document[0].body),containment.css("cursor","move"),containment.css("cursor","-webkit-grabbing"),containment.css("cursor","-moz-grabbing"),containment.addClass("as-sortable-un-selectable"),containerPositioning=scope.sortableScope.options.containerPositioning||"absolute",dragItemInfo=$helper.dragItem(scope),tagName=scope.itemScope.element.prop("tagName"),dragElement=angular.element($document[0].createElement(scope.sortableScope.element.prop("tagName"))).addClass(scope.sortableScope.element.attr("class")).addClass(sortableConfig.dragClass),dragElement.css("width",$helper.width(scope.itemScope.element)+"px"),dragElement.css("height",$helper.height(scope.itemScope.element)+"px"),placeHolder=createPlaceholder(scope.itemScope).addClass(sortableConfig.placeHolderClass).addClass(scope.sortableScope.options.additionalPlaceholderClass),placeHolder.css("width",$helper.width(scope.itemScope.element)+"px"),placeHolder.css("height",$helper.height(scope.itemScope.element)+"px"),placeElement=angular.element($document[0].createElement(tagName)),sortableConfig.hiddenClass&&placeElement.addClass(sortableConfig.hiddenClass),itemPosition=$helper.positionStarted(eventObj,scope.itemScope.element,scrollableContainer),scope.itemScope.sortableScope.options.clone||scope.itemScope.element.after(placeHolder),scope.itemScope.sortableScope.cloning?dragElement.append(scope.itemScope.element.clone()):(scope.itemScope.element.after(placeElement),dragElement.append(scope.itemScope.element)),containment.append(dragElement),$helper.movePosition(eventObj,dragElement,itemPosition,containment,containerPositioning,scrollableContainer),scope.sortableScope.$apply(function(){scope.callbacks.dragStart(dragItemInfo.eventArgs())}),bindEvents()))},isDraggable=function isDraggable(event){var elementClicked,sourceScope,isDraggable;for(elementClicked=angular.element(event.target),sourceScope=fetchScope(elementClicked),isDraggable=sourceScope&&"handle"===sourceScope.type;isDraggable&&elementClicked[0]!==element[0];){$helper.noDrag(elementClicked)&&(isDraggable=!1),elementClicked=elementClicked.parent()}return isDraggable},dragMove=function dragMove(event){var eventObj,targetX,targetY,targetScope,targetElement;if((!hasTouch||!$helper.isTouchInvalid(event))&&dragHandled&&dragElement){if(event.preventDefault(),eventObj=$helper.eventObj(event),scope.callbacks.dragMove!==angular.noop&&scope.sortableScope.$apply(function(){scope.callbacks.dragMove(itemPosition,containment,eventObj)}),targetX=eventObj.pageX-$document[0].documentElement.scrollLeft,targetY=eventObj.pageY-($window.pageYOffset||$document[0].documentElement.scrollTop),dragElement.addClass(sortableConfig.hiddenClass),targetElement=angular.element($document[0].elementFromPoint(targetX,targetY)),dragElement.removeClass(sortableConfig.hiddenClass),$helper.movePosition(eventObj,dragElement,itemPosition,containment,containerPositioning,scrollableContainer),dragElement.addClass(sortableConfig.dragging),targetScope=fetchScope(targetElement),!targetScope||!targetScope.type)return;if("handle"===targetScope.type&&(targetScope=targetScope.itemScope),"item"!==targetScope.type&&"sortable"!==targetScope.type)return;if("item"===targetScope.type&&targetScope.accept(scope,targetScope.sortableScope,targetScope)){targetElement=targetScope.element;var targetElementOffset=$helper.offset(targetElement,scrollableContainer);if(!dragItemInfo.canMove(itemPosition,targetElement,targetElementOffset))return;var placeholderIndex=placeHolderIndex(targetScope.sortableScope.element);0>placeholderIndex?insertBefore(targetElement,targetScope):placeholderIndex<=targetScope.index()?insertAfter(targetElement,targetScope):insertBefore(targetElement,targetScope)}"sortable"===targetScope.type&&targetScope.accept(scope,targetScope)&&!isParent(targetScope.element[0],targetElement[0])&&(isPlaceHolderPresent(targetElement)||targetScope.options.clone||(targetElement[0].appendChild(placeHolder[0]),dragItemInfo.moveTo(targetScope,targetScope.modelValue.length)))}},placeHolderIndex=function placeHolderIndex(targetElement){var itemElements,i;if(targetElement.hasClass(sortableConfig.placeHolderClass))return 0;for(itemElements=targetElement.children(),i=0;i<itemElements.length;i+=1){if(angular.element(itemElements[i]).hasClass(sortableConfig.placeHolderClass))return i}return-1},isPlaceHolderPresent=function isPlaceHolderPresent(targetElement){return placeHolderIndex(targetElement)>=0},dragEnd=function dragEnd(event){dragHandled&&(event.preventDefault(),dragElement&&(rollbackDragChanges(),dragItemInfo.apply(),scope.sortableScope.$apply(function(){dragItemInfo.isSameParent()?dragItemInfo.isOrderChanged()&&scope.callbacks.orderChanged(dragItemInfo.eventArgs()):scope.callbacks.itemMoved(dragItemInfo.eventArgs())}),scope.sortableScope.$apply(function(){scope.callbacks.dragEnd(dragItemInfo.eventArgs())}),dragItemInfo=null),unBindEvents())},dragCancel=function dragCancel(event){dragHandled&&(event.preventDefault(),dragElement&&(rollbackDragChanges(),scope.sortableScope.$apply(function(){scope.callbacks.dragCancel(dragItemInfo.eventArgs())}),dragItemInfo=null),unBindEvents())},bindDrag=function bindDrag(){hasTouch&&(isLongTouch?isIOS?(element.bind("touchstart",longTouchStart),element.bind("touchend",longTouchCancel),element.bind("touchmove",longTouchCancel)):element.bind("contextmenu",dragListen):element.bind("touchstart",dragListen)),element.bind("mousedown",dragListen)},unbindDrag=function unbindDrag(){element.unbind("touchstart",longTouchStart),element.unbind("touchend",longTouchCancel),element.unbind("touchmove",longTouchCancel),element.unbind("contextmenu",dragListen),element.unbind("touchstart",dragListen),element.unbind("mousedown",dragListen)},longTouchStart=function longTouchStart(event){longTouchTimer=$timeout(function(){dragListen(event)},500)},longTouchCancel=function longTouchCancel(){$timeout.cancel(longTouchTimer)},escapeListen=function escapeListen(event){27===event.keyCode&&dragCancel(event)},angular.element($document[0].body).bind("keydown",escapeListen),bindEvents=function bindEvents(){angular.element($document).bind("touchmove",dragMove),angular.element($document).bind("touchend",dragEnd),angular.element($document).bind("touchcancel",dragCancel),angular.element($document).bind("mousemove",dragMove),angular.element($document).bind("mouseup",dragEnd)},unBindEvents=function unBindEvents(){angular.element($document).unbind("touchend",dragEnd),angular.element($document).unbind("touchcancel",dragCancel),angular.element($document).unbind("touchmove",dragMove),angular.element($document).unbind("mouseup",dragEnd),angular.element($document).unbind("mousemove",dragMove)}}}}])}(),function(){"use strict";var mainModule=angular.module("as.sortable");mainModule.controller("as.sortable.sortableItemController",["$scope",function($scope){this.scope=$scope,$scope.sortableScope=null,$scope.modelValue=null,$scope.type="item",$scope.index=function(){return $scope.$index},$scope.itemData=function(){return $scope.sortableScope.modelValue[$scope.$index]}}]),mainModule.directive("asSortableItem",["sortableConfig",function(sortableConfig){return{require:["^asSortable","?ngModel"],restrict:"A",controller:"as.sortable.sortableItemController",link:function link(scope,element,attrs,ctrl){var sortableController=ctrl[0],ngModelController=ctrl[1];sortableConfig.itemClass&&element.addClass(sortableConfig.itemClass),scope.sortableScope=sortableController.scope,ngModelController?ngModelController.$render=function(){scope.modelValue=ngModelController.$modelValue}:scope.modelValue=sortableController.scope.modelValue[scope.$index],scope.element=element,element.data("_scope",scope)}}}])}()},function(module,exports,__webpack_require__){"use strict";(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function isControl(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey||e.ctrlKey||e.altKey)return true;return false},isFunctionKey:function isFunctionKey(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function isVerticalMovement(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function isHorizontalMovement(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function toSeparator(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];if(sep)return sep;return KEY[k]?undefined:k}};function isNil(value){return angular.isUndefined(value)||value===null}if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}}if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem}else{elem=elem.parentElement}}return false}}var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,skipFocusser:false,dropdownPosition:"auto",removeSelected:true,resetSearchInput:true,generateId:function generateId(){return latestId++},appendToBody:false,spinnerEnabled:false,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:true}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function link(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function templateUrl(tElement){tElement.addClass("ui-select-choices");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function compile(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy;var groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll(".ui-select-choices-group");if(groups.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var parserResult=RepeatParser.parse(tAttrs.repeat);var choices=tElement.querySelectorAll(".ui-select-choices-row");if(choices.length!==1){throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length)}choices.attr("ng-repeat",parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open");var rowsInner=tElement.querySelectorAll(".ui-select-choices-row-inner");if(rowsInner.length!==1){throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length)}rowsInner.attr("uis-transclude-append","");var clickTarget=$window.document.addEventListener?choices:rowsInner;clickTarget.attr("ng-click","$select.select("+parserResult.itemName+",$select.skipFocusser,$event)");return function link(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.minimumInputLength=parseInt(attrs.minimumInputLength)||0;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;scope.$watch("$select.search",function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;if(!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength){$select.refresh(attrs.refresh)}else{$select.items=[]}});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay});scope.$watch("$select.open",function(open){if(open){tElement.attr("role","listbox");$select.refresh(attrs.refresh)}else{element.removeAttr("role")}})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.paste=uiSelectConfig.paste;ctrl.resetSearchInput=uiSelectConfig.resetSearchInput;ctrl.refreshing=false;ctrl.spinnerEnabled=uiSelectConfig.spinnerEnabled;ctrl.spinnerClass=uiSelectConfig.spinnerClass;ctrl.removeSelected=uiSelectConfig.removeSelected;ctrl.closeOnSelect=true;ctrl.skipFocusser=false;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition="auto";ctrl.focusser=undefined;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.$element=$element;ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}();ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(ctrl.searchInput.length!==1){throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length)}ctrl.isEmpty=function(){return isNil(ctrl.selected)||ctrl.selected===""||ctrl.multiple&&ctrl.selected.length===0};function _findIndex(collection,predicate,thisArg){if(collection.findIndex){return collection.findIndex(predicate,thisArg)}else{var list=Object(collection);var length=list.length>>>0;var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list)){return i}}return-1}}function _resetSearchInput(){if(ctrl.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected)}}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j])}}}return result}ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0}var container=$element.querySelectorAll(".ui-select-choices-content");var searchInput=$element.querySelectorAll(".ui-select-search");if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function animateHandler(elem,phase){if(phase==="start"&&ctrl.items.length===0){ctrl.$animate.off("removeClass",searchInput[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}else if(phase==="close"){ctrl.$animate.off("enter",container[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}};if(ctrl.items.length>0){ctrl.$animate.on("enter",container[0],animateHandler)}else{ctrl.$animate.on("removeClass",searchInput[0],animateHandler)}}else{$timeout(function(){ctrl.focusSearchInput(initSearchValue);if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible()}})}}else if(ctrl.open&&!ctrl.searchEnabled){ctrl.close()}};ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus()};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item)}else{ctrl.groups.push({name:groupName,items:[item]})}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups)}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn)}}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items||[]}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function createArrayFromObject(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.multiple||!ctrl.removeSelected){ctrl.setItemsFn(data)}else{if(data!==undefined&&data!==null){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)}):!angular.equals(i,selectedItems)});ctrl.setItemsFn(filteredItems)}}if(ctrl.dropdownPosition==="auto"||ctrl.dropdownPosition==="up"){$scope.calculateDropdownPos()}$scope.$broadcast("uis:refresh")};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[]}else{if(!angular.isArray(items)){throw uiSelectMinErr("items","Expected an array but got '{0}'.",items)}else{ctrl.refreshItems(items);if(angular.isDefined(ctrl.ngModel.$modelValue)){ctrl.ngModel.$modelValue=null}}}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise)}_refreshDelayPromise=$timeout(function(){if($scope.$select.search.length>=$scope.$select.minimumInputLength){var refreshPromise=$scope.$eval(refreshAttr);if(refreshPromise&&angular.isFunction(refreshPromise.then)&&!ctrl.refreshing){ctrl.refreshing=true;refreshPromise.finally(function(){ctrl.refreshing=false})}}},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false}var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex==ctrl.activeIndex;if(!isActive||itemIndex<0){return false}if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback)}return isActive};var _isItemSelected=function _isItemSelected(item){return ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0};var disabledItems=[];function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);if(isDisabled&&disabledItemIndex===-1){disabledItems.push(item)}if(!isDisabled&&disabledItemIndex>-1){disabledItems.splice(disabledItemIndex,1)}}function _isItemDisabled(item){return disabledItems.indexOf(item)>-1}ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var item=itemScope[ctrl.itemProperty];var itemIndex=ctrl.items.indexOf(item);var isDisabled=false;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return false;if(ctrl.multiple){isDisabled=_isItemSelected(item)}if(!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)){isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression)}_updateItemDisabled(item,isDisabled)}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(isNil(item)||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){ctrl.clickTriggeredSelect=false;if($event&&($event.type==="click"||$event.type==="touchend")&&item)ctrl.clickTriggeredSelect=true;if(ctrl.tagging.isActivated&&ctrl.clickTriggeredSelect===false){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){if(item===undefined){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search}if(!item||angular.equals(ctrl.items[0],item)){return}}else{item=ctrl.items[ctrl.activeIndex]}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==="string"){item=ctrl.tagging.fct(item);if(!item)return}else if(typeof item==="string"){item=item.replace(ctrl.taggingLabel,"").trim()}}}if(_isItemSelected(item)){ctrl.close(skipFocusser);return}}_resetSearchInput();$scope.$broadcast("uis:select",item);if(ctrl.closeOnSelect){ctrl.close(skipFocusser)}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();ctrl.open=false;_resetSearchInput();$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(null);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else{ctrl.activate()}};ctrl.isLocked=function(){return false};$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&ctrl.lockChoiceExpression!==""},_initaliseLockedChoices);function _initaliseLockedChoices(doInitalise){if(!doInitalise)return;var lockedItems=[];function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);if(isLocked&&lockedItemIndex===-1){lockedItems.push(item)}if(!isLocked&&lockedItemIndex>-1){lockedItems.splice(lockedItemIndex,1)}}function _isItemlocked(item){return lockedItems.indexOf(item)>-1}ctrl.isLocked=function(itemScope,itemIndex){var isLocked=false,item=ctrl.selected[itemIndex];if(item){if(itemScope){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);_updateItemLocked(item,isLocked)}else{isLocked=_isItemlocked(item)}}return isLocked}}var sizeWatch=null;var updaterScheduled=false;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.$element[0],calculateContainerWidth=function calculateContainerWidth(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function updateIfVisible(containerWidth){if(containerWidth===0){return false}var inputWidth=containerWidth-input.offsetLeft;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(function(){if(!updaterScheduled){updaterScheduled=true;$scope.$$postDigest(function(){updaterScheduled=false;if(updateIfVisible(calculateContainerWidth())){sizeWatch();sizeWatch=null}})}},angular.noop)}})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){var idx=++ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idx])&&idx<ctrl.items.length){ctrl.activeIndex=++idx}}break;case KEY.UP:var minActiveIndex=ctrl.search.length===0&&ctrl.tagging.isActivated?-1:0;if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>minActiveIndex){var idxmin=--ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idxmin])&&idxmin>minActiveIndex){ctrl.activeIndex=--idxmin}}break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser)}else{ctrl.activate(false,true)}break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)){e.preventDefault();e.stopPropagation()}$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){if(!_handleDropDownSelection(key)&&!ctrl.searchEnabled){e.preventDefault();e.stopPropagation()}if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true}}}if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem)}if(newItem)ctrl.select(newItem,true)})}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible()}if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data;if(window.clipboardData&&window.clipboardData.getData){data=window.clipboardData.getData("Text")}else{data=(e.originalEvent||e).clipboardData.getData("text/plain")}data=ctrl.search+data;if(data&&data.length>0){if(ctrl.taggingTokens.isActivated){var items=[];for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break}}if(items.length===0){items=[data]}var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;if(newItem){ctrl.select(newItem,true)}});ctrl.search=oldsearch||EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}else if(ctrl.paste){ctrl.paste(data);ctrl.search=EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1){throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length)}if(ctrl.activeIndex<0){return}var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)container[0].scrollTop=0;else container[0].scrollTop-=highlighted.clientHeight-posY}}var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput()},50);angular.element($window).bind("resize",onResize);$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste");angular.element($window).off("resize",onResize)});$scope.$watch("$select.activeIndex",function(activeIndex){if(activeIndex)$element.find("input").attr("aria-activedescendant","ui-select-choices-row-"+ctrl.generatedId+"-"+activeIndex)});$scope.$watch("$select.open",function(open){if(!open)$element.find("input").removeAttr("aria-activedescendant")})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function templateUrl(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function compile(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined;tElement.attr("ng-class",combined)}if(angular.isDefined(tAttrs.multiple))tElement.append("<ui-select-multiple/>").removeAttr("multiple");else tElement.append("<ui-select-single/>");if(tAttrs.inputId)tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)()}else{return uiSelectConfig.closeOnSelect}}();scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=skipFocusser!==undefined?skipFocusser:uiSelectConfig.skipFocusser});$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};if(attrs.tabindex){attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")})}scope.$watch(function(){return scope.$eval(attrs.searchEnabled)},function(newVal){$select.searchEnabled=newVal!==undefined?newVal:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable});attrs.$observe("backspaceReset",function(){var backspaceReset=scope.$eval(attrs.backspaceReset);$select.backspaceReset=backspaceReset!==undefined?backspaceReset:true});attrs.$observe("limit",function(){$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):undefined});scope.$watch("removeSelected",function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=removeSelected!==undefined?removeSelected:uiSelectConfig.removeSelected});attrs.$observe("disabled",function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true});attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)});attrs.$observe("tagging",function(){if(attrs.tagging!==undefined){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined}}else{$select.tagging={isActivated:false,fct:undefined}}});attrs.$observe("taggingLabel",function(){if(attrs.tagging!==undefined){if(attrs.taggingLabel==="false"){$select.taggingLabel=false}else{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:"(new)"}}});attrs.$observe("taggingTokens",function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});attrs.$observe("spinnerEnabled",function(){var spinnerEnabled=scope.$eval(attrs.spinnerEnabled);$select.spinnerEnabled=spinnerEnabled!==undefined?spinnerEnabled:uiSelectConfig.spinnerEnabled});attrs.$observe("spinnerClass",function(){var spinnerClass=attrs.spinnerClass;$select.spinnerClass=spinnerClass!==undefined?attrs.spinnerClass:uiSelectConfig.spinnerClass});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus()})}if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})})}function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target)}else{contains=element[0].contains(e.target)}if(!contains&&!$select.clickTriggeredSelect){var skipFocusser;if(!$select.skipFocusser){var focusableControls=["input","button","textarea","select"];var targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase())}else{skipFocusser=true}$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(transcludedMatch.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length)}element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(transcludedChoices.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length)}element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll(".ui-select-no-choice");transcludedNoChoice.removeAttr("ui-select-no-choice");transcludedNoChoice.removeAttr("data-ui-select-no-choice");if(transcludedNoChoice.length==1){element.querySelectorAll(".ui-select-no-choice").replaceWith(transcludedNoChoice)}});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){if(isOpen){positionDropdown()}else{resetDropdown()}});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(placeholder===null){return}placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth;$select.setFocus()}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){if($select.dropdownPosition==="auto"||$select.dropdownPosition==="up"){scope.calculateDropdownPos()}});var setDropdownPosUp=function setDropdownPosUp(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=offsetDropdown.height*-1+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function setDropdownPosDown(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};var calculateDropdownPosAfterAnimation=function calculateDropdownPosAfterAnimation(){$timeout(function(){if($select.dropdownPosition==="up"){setDropdownPosUp()}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown)}else{setDropdownPosDown(offset,offsetDropdown)}}dropdown[0].style.opacity=1})};var opened=false;scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(dropdown.length===0){return}if($select.search===""&&!opened){dropdown[0].style.opacity=0;opened=true}if(!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=true;$select.$animate.on("enter",dropdown,function(elem,phase){if(phase==="close"&&needsCalculated){calculateDropdownPosAfterAnimation();needsCalculated=false}})}else{calculateDropdownPosAfterAnimation()}}else{if(dropdown===null||dropdown.length===0){return}dropdown[0].style.opacity=0;dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function templateUrl(tElement){tElement.addClass("ui-select-match");var parent=tElement.parent();var theme=getAttribute(parent,"theme")||uiSelectConfig.theme;var multi=angular.isDefined(getAttribute(parent,"multiple"));return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function link(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=placeholder!==undefined?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=angular.isDefined(allow)?allow===""?true:allow.toLowerCase()==="true":false}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput()}}};function getAttribute(elem,attribute){if(elem[0].hasAttribute(attribute))return elem.attr(attribute);if(elem[0].hasAttribute("data-"+attribute))return elem.attr("data-"+attribute);if(elem[0].hasAttribute("x-"+attribute))return elem.attr("x-"+attribute)}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;if(angular.isUndefined($select.selected))$select.selected=[];$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){if($select.refreshItems){$select.refreshItems()}if($select.sizeSearchInput){$select.sizeSearchInput()}};ctrl.removeChoice=function(index){if($select.isLocked(null,index))return false;var removedChoice=$select.selected[index];var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel();return true};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function link(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.focusInput=$select.searchInput;ngModel.$isEmpty=function(value){return!value||value.length===0};ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function checkFnMultiple(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp);var matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName){if(matches&&matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k])}}}return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){if(angular.isDefined(ngModel.$modelValue)){ngModel.$modelValue=null}$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(isNil(ngModel.$viewValue)){ngModel.$viewValue=[]}else{throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue)}}$select.selected=ngModel.$viewValue;$selectMultiple.refreshComponent();scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit){return}$select.selected.push(item);var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:$select.parserResult.modelMapper(scope,locals)})});$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key)}if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false}else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){if($selectMultiple.removeChoice(curr)){return prev}else{return curr}}else{return last}break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}else return false}}newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true}$select.searchInput.on("keyup",function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0})}if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return}$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter("filter")(items,{isTag:true});if(tagItems.length>0){tagItem=tagItems[0]}if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);if(stashArr.some(function(origItem){return angular.equals(origItem,newItem)})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)})){scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items});return}if(newItem)newItem.isTag=true}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});if(tagItems.length>0){tagItem=tagItems[0]}item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return}if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length)}return}}if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1)}else{items=[];if(newItem)items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;if($select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag);if(newItem){$select.items.unshift(newItem);$select.groups.unshift({name:"",items:[newItem],tagging:true})}}})}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false}var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false}return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+" "+$select.taggingLabel===needle){dupeIndex=i}}else{var mockObj=tempArr[i];if(angular.isObject(mockObj)){mockObj.isTag=true}if(angular.equals(mockObj,needle)){dupeIndex=i}}}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectNoChoice",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function templateUrl(tElement){tElement.addClass("ui-select-no-choice");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/no-choice.tpl.html"}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function link(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){if(isNil(inputValue)){return inputValue}var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){if(isNil(inputValue)){return inputValue}var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(data){var checkFnSingle=function checkFnSingle(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result===inputValue};if($select.selected&&checkFnSingle($select.selected)){return $select.selected}for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i]}}return inputValue});scope.$watch("$select.selected",function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue)}});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item;var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:isNil(item)?item:$select.parserResult.modelMapper(scope,locals)})})});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);if(!skipFocusser)$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE&&$select.backspaceReset!==false){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return}if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return}$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:["^^uiSelect","^ngModel"],link:function link(scope,element,attrs,ctrls){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr("sort","Expected a list to sort")}var $select=ctrls[0];var $ngModel=ctrls[1];var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis;var draggingClassName="dragging";var droppingClassName="dropping";var droppingBeforeClassName="dropping-before";var droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(newValue){if(newValue){element.attr("draggable",true)}else{element.removeAttr("draggable")}});element.on("dragstart",function(event){element.addClass(draggingClassName);(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())});element.on("dragend",function(){removeClass(draggingClassName)});var move=function move(from,to){this.splice(to,0,this.splice(from,1)[0])};var removeClass=function removeClass(className){angular.forEach($select.$element.querySelectorAll("."+className),function(el){angular.element(el).removeClass(className)})};var dragOverHandler=function dragOverHandler(event){event.preventDefault();var offset=axis==="vertical"?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);if(offset<this[axis==="vertical"?"offsetHeight":"offsetWidth"]/2){removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function dropHandler(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function _dropHandler(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort);var itemToMove=theList[droppedItemIndex];var newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1}else{newIndex=scope.$index}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index}else{newIndex=scope.$index+1}}move.apply(theList,[droppedItemIndex,newIndex]);$ngModel.$setViewValue(Date.now());scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName)){return}element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(event){if(event.target!=element){return}removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.factory("$$uisDebounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise)}timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]);uis.directive("uisOpenClose",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",require:"uiSelect",link:function link(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose);scope.$watch("$select.open",function(isOpen,previousState){if(isOpen!==previousState){$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen})})}})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);if(filterMatch&&filterMatch[1].trim()){filters=filterMatch[1];source=source.replace(filters,"")}}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function repeatExpression(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");if(this.trackByExp){expression+=" track by "+this.trackByExp}return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>');$templateCache.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(258);module.exports="ui.select"},,function(module,exports,__webpack_require__){"use strict";var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/create-new-265bf7.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/curate-0f4b36.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/event-9df28d.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/forgot-password-c1f712.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/index-1edf53.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/master-7230aa.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/public-e0cbbd.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/login-93081f.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/privacy-5bfbbf.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/reset-password-80302b.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/select-media-f2b700.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/sign-up-4f221d.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/stories-cff199.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/story-effects-33f3d2.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/add-story-608eab.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/edit-story-a61977.html"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"./partials/termCondition-324ac9.html"},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},,function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(142)}],[299]);